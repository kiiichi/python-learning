function(v1,v2,v3,v2,v4,v2,v2,v2,v5,v2,v2,v2,v6) local v7=0;local v8;local v9;local v10;local v11;local v12;local v13;while true do if (v7==(3 + 0)) then if ((v3=="SPELL_CAST_SUCCESS") and aura_env.playerInCombat) then v8=WeakAuras.gcdDuration();v9=GetTime();aura_env.battleDuration=v9-aura_env.battleStartTime ;if ((aura_env.lastCast>0) and  not aura_env.stunInLastCast) then local v17=0;while true do if (v17==0) then v10=math.max(0 -0 ,(v9-aura_env.lastCast) -v8 );if (v10>(1065 -(68 + 997))) then local v30=1270 -(226 + 1044) ;while true do if (v30==(8 -6)) then aura_env.showPercent=v12;break;end if (v30==1) then if (aura_env.battleDuration>0) then v12=string.format("%.1f",((118 -(32 + 85)) -(aura_env.wasteGCDTime/aura_env.battleDuration)) * (99 + 1) );else v12="100.0";end aura_env.showTime=v11;v30=1 + 1 ;end if (v30==(957 -(892 + 65))) then aura_env.wasteGCDTime=aura_env.wasteGCDTime + v10 ;v11=string.format("%.2f",aura_env.wasteGCDTime);v30=2 -1 ;end end else end break;end end end aura_env.lastCast=v9;v13,v2=C_Spell.IsSpellUsable(113316 -52012 );if  not v13 then aura_env.stunInLastCast=true;else aura_env.stunInLastCast=false;end end return true;end if (v7==(1 -0)) then v11=350 -(87 + 263) ;v12=280 -(67 + 113) ;v13=true;v7=2 + 0 ;end if (v7==(0 -0)) then v8=1;v9=0 + 0 ;v10=0 -0 ;v7=953 -(802 + 150) ;end if (v7==(5 -3)) then if (v1=="PLAYER_REGEN_DISABLED") then if ( not aura_env.playerInCombat and UnitAffectingCombat("player")) then aura_env.playerInCombat=true;aura_env.showTime=0;aura_env.showPercent=181 -81 ;aura_env.wasteGCDTime=0 + 0 ;v9=GetTime();aura_env.battleStartTime=v9;aura_env.lastCast=v9;end end if (v1=="PLAYER_REGEN_ENABLED") then local v16=aura_env;C_Timer.After(1000 -(915 + 82) ,function() if  not UnitAffectingCombat("player") then local v26=0 -0 ;while true do if (v26==(1 + 0)) then v16.lastCast=0 -0 ;break;end if (v26==(1187 -(1069 + 118))) then v16.playerInCombat=false;v16.wasteGCDTime=0;v26=1;end end else end end);end if ((v3=="SPELL_CAST_SUCCESS") and (v4~=UnitGUID("player"))) then return true;end v7=6 -3 ;end end end;