function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.FullGCD;local v24=aura_env.TalentRank;local v25=aura_env.ids;aura_env.OutOfRange=false;local v27=WeakAuras.GetNumSetItemsEquipped(177 + 1695 );local v28=UnitPower("player",Enum.PowerType.ArcaneCharges);local v29=UnitPowerMax("player",Enum.PowerType.ArcaneCharges);local v30=UnitPower("player",Enum.PowerType.Mana);local v31=UnitPowerMax("player",Enum.PowerType.Mana);local v32=v9(v25.NetherPrecisionBuff);local v33=select(18 -9 ,UnitCastingInfo("player"));if (v33~=nil) then if (v33==v25.ArcaneBlast) then local v75=1975 -(1913 + 62) ;while true do if (v75==(1883 -(1668 + 215))) then v28=min(4,v28 + 1 + 0 );v32=max(0 -0 ,v32-(1 + 0) );break;end end end end local v34=0;local v35=558 -(114 + 404) ;for v44=489 -(106 + 382) ,54 -14  do local v45="nameplate"   .. v44 ;if (UnitExists(v45) and  not UnitIsFriend("player",v45) and WeakAuras.CheckRange(v45,v35,"<=") and (UnitAffectingCombat(v45) or aura_env.config['BypassCombatRequirement'])) then v34=v34 + (412 -(306 + 105)) ;end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v34);if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",ExtraGlows);v20("Clear",nil);v21("Clear",nil);return;end end local v36={};WeakAuras.ScanEvents("K_TRIGED_EXTRA",v36,nil);local v37={};v37.AoeTargetCount=4 -2 ;if  not IsPlayerSpell(v25.ArcingCleaveTalent) then v37.AoeTargetCount=865 -(564 + 292) ;end if ( not v12(v25.TouchOfTheMagiDebuff) and (v7(v25.TouchOfTheMagi)==0)) then v37.Opener=true;else aura_env.UsedOrb=false;aura_env.UsedMissiles=false;aura_env.UsedBarrage=false;v37.Opener=false;end v37.AoeList=aura_env.config['AoeList'];local v41=function() local v46=427 -(166 + 261) ;while true do if (v46==(510 -(289 + 218))) then if (v4(v25.ArcaneSurge) and (v7(v25.TouchOfTheMagi)<(max(C_Spell.GetSpellInfo(v25.ArcaneSurge).castTime/(2344 -(1213 + 131)) ,WeakAuras.gcdDuration()) + (max(1.5/(1 + 0 + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75 + 0 ) * (((v28==(14 -10)) and (3 -2)) or (859 -(814 + 45))))))) then if ((aura_env.config[tostring(v25.ArcaneSurge)]==true) and aura_env.FlagKTrigCD) then v21("Arcane Surge");elseif (aura_env.config[tostring(v25.ArcaneSurge)]~=true) then local v81=0 + 0 ;while true do if (v81==0) then v20("Arcane Surge");return true;end end end end break;end if (v46==(0 -0)) then if (v3(v25.TouchOfTheMagi) and ((true and (v11(v25.ArcaneSurgeBuff) or v8(v25.ArcaneSurge) or (v7(v25.ArcaneSurge)>30))) or (((aura_env.PrevCast==v25.ArcaneSurge) or v8(v25.ArcaneSurge)) and ((v28<(1 + 3)) or (v32==(1613 -(1565 + 48))))) or ((v7(v25.ArcaneSurge)>(11 + 19)) and v3(v25.TouchOfTheMagi) and (v28<(889 -(261 + 624))) and  not ((aura_env.PrevCast==v25.ArcaneBarrage) or v8(v25.ArcaneBarrage))))) then if ((aura_env.config[tostring(v25.TouchOfTheMagi)]==true) and aura_env.FlagKTrigCD) then v21("Touch Of The Magi");elseif (aura_env.config[tostring(v25.TouchOfTheMagi)]~=true) then local v82=0 -0 ;while true do if (v82==(1080 -(1020 + 60))) then v20("Touch Of The Magi");return true;end end end end if (v3(v25.ArcaneBlast) and (v11(v25.PresenceOfMind))) then local v76=1423 -(630 + 793) ;while true do if (v76==0) then v20("Arcane Blast");return true;end end end v46=3 -2 ;end if (v46==(4 -2)) then if (v3(v25.Evocation) and (v7(v25.ArcaneSurge)<(max((4.5 -3)/(1 + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75 -0 ) * (1750 -(760 + 987)))) and (v7(v25.TouchOfTheMagi)<(max((1914.5 -(1789 + 124))/((767 -(745 + 21)) + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75 -0 ) * 5))) then if ((aura_env.config[tostring(v25.Evocation)]==true) and aura_env.FlagKTrigCD) then v21("Evocation");elseif (aura_env.config[tostring(v25.Evocation)]~=true) then local v83=0 -0 ;while true do if (v83==0) then v20("Evocation");return true;end end end end if (v3(v25.ArcaneMissiles) and  not aura_env.UsedMissiles and ((aura_env.PrevCast==v25.Evocation) or v8(v25.Evocation) or (aura_env.PrevCast==v25.ArcaneSurge) or v8(v25.ArcaneSurge) or v37.Opener) and (v32==(1018 -(697 + 321))) and ( not v11(v25.AetherAttunementBuff) or (v27>=(1 + 3)))) then local v77=0 -0 ;while true do if ((0 + 0)==v77) then v20("Arcane Missiles");return true;end end end v46=1058 -(87 + 968) ;end if (v46==(4 -3)) then if (v3(v25.ArcaneOrb) and IsPlayerSpell(v25.HighVoltageTalent) and v37.Opener and  not aura_env.UsedOrb) then if ((aura_env.config[tostring(v25.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v21("Arcane Orb");elseif (aura_env.config[tostring(v25.ArcaneOrb)]~=true) then local v84=0;while true do if ((0 + 0)==v84) then v20("Arcane Orb");return true;end end end end if (v3(v25.ArcaneBarrage) and v37.Opener and  not aura_env.UsedBarrage and v11(v25.ArcaneTempoBuff) and v3(v25.Evocation) and (v5("player",v25.ArcaneTempoBuff)<(max((2.5 -1)/((1414 -(447 + 966)) + ((1189.01 -(449 + 740)) * UnitSpellHaste("player"))) ,872.75 -(826 + 46) ) * (952 -(245 + 702))))) then local v78=0 -0 ;while true do if (0==v78) then v20("Arcane Barrage");return true;end end end v46=1819 -(1703 + 114) ;end end end;local v42=function() if (v3(v25.ShiftingPower) and (((((C_Spell.GetSpellCharges(v25.ArcaneOrb).currentCharges==((IsPlayerSpell(v25.ChargedOrbTalent) and (702 -(376 + 325))) or (0 -0))) and v7(v25.ArcaneOrb)) or (v7(v25.TouchOfTheMagi)<(70 -47))) and (v11(v25.ArcaneSurgeBuff)==false) and (v11(v25.SiphonStormBuff)==false) and (v12(v25.TouchOfTheMagiDebuff)==false) and ( not v11(v25.IntuitionBuff) or (v11(v25.IntuitionBuff) and (v5("player",v25.IntuitionBuff)>(1.5 + 2)))) and (v7(v25.TouchOfTheMagi)>((26 -14) + ((20 -(9 + 5)) * max((2.5 -1)/((1206 -(902 + 303)) + ((376.01 -(85 + 291)) * UnitSpellHaste("player"))) ,1265.75 -(243 + 1022) ))))) or (((aura_env.PrevCast==v25.ArcaneBarrage) or v8(v25.ArcaneBarrage)) and IsPlayerSpell(v25.ShiftingShardsTalent) and ( not v11(v25.IntuitionBuff) or (v11(v25.IntuitionBuff) and (v5("player",v25.IntuitionBuff)>(6.5 -3)))) and (v11(v25.ArcaneSurgeBuff) or v12(v25.TouchOfTheMagiDebuff) or (v7(v25.Evocation)<(76 -56))))) and (v18(50 + 10 ,v35)>(1 + 9)) and ((v5("player",v25.ArcaneTempoBuff)>(max((1181.5 -(1123 + 57))/(1 + 0 + (0.01 * UnitSpellHaste("player"))) ,254.75 -(163 + 91) ) * (1932.5 -(1869 + 61)))) or (v11(v25.ArcaneTempoBuff)==false))) then if ((aura_env.config[tostring(v25.ShiftingPower)]==true) and aura_env.FlagKTrigCD) then v21("Shifting Power");elseif (aura_env.config[tostring(v25.ShiftingPower)]~=true) then v20("Shifting Power");return true;end end if (v3(v25.Supernova) and (v6("target",v25.TouchOfTheMagiDebuff)<=max((1.5 + 0)/((3 -2) + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75 + 0 )) and (v9(v25.UnerringProficiencyBuff)==(41 -11))) then if ((aura_env.config[tostring(v25.Supernova)]==true) and aura_env.FlagKTrigCD) then v21("Supernova");elseif (aura_env.config[tostring(v25.Supernova)]~=true) then v20("Supernova");return true;end end if (v3(v25.ArcaneBarrage) and ((v11(v25.ArcaneTempoBuff) and (v5("player",v25.ArcaneTempoBuff)<(max((1.5 + 0)/((3 -2) + ((1474.01 -(1329 + 145)) * UnitSpellHaste("player"))) ,0.75 -0 ) + (max((972.5 -(140 + 831))/((1851 -(1409 + 441)) + ((718.01 -(15 + 703)) * UnitSpellHaste("player"))) ,0.75 + 0 ) * (440 -(262 + 176)) * (((v32==(1722 -(345 + 1376))) and (689 -(198 + 490))) or (0 -0)))))) or (v11(v25.IntuitionBuff) and (v5("player",v25.IntuitionBuff)<max((4.5 -3)/(1 + 0 + ((0.01 -0) * UnitSpellHaste("player"))) ,1206.75 -(696 + 510) ))))) then local v53=0 -0 ;while true do if ((1262 -(1091 + 171))==v53) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and (v9(v25.ArcaneHarmonyBuff)>=((3 + 15) -((169 -(92 + 71)) * ((IsPlayerSpell(v25.HighVoltageTalent) and 1) or (0 + 0))))) and ((v32==(0 -0)) or (v32==(3 -2)) or ((v34>(3 + 0)) and v11(v25.ClearcastingBuff) and IsPlayerSpell(v25.HighVoltageTalent)))) then local v54=0 -0 ;while true do if ((374 -(123 + 251))==v54) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneMissiles) and v11(v25.AetherAttunementBuff) and (v7(v25.TouchOfTheMagi)<(max((4.5 -3)/((699 -(208 + 490)) + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75 + 0 ) * (839 -(660 + 176)))) and v11(v25.ClearcastingBuff) and (v27>=(1 + 3))) then local v55=0 -0 ;while true do if (v55==(202 -(14 + 188))) then v20("Arcane Missiles");return true;end end end if (v3(v25.ArcaneBarrage) and IsPlayerSpell(v25.HighVoltageTalent) and IsPlayerSpell(v25.OrbBarrageTalent) and (v28>(676 -(534 + 141))) and v11(v25.ClearcastingBuff) and v11(v25.AetherAttunementBuff) and ((v32==(1 + 0)) or ((v32>(0 + 0)) and (v34>(1 + 0))) or (((v32>(0 + 0)) or ((v9(v25.ClearcastingBuff)<(6 -3)) and  not v11(v25.IntuitionBuff))) and (v34>(4 -1))))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneMissiles) and ((v11(v25.ClearcastingBuff) and (v32==(0 -0)) and (((v7(v25.TouchOfTheMagi)>(max((1.5 + 0)/(1 + 0 + (0.01 * UnitSpellHaste("player"))) ,0.75) * (5 + 2))) and (v7(v25.ArcaneSurge)>(max(1.5/((397 -(115 + 281)) + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75 + 0 ) * (16 -9)))) or (v9(v25.ClearcastingBuff)>(98 -(11 + 86))) or  not IsPlayerSpell(v25.MagisSparkTalent) or ((v7(v25.TouchOfTheMagi)<(max((3.5 -2)/(1 + ((867.01 -(550 + 317)) * UnitSpellHaste("player"))) ,0.75 -0 ) * 4)) and (v9(v25.AetherAttunementBuff)==(0 -0))) or (v27>=(11 -7)))) or ((v18(345 -(134 + 151) ,v35)<5) and v11(v25.ClearcastingBuff)))) then v20("Arcane Missiles");return true;end if (v3(v25.ArcaneBlast) and ((aura_env.NeedArcaneBlastSpark and ((v6("target",v25.TouchOfTheMagiDebuff)<((C_Spell.GetSpellInfo(v25.ArcaneBlast).castTime/(2665 -(970 + 695))) + max((1.5 -0)/((1991 -(582 + 1408)) + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75 + 0 ))) or (v34<=(1 -0)) or IsPlayerSpell(v25.LeydrinkerTalent))) or v11(v25.LeydrinkerBuff)) and (v28==(15 -11)) and  not IsPlayerSpell(v25.ChargedOrbTalent) and (v34<(1 + 2))) then v20("Arcane Blast");return true;end if (v3(v25.ArcaneBarrage) and IsPlayerSpell(v25.OrbBarrageTalent) and (v34>(1825 -(1195 + 629))) and ((aura_env.NeedArcaneBlastSpark==false) or  not IsPlayerSpell(v25.MagisSparkTalent)) and (v28==(5 -1)) and ((IsPlayerSpell(v25.HighVoltageTalent) and (v34>(535 -(43 + 490)))) or (v7(v25.TouchOfTheMagi)>(max((242.5 -(187 + 54))/(1 + ((780.01 -(162 + 618)) * UnitSpellHaste("player"))) ,0.75 + 0 ) * (4 + 2))) or  not IsPlayerSpell(v25.MagisSparkTalent) or (IsPlayerSpell(v25.ChargedOrbTalent) and (v14(v25.ArcaneOrb)>(1.8 -0))))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneBarrage) and (v34>(1 + 0)) and ((aura_env.NeedArcaneBlastSpark==false) or  not IsPlayerSpell(v25.MagisSparkTalent)) and (v28==(6 -2)) and ((v7(v25.ArcaneOrb)<max((1.5 + 0)/((1745 -(1344 + 400)) + ((0.01 + 0) * UnitSpellHaste("player"))) ,1636.75 -(1373 + 263) )) or ((((UnitHealth("target")/UnitHealthMax("target")) * (1100 -(451 + 549)))<(149 -114)) and IsPlayerSpell(v25.ArcaneBombardmentTalent))) and ((v32==(1 + 0)) or ((v32==(0 -0)) and IsPlayerSpell(v25.HighVoltageTalent)) or ((v32==(2 -0)) and (((UnitHealth("target")/UnitHealthMax("target")) * (1484 -(746 + 638)))<(14 + 21)) and IsPlayerSpell(v25.ArcaneBombardmentTalent) and IsPlayerSpell(v25.HighVoltageTalent))) and ((v7(v25.TouchOfTheMagi)>(max((1.5 -0)/(1 + ((341.01 -(218 + 123)) * UnitSpellHaste("player"))) ,1581.75 -(1535 + 46) ) * (6 + 0))) or (IsPlayerSpell(v25.ChargedOrbTalent) and (v14(v25.ArcaneOrb)>(1.8 + 0))))) then local v56=0 + 0 ;while true do if (v56==0) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneMissiles) and IsPlayerSpell(v25.HighVoltageTalent) and ((v9(v25.ClearcastingBuff)>1) or (v11(v25.ClearcastingBuff) and v11(v25.AetherAttunementBuff))) and (v28<(563 -(306 + 254)))) then v20("Arcane Missiles");return true;end if (v3(v25.ArcaneOrb) and (((v34<=(1 + 0)) and (v28<(5 -2))) or (v28<(1468 -(899 + 568))) or ((v28<(2 + 0)) and IsPlayerSpell(v25.HighVoltageTalent)))) then if ((aura_env.config[tostring(v25.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v21("Arcane Orb");elseif (aura_env.config[tostring(v25.ArcaneOrb)]~=true) then local v79=0 -0 ;while true do if (v79==(1493 -(711 + 782))) then v20("Arcane Orb");return true;end end end end if (v3(v25.ArcaneBarrage) and (v11(v25.IntuitionBuff))) then local v57=603 -(268 + 335) ;while true do if (v57==(290 -(60 + 230))) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and (v34<=(573 -(426 + 146))) and IsPlayerSpell(v25.HighVoltageTalent) and (v28==(1 + 3)) and v11(v25.ClearcastingBuff) and (v32==(1457 -(282 + 1174))) and (v11(v25.AetherAttunementBuff) or ((((UnitHealth("target")/UnitHealthMax("target")) * (911 -(569 + 242)))<(100 -65)) and IsPlayerSpell(v25.ArcaneBombardmentTalent)))) then local v58=0 + 0 ;while true do if (v58==(0 -0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and (v7(v25.ArcaneOrb)<max((1.5 + 0)/(1 + 0 + ((1024.01 -(706 + 318)) * UnitSpellHaste("player"))) ,1251.75 -(721 + 530) )) and (v28==(1275 -(945 + 326))) and (v32==(0 -0)) and IsPlayerSpell(v25.OrbBarrageTalent) and ((v7(v25.TouchOfTheMagi)>(max((1.5 + 0)/((1168 -(645 + 522)) + ((700.01 -(271 + 429)) * UnitSpellHaste("player"))) ,0.75 + 0 ) * (1506 -(1408 + 92)))) or  not IsPlayerSpell(v25.MagisSparkTalent))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneBarrage) and (v34<=(1087 -(461 + 625))) and (IsPlayerSpell(v25.OrbBarrageTalent) or ((((UnitHealth("target")/UnitHealthMax("target")) * (293 -193))<(1871 -(1045 + 791))) and IsPlayerSpell(v25.ArcaneBombardmentTalent))) and (v7(v25.ArcaneOrb)<max((1289.5 -(993 + 295))/((2 -1) + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75 + 0 )) and (v28==(1578 -(1281 + 293))) and ((v7(v25.TouchOfTheMagi)>(max((1172.5 -(418 + 753))/(1 + 0 + (0.01 * UnitSpellHaste("player"))) ,0.75 + 0 ) * (12 -6))) or  not IsPlayerSpell(v25.MagisSparkTalent)) and ((v32==(0 + 0)) or ((v32==(1 + 0)) and (v9(v25.ClearcastingBuff)==(0 + 0))))) then local v59=529 -(406 + 123) ;while true do if (v59==(1769 -(1749 + 20))) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneExplosion) and WeakAuras.CheckRange("target",3 + 7 ,"<=") and (v34>(1 + 0)) and (((v28<1) and  not IsPlayerSpell(v25.HighVoltageTalent)) or ((v28<(10 -7)) and ((v9(v25.ClearcastingBuff)==(0 + 0)) or IsPlayerSpell(v25.ReverberateTalent))))) then local v60=470 -(381 + 89) ;while true do if (v60==(0 + 0)) then v20("Arcane Explosion");return true;end end end if (v3(v25.ArcaneExplosion) and WeakAuras.CheckRange("target",1332 -(1249 + 73) ,"<=") and (v34==(1 -0)) and (v28<(1158 -(1074 + 82))) and  not v11(v25.ClearcastingBuff) and (((v30/v31) * (36 + 64))>(1155 -(466 + 679)))) then v20("Arcane Explosion");return true;end if (v3(v25.ArcaneBarrage) and (((((UnitHealth("target")/UnitHealthMax("target")) * (240 -140))<(1819 -(214 + 1570))) and (v6("target",v25.TouchOfTheMagiDebuff)<(max((2.5 -1)/((1456 -(990 + 465)) + ((1900.01 -(106 + 1794)) * UnitSpellHaste("player"))) ,0.75 + 0 ) * (1.25 + 0))) and (v6("target",v25.TouchOfTheMagiDebuff)>(0.75 + 0))) or ((v5("player",v25.ArcaneSurgeBuff)<max((2.5 -1)/((2 -1) + ((0.01 -0) * UnitSpellHaste("player"))) ,1726.75 -(1668 + 58) )) and v11(v25.ArcaneSurgeBuff))) and (v28==(118 -(4 + 110)))) then v20("Arcane Barrage");return true;end if v3(v25.ArcaneBlast) then local v61=0;while true do if (v61==(584 -(57 + 527))) then v20("Arcane Blast");return true;end end end if v3(v25.ArcaneBarrage) then local v62=1427 -(41 + 1386) ;while true do if (v62==(103 -(17 + 86))) then v20("Arcane Barrage");return true;end end end end;local v43=function() if (v3(v25.ShiftingPower) and (v11(v25.ArcaneSurgeBuff)==false) and (v11(v25.SiphonStormBuff)==false) and (v12(v25.TouchOfTheMagiDebuff)==false) and (v7(v25.Evocation)>(11 + 4)) and (v7(v25.TouchOfTheMagi)>(34 -24)) and (v18(28 + 32 ,v35)>(22 -12)) and (v11(v25.ArcaneSoulBuff)==false) and ( not v11(v25.IntuitionBuff) or (v11(v25.IntuitionBuff) and (v5("player",v25.IntuitionBuff)>(8.5 -5))))) then if ((aura_env.config[tostring(v25.ShiftingPower)]==true) and aura_env.FlagKTrigCD) then v21("Shifting Power");elseif (aura_env.config[tostring(v25.ShiftingPower)]~=true) then v20("Shifting Power");return true;end end if (v3(v25.ArcaneMissiles) and (v32==(166 -(122 + 44))) and v11(v25.ClearcastingBuff) and v11(v25.ArcaneSoulBuff) and (v5("player",v25.ArcaneSoulBuff)>(max((3.5 -2)/((1995 -(109 + 1885)) + ((1469.01 -(1269 + 200)) * UnitSpellHaste("player"))) ,0.75 -0 ) * (4 -((v11(v25.ClearcastingBuff) and (1 -0)) or (0 -0)))))) then v20("Arcane Missiles");return true;end if (v3(v25.ArcaneBarrage) and (v11(v25.ArcaneSoulBuff))) then local v63=0 + 0 ;while true do if (v63==(0 -0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and ((v11(v25.ArcaneTempoBuff) and (v5("player",v25.ArcaneTempoBuff)<max(1.5/(1 + 0 + ((0.01 -0) * UnitSpellHaste("player"))) ,65.75 -(30 + 35) ))) or (v11(v25.IntuitionBuff) and (v5("player",v25.IntuitionBuff)<max(1.5/(1 + 0 + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75 + 0 ))))) then local v64=1257 -(1043 + 214) ;while true do if (v64==(0 -0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and IsPlayerSpell(v25.OrbBarrageTalent) and (v34>(3 -2)) and (v9(v25.ArcaneHarmonyBuff)>=(7 + 11)) and (((v34>(2 + 1)) and (IsPlayerSpell(v25.ResonanceTalent) or IsPlayerSpell(v25.HighVoltageTalent))) or (v32==(0 -0)) or (v32==(1213 -(323 + 889))) or ((v32==(5 -3)) and (v9(v25.ClearcastingBuff)==(583 -(361 + 219)))))) then local v65=320 -(53 + 267) ;while true do if (v65==(0 + 0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneMissiles) and v11(v25.ClearcastingBuff) and (v27>=4) and v11(v25.AetherAttunementBuff) and (v7(v25.TouchOfTheMagi)<(max((414.5 -(15 + 398))/((983 -(18 + 964)) + ((1619.01 -(1427 + 192)) * UnitSpellHaste("player"))) ,0.75 + 0 ) * ((6 -3) -((1.5 + 0) * ((v34>(11 -8)) and ( not IsPlayerSpell(v25.TimeLoopTalent) or IsPlayerSpell(v25.ResonanceTalent)))))))) then local v66=0 + 0 ;while true do if (v66==(326 -(192 + 134))) then v20("Arcane Missiles");return true;end end end if (v3(v25.ArcaneBlast) and ((aura_env.NeedArcaneBlastSpark and ((v6("target",v25.TouchOfTheMagiDebuff)<((C_Spell.GetSpellInfo(v25.ArcaneBlast).castTime/(631 + 369)) + max((851.5 -(20 + 830))/(1 + 0 + ((126.01 -(116 + 10)) * UnitSpellHaste("player"))) ,0.75 + 0 ))) or (v34<=1) or IsPlayerSpell(v25.LeydrinkerTalent))) or v11(v25.LeydrinkerBuff)) and (v28==(742 -(542 + 196))) and ((v32>(0 -0)) or (v9(v25.ClearcastingBuff)==(0 + 0)))) then local v67=0;while true do if (v67==(0 + 0)) then v20("Arcane Blast");return true;end end end if (v3(v25.ArcaneBarrage) and (v28==(3 + 1)) and (v3(v25.TouchOfTheMagi) or (v7(v25.TouchOfTheMagi)<min(0.75 + 0 + (131 -81) ,max((2.5 -1)/((1552 -(1126 + 425)) + ((405.01 -(118 + 287)) * UnitSpellHaste("player"))) ,0.75 -0 ))))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneBarrage) and IsPlayerSpell(v25.HighVoltageTalent) and (v34>(326 -(45 + 280))) and (v28==(4 + 0)) and v11(v25.ClearcastingBuff) and (v32==(1 + 0))) then local v68=1121 -(118 + 1003) ;while true do if ((0 -0)==v68) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and (v34>(1 + 0)) and IsPlayerSpell(v25.HighVoltageTalent) and (v28==(381 -(142 + 235))) and v11(v25.ClearcastingBuff) and v11(v25.AetherAttunementBuff) and (v11(v25.GloriousIncandescenceBuff)==false) and (v11(v25.IntuitionBuff)==false)) then local v69=0 -0 ;while true do if ((0 + 0)==v69) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and (v34>(1913 -(340 + 1571))) and IsPlayerSpell(v25.OrbBarrageTalent) and IsPlayerSpell(v25.HighVoltageTalent) and  not aura_env.NeedArcaneBlastSpark and (v28==(981 -(553 + 424))) and (((UnitHealth("target")/UnitHealthMax("target")) * (189 -89))<(96 -61)) and IsPlayerSpell(v25.ArcaneBombardmentTalent) and ((v32>(0 + 0)) or ((v32==0) and (v9(v25.ClearcastingBuff)==(1948 -(1096 + 852)))))) then local v70=0 + 0 ;while true do if (v70==(0 + 0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and ((v34>(2 + 0)) or ((v34>(1 + 0)) and (((UnitHealth("target")/UnitHealthMax("target")) * (58 + 42))<(75 -40)) and IsPlayerSpell(v25.ArcaneBombardmentTalent))) and (v7(v25.ArcaneOrb)<max((237.5 -(46 + 190))/((2 -1) + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75 + 0 )) and (v28==(1321 -(1114 + 203))) and (v7(v25.TouchOfTheMagi)>(max((4.5 -3)/((754 -(239 + 514)) + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75 + 0 ) * (1335 -(797 + 532)))) and ( not aura_env.NeedArcaneBlastSpark or  not IsPlayerSpell(v25.MagisSparkTalent)) and (v32>(0 + 0)) and (IsPlayerSpell(v25.HighVoltageTalent) or (v32==(1 + 1)) or ((v32==(2 -1)) and  not v11(v25.ClearcastingBuff)))) then local v71=1202 -(373 + 829) ;while true do if (v71==(731 -(476 + 255))) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneMissiles) and v11(v25.ClearcastingBuff) and ((IsPlayerSpell(v25.HighVoltageTalent) and (v28<(1134 -(369 + 761)))) or (v32==(0 + 0)) or ((v9(v25.ClearcastingBuff)==(5 -2)) and ( not IsPlayerSpell(v25.HighVoltageTalent) or (v34<=(1 -0)))))) then local v72=238 -(64 + 174) ;while true do if (v72==(0 -0)) then v20("Arcane Missiles");return true;end end end if (v3(v25.ArcaneBarrage) and (v28==(1 + 3)) and (v34>1) and (v34<(5 + 0)) and v11(v25.BurdenOfPowerBuff) and ((IsPlayerSpell(v25.HighVoltageTalent) and v11(v25.ClearcastingBuff)) or v11(v25.GloriousIncandescenceBuff) or v11(v25.IntuitionBuff) or (v7(v25.ArcaneOrb)<max((1.5 -0)/((3 -2) + ((336.01 -(144 + 192)) * UnitSpellHaste("player"))) ,216.75 -(42 + 174) )) or (C_Spell.GetSpellCharges(v25.ArcaneOrb).currentCharges>(0 -0))) and ( not IsPlayerSpell(v25.ConsortiumsBaubleTalent) or IsPlayerSpell(v25.HighVoltageTalent))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneOrb) and (v28<(3 + 0))) then if ((aura_env.config[tostring(v25.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v21("Arcane Orb");elseif (aura_env.config[tostring(v25.ArcaneOrb)]~=true) then local v80=0 + 0 ;while true do if ((1248 -(111 + 1137))==v80) then v20("Arcane Orb");return true;end end end end if (v3(v25.ArcaneBarrage) and ((v11(v25.GloriousIncandescenceBuff) and ((v7(v25.TouchOfTheMagi)>(164 -(91 + 67))) or  not IsPlayerSpell(v25.MagisSparkTalent))) or v11(v25.IntuitionBuff))) then local v73=0 -0 ;while true do if ((0 + 0)==v73) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneExplosion) and (v28<(1 + 1)) and (v34>(1505 -(363 + 1141)))) then local v74=0 + 0 ;while true do if (v74==(1580 -(1183 + 397))) then v20("Arcane Explosion");return true;end end end if v3(v25.ArcaneBlast) then v20("Arcane Blast");return true;end if v3(v25.ArcaneBarrage) then v20("Arcane Barrage");return true;end end;if (v3(v25.ArcaneBarrage) and (v18(182 -122 ,v35)<(2 + 0))) then v20("Arcane Barrage");return true;end if v41() then return true;end if IsPlayerSpell(v25.SpellfireSpheresTalent) then if v43() then return true;end end if  not IsPlayerSpell(v25.SpellfireSpheresTalent) then if v42() then return true;end end if v3(v25.ArcaneBarrage) then v20("Arcane Barrage");return true;end v20("Clear");end;