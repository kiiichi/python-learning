function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.FullGCD;local v24=aura_env.TalentRank;local v25=aura_env.ids;aura_env.OutOfRange=false;local v27=WeakAuras.GetNumSetItemsEquipped(2771 -899 );local v28=UnitPower("player",Enum.PowerType.ArcaneCharges);local v29=UnitPowerMax("player",Enum.PowerType.ArcaneCharges);local v30=UnitPower("player",Enum.PowerType.Mana);local v31=UnitPowerMax("player",Enum.PowerType.Mana);local v32=v9(v25.NetherPrecisionBuff);local v33=select(9,UnitCastingInfo("player"));if (v33~=nil) then if (v33==v25.ArcaneBlast) then v28=min(3 + 1 ,v28 + 1 );v32=max(0 -0 ,v32-(19 -(10 + 8)) );end end local v34=0 -0 ;local v35=482 -(416 + 26) ;for v44=3 -2 ,18 + 22  do local v45=0 -0 ;local v46;while true do if (v45==(438 -(145 + 293))) then v46="nameplate"   .. v44 ;if (UnitExists(v46) and  not UnitIsFriend("player",v46) and WeakAuras.CheckRange(v46,v35,"<=") and (UnitAffectingCombat(v46) or aura_env.config['BypassCombatRequirement'])) then v34=v34 + (431 -(44 + 386)) ;end break;end end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v34);if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then local v74=0 + 0 ;while true do if (v74==(1487 -(998 + 488))) then v21("Clear",nil);return;end if (v74==0) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",ExtraGlows);v20("Clear",nil);v74=1 + 0 ;end end end end local v36={};WeakAuras.ScanEvents("K_TRIGED_EXTRA",v36,nil);local v37={};v37.AoeTargetCount=2;if  not IsPlayerSpell(v25.ArcingCleaveTalent) then v37.AoeTargetCount=6 + 3 ;end if ( not v12(v25.TouchOfTheMagiDebuff) and (v7(v25.TouchOfTheMagi)==(0 + 0))) then v37.Opener=true;else local v49=772 -(201 + 571) ;while true do if (v49==(1139 -(116 + 1022))) then aura_env.UsedBarrage=false;v37.Opener=false;break;end if (v49==0) then aura_env.UsedOrb=false;aura_env.UsedMissiles=false;v49=4 -3 ;end end end v37.AoeList=aura_env.config['AoeList'];local v41=function() if (v3(v25.TouchOfTheMagi) and ((true and ((v5("player",v25.ArcaneSurgeBuff)>(3 + 2)) or v8(v25.ArcaneSurge) or (v7(v25.ArcaneSurge)>(1691 -(1477 + 184))))) or (((aura_env.PrevCast==v25.ArcaneSurge) or v8(v25.ArcaneSurge)) and ((v28<(5 -1)) or (v32==(0 -0)))) or ((v7(v25.ArcaneSurge)>(106 -76)) and v3(v25.TouchOfTheMagi) and (v28<(863 -(814 + 45))) and  not ((aura_env.PrevCast==v25.ArcaneBarrage) or v8(v25.ArcaneBarrage))))) then if ((aura_env.config[tostring(v25.TouchOfTheMagi)]==true) and aura_env.FlagKTrigCD) then v21("Touch Of The Magi");elseif (aura_env.config[tostring(v25.TouchOfTheMagi)]~=true) then v20("Touch Of The Magi");return true;end end if (v3(v25.ArcaneBlast) and (v11(v25.PresenceOfMind))) then v20("Arcane Blast");return true;end if (v3(v25.ArcaneOrb) and IsPlayerSpell(v25.HighVoltageTalent) and v37.Opener and  not aura_env.UsedOrb) then if ((aura_env.config[tostring(v25.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v21("Arcane Orb");elseif (aura_env.config[tostring(v25.ArcaneOrb)]~=true) then v20("Arcane Orb");return true;end end if (v3(v25.ArcaneBarrage) and v37.Opener and  not aura_env.UsedBarrage and v11(v25.ArcaneTempoBuff) and v3(v25.Evocation) and (v5("player",v25.ArcaneTempoBuff)<(max((2.5 -1)/(1 + 0 + ((0.01 + 0) * UnitSpellHaste("player"))) ,885.75 -(261 + 624) ) * (8 -3)))) then local v51=1080 -(1020 + 60) ;while true do if (v51==(304 -(244 + 60))) then v20("Arcane Barrage");return true;end end end if (v3(v25.Evocation) and (v7(v25.ArcaneSurge)<(max((1424.5 -(630 + 793))/((3 -2) + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75 + 0 ) * 3)) and (v7(v25.TouchOfTheMagi)<(max((3.5 -2)/(1 + 0 + ((1125.01 -(936 + 189)) * UnitSpellHaste("player"))) ,1747.75 -(760 + 987) ) * (1918 -(1789 + 124))))) then if ((aura_env.config[tostring(v25.Evocation)]==true) and aura_env.FlagKTrigCD) then v21("Evocation");elseif (aura_env.config[tostring(v25.Evocation)]~=true) then v20("Evocation");return true;end end if (v3(v25.ArcaneMissiles) and  not aura_env.UsedMissiles and ((aura_env.PrevCast==v25.Evocation) or v8(v25.Evocation) or (aura_env.PrevCast==v25.ArcaneSurge) or v8(v25.ArcaneSurge) or v37.Opener) and (v32==(766 -(745 + 21))) and ( not v11(v25.AetherAttunementBuff) or (v27>=(2 + 2)))) then v20("Arcane Missiles");return true;end if (v4(v25.ArcaneSurge) and ((v7(v25.TouchOfTheMagi)<(max(C_Spell.GetSpellInfo(v25.ArcaneSurge).castTime/(2613 -(1565 + 48)) ,WeakAuras.gcdDuration()) + (max((1.5 + 0)/((2 -1) + (0.01 * UnitSpellHaste("player"))) ,1138.75 -(782 + 356) ) * (((v28==(15 -11)) and (1 + 0)) or (0 + 0))))) or v12(v25.TouchOfTheMagiDebuff))) then if ((aura_env.config[tostring(v25.ArcaneSurge)]==true) and aura_env.FlagKTrigCD) then v21("Arcane Surge");elseif (aura_env.config[tostring(v25.ArcaneSurge)]~=true) then local v79=1055 -(87 + 968) ;while true do if (v79==(0 -0)) then v20("Arcane Surge");return true;end end end end end;local v42=function() if (v3(v25.ShiftingPower) and (((((C_Spell.GetSpellCharges(v25.ArcaneOrb).currentCharges==((IsPlayerSpell(v25.ChargedOrbTalent) and (1 + 0)) or (0 -0))) and v7(v25.ArcaneOrb)) or (v7(v25.TouchOfTheMagi)<(19 + 4))) and (v11(v25.ArcaneSurgeBuff)==false) and (v11(v25.SiphonStormBuff)==false) and (v12(v25.TouchOfTheMagiDebuff)==false) and ( not v11(v25.IntuitionBuff) or (v11(v25.IntuitionBuff) and (v5("player",v25.IntuitionBuff)>(1416.5 -(447 + 966))))) and (v7(v25.TouchOfTheMagi)>((32 -20) + ((1024 -(697 + 321)) * max((1818.5 -(1703 + 114))/((702 -(376 + 325)) + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75 -0 ))))) or (((aura_env.PrevCast==v25.ArcaneBarrage) or v8(v25.ArcaneBarrage)) and IsPlayerSpell(v25.ShiftingShardsTalent) and ( not v11(v25.IntuitionBuff) or (v11(v25.IntuitionBuff) and (v5("player",v25.IntuitionBuff)>(1.5 + 2)))) and (v11(v25.ArcaneSurgeBuff) or v12(v25.TouchOfTheMagiDebuff) or (v7(v25.Evocation)<(37 -17))))) and (v18(160 -100 ,v35)>(22 -12)) and ((v5("player",v25.ArcaneTempoBuff)>(max((15.5 -(9 + 5))/((377 -(85 + 291)) + ((1265.01 -(243 + 1022)) * UnitSpellHaste("player"))) ,1189.75 -(449 + 740) ) * (7.5 -5))) or (v11(v25.ArcaneTempoBuff)==false))) then if ((aura_env.config[tostring(v25.ShiftingPower)]==true) and aura_env.FlagKTrigCD) then v21("Shifting Power");elseif (aura_env.config[tostring(v25.ShiftingPower)]~=true) then local v80=0 + 0 ;while true do if ((0 -0)==v80) then v20("Shifting Power");return true;end end end end if (v3(v25.Supernova) and (v6("target",v25.TouchOfTheMagiDebuff)<=max(1.5/(1 + 0 + ((1180.01 -(1123 + 57)) * UnitSpellHaste("player"))) ,0.75 + 0 )) and (v9(v25.UnerringProficiencyBuff)==(96 -66))) then if ((aura_env.config[tostring(v25.Supernova)]==true) and aura_env.FlagKTrigCD) then v21("Supernova");elseif (aura_env.config[tostring(v25.Supernova)]~=true) then v20("Supernova");return true;end end if (v3(v25.ArcaneBarrage) and ((v11(v25.ArcaneTempoBuff) and (v5("player",v25.ArcaneTempoBuff)<(max((255.5 -(163 + 91))/((1931 -(1869 + 61)) + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75 -0 ) + (max((1.5 + 0)/((1 -0) + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75 -0 ) * (1 + 1) * (((v32==(1 -0)) and (1 + 0)) or (1474 -(1329 + 145))))))) or (v11(v25.IntuitionBuff) and (v5("player",v25.IntuitionBuff)<max((1464.5 -(1404 + 59))/((972 -(140 + 831)) + ((1850.01 -(1409 + 441)) * UnitSpellHaste("player"))) ,718.75 -(15 + 703) ))))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneBarrage) and (v9(v25.ArcaneHarmonyBuff)>=((9 + 9) -((444 -(262 + 176)) * ((IsPlayerSpell(v25.HighVoltageTalent) and (766 -(468 + 297))) or (1721 -(345 + 1376)))))) and ((v32==0) or (v32==(3 -2)) or ((v34>(691 -(198 + 490))) and v11(v25.ClearcastingBuff) and IsPlayerSpell(v25.HighVoltageTalent)))) then local v52=0 -0 ;while true do if (v52==(0 -0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneMissiles) and v11(v25.AetherAttunementBuff) and (v7(v25.TouchOfTheMagi)<(max(1.5/((2 -1) + ((1206.01 -(696 + 510)) * UnitSpellHaste("player"))) ,0.75) * (239 -(141 + 95)))) and v11(v25.ClearcastingBuff) and (v27>=(7 -3))) then v20("Arcane Missiles");return true;end if (v3(v25.ArcaneBarrage) and IsPlayerSpell(v25.HighVoltageTalent) and IsPlayerSpell(v25.OrbBarrageTalent) and (v28>(2 -1)) and v11(v25.ClearcastingBuff) and v11(v25.AetherAttunementBuff) and ((v32==(1263 -(1091 + 171))) or ((v32>(0 + 0)) and (v34>(1 + 0))) or (((v32>(0 -0)) or ((v9(v25.ClearcastingBuff)<(9 -6)) and  not v11(v25.IntuitionBuff))) and (v34>(377 -(123 + 251)))))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneMissiles) and ((v11(v25.ClearcastingBuff) and (v32==(0 -0)) and (((v7(v25.TouchOfTheMagi)>(max(1.5/((699 -(208 + 490)) + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75 + 0 ) * 7)) and (v7(v25.ArcaneSurge)>(max((164.5 -(92 + 71))/(1 + 0 + ((836.01 -(660 + 176)) * UnitSpellHaste("player"))) ,765.75 -(574 + 191) ) * 7))) or (v9(v25.ClearcastingBuff)>(1 + 0)) or  not IsPlayerSpell(v25.MagisSparkTalent) or ((v7(v25.TouchOfTheMagi)<(max((2.5 -1)/(1 + 0 + ((849.01 -(254 + 595)) * UnitSpellHaste("player"))) ,126.75 -(55 + 71) ) * (206 -(14 + 188)))) and (v9(v25.AetherAttunementBuff)==0)) or (v27>=(679 -(534 + 141))))) or ((v18(25 + 35 ,v35)<(5 + 0)) and v11(v25.ClearcastingBuff)))) then local v53=0 + 0 ;while true do if ((0 -0)==v53) then v20("Arcane Missiles");return true;end end end if (v3(v25.ArcaneBlast) and ((aura_env.NeedArcaneBlastSpark and ((v6("target",v25.TouchOfTheMagiDebuff)<((C_Spell.GetSpellInfo(v25.ArcaneBlast).castTime/(2769 -1769)) + max((1.5 -0)/(1 + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75 + 0 ))) or (v34<=(1 + 0)) or IsPlayerSpell(v25.LeydrinkerTalent))) or v11(v25.LeydrinkerBuff)) and (v28==(400 -(115 + 281))) and  not IsPlayerSpell(v25.ChargedOrbTalent) and (v34<(6 -3))) then v20("Arcane Blast");return true;end if (v3(v25.ArcaneBarrage) and IsPlayerSpell(v25.OrbBarrageTalent) and (v34>(1 + 0)) and ((aura_env.NeedArcaneBlastSpark==false) or  not IsPlayerSpell(v25.MagisSparkTalent)) and (v28==(9 -5)) and ((IsPlayerSpell(v25.HighVoltageTalent) and (v34>(1 + 1))) or (v7(v25.TouchOfTheMagi)>(max((1.5 -0)/((807 -(118 + 688)) + ((0.01 -0) * UnitSpellHaste("player"))) ,867.75 -(550 + 317) ) * (8 -2))) or  not IsPlayerSpell(v25.MagisSparkTalent) or (IsPlayerSpell(v25.ChargedOrbTalent) and (v14(v25.ArcaneOrb)>(1.8 -0))))) then local v54=0;while true do if (v54==(0 -0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and (v34>(3 -2)) and ((aura_env.NeedArcaneBlastSpark==false) or  not IsPlayerSpell(v25.MagisSparkTalent)) and (v28==(736 -(16 + 716))) and ((v7(v25.ArcaneOrb)<max((286.5 -(134 + 151))/((1 -0) + ((1665.01 -(970 + 695)) * UnitSpellHaste("player"))) ,0.75 -0 )) or ((((UnitHealth("target")/UnitHealthMax("target")) * (243 -143))<35) and IsPlayerSpell(v25.ArcaneBombardmentTalent))) and ((v32==(286 -(175 + 110))) or ((v32==(1990 -(582 + 1408))) and IsPlayerSpell(v25.HighVoltageTalent)) or ((v32==(6 -4)) and (((UnitHealth("target")/UnitHealthMax("target")) * (125 -25))<(131 -96)) and IsPlayerSpell(v25.ArcaneBombardmentTalent) and IsPlayerSpell(v25.HighVoltageTalent))) and ((v7(v25.TouchOfTheMagi)>(max((1797.5 -(503 + 1293))/((1825 -(1195 + 629)) + ((0.01 -0) * UnitSpellHaste("player"))) ,1061.75 -(810 + 251) ) * (247 -(187 + 54)))) or (IsPlayerSpell(v25.ChargedOrbTalent) and (v14(v25.ArcaneOrb)>(1.8 + 0))))) then local v55=0;while true do if (v55==0) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneMissiles) and IsPlayerSpell(v25.HighVoltageTalent) and ((v9(v25.ClearcastingBuff)>(781 -(162 + 618))) or (v11(v25.ClearcastingBuff) and v11(v25.AetherAttunementBuff))) and (v28<(536 -(43 + 490)))) then v20("Arcane Missiles");return true;end if (v3(v25.ArcaneOrb) and (((v34<=(734 -(711 + 22))) and (v28<(3 + 0))) or (v28<(1 + 0)) or ((v28<(3 -1)) and IsPlayerSpell(v25.HighVoltageTalent)))) then if ((aura_env.config[tostring(v25.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v21("Arcane Orb");elseif (aura_env.config[tostring(v25.ArcaneOrb)]~=true) then local v81=0 -0 ;while true do if ((0 + 0)==v81) then v20("Arcane Orb");return true;end end end end if (v3(v25.ArcaneBarrage) and (v11(v25.IntuitionBuff))) then local v56=1636 -(1373 + 263) ;while true do if (v56==(1000 -(451 + 549))) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and (v34<=(1 + 0)) and IsPlayerSpell(v25.HighVoltageTalent) and (v28==(5 -1)) and v11(v25.ClearcastingBuff) and (v32==(1 -0)) and (v11(v25.AetherAttunementBuff) or ((((UnitHealth("target")/UnitHealthMax("target")) * (1484 -(746 + 638)))<(14 + 21)) and IsPlayerSpell(v25.ArcaneBombardmentTalent)))) then local v57=0;while true do if (v57==(0 -0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and (v7(v25.ArcaneOrb)<max((342.5 -(218 + 123))/((1582 -(1535 + 46)) + (0.01 * UnitSpellHaste("player"))) ,0.75 + 0 )) and (v28==(1743 -(404 + 1335))) and (v32==(0 + 0)) and IsPlayerSpell(v25.OrbBarrageTalent) and ((v7(v25.TouchOfTheMagi)>(max((407.5 -(183 + 223))/((561 -(306 + 254)) + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75 -0 ) * (1473 -(899 + 568)))) or  not IsPlayerSpell(v25.MagisSparkTalent))) then local v58=0 + 0 ;while true do if (v58==(0 + 0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and (v34<=(1 + 0)) and (IsPlayerSpell(v25.OrbBarrageTalent) or ((((UnitHealth("target")/UnitHealthMax("target")) * (241 -141))<35) and IsPlayerSpell(v25.ArcaneBombardmentTalent))) and (v7(v25.ArcaneOrb)<max((1.5 + 0)/((339 -(118 + 220)) + (0.01 * UnitSpellHaste("player"))) ,603.75 -(268 + 335) )) and (v28==4) and ((v7(v25.TouchOfTheMagi)>(max((450.5 -(108 + 341))/(1 + 0 + ((0.01 -0) * UnitSpellHaste("player"))) ,290.75 -(60 + 230) ) * (578 -(426 + 146)))) or  not IsPlayerSpell(v25.MagisSparkTalent)) and ((v32==(0 -0)) or ((v32==(470 -(270 + 199))) and (v9(v25.ClearcastingBuff)==(0 + 0))))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneExplosion) and WeakAuras.CheckRange("target",1466 -(282 + 1174) ,"<=") and (v34>(812 -(569 + 242))) and (((v28<(2 -1)) and  not IsPlayerSpell(v25.HighVoltageTalent)) or ((v28<(1 + 2)) and ((v9(v25.ClearcastingBuff)==(1024 -(706 + 318))) or IsPlayerSpell(v25.ReverberateTalent))))) then local v59=0;while true do if (v59==(1251 -(721 + 530))) then v20("Arcane Explosion");return true;end end end if (v3(v25.ArcaneExplosion) and WeakAuras.CheckRange("target",1281 -(945 + 326) ,"<=") and (v34==(2 -1)) and (v28<(2 + 0)) and  not v11(v25.ClearcastingBuff) and (((v30/v31) * (89 + 11))>(710 -(271 + 429)))) then local v60=0;while true do if (v60==(0 + 0)) then v20("Arcane Explosion");return true;end end end if (v3(v25.ArcaneBarrage) and (((((UnitHealth("target")/UnitHealthMax("target")) * (92 + 8))<(1535 -(1408 + 92))) and (v6("target",v25.TouchOfTheMagiDebuff)<(max((2.5 -1)/((1837 -(1045 + 791)) + (0.01 * UnitSpellHaste("player"))) ,1086.75 -(461 + 625) ) * (1289.25 -(993 + 295)))) and (v6("target",v25.TouchOfTheMagiDebuff)>(0.75 + 0))) or ((v5("player",v25.ArcaneSurgeBuff)<max(1.5/((1 -0) + ((1171.01 -(418 + 753)) * UnitSpellHaste("player"))) ,1574.75 -(1281 + 293) )) and v11(v25.ArcaneSurgeBuff))) and (v28==(2 + 2))) then local v61=0 + 0 ;while true do if (v61==(0 + 0)) then v20("Arcane Barrage");return true;end end end if v3(v25.ArcaneBlast) then local v62=0 + 0 ;while true do if (v62==0) then v20("Arcane Blast");return true;end end end if v3(v25.ArcaneBarrage) then local v63=529 -(406 + 123) ;while true do if (v63==(1769 -(1749 + 20))) then v20("Arcane Barrage");return true;end end end end;local v43=function() if (v3(v25.ShiftingPower) and (v11(v25.ArcaneSurgeBuff)==false) and (v11(v25.SiphonStormBuff)==false) and (v12(v25.TouchOfTheMagiDebuff)==false) and (v7(v25.Evocation)>(4 + 11)) and (v7(v25.TouchOfTheMagi)>(10 + 0)) and (v18(1382 -(1249 + 73) ,v35)>(4 + 6)) and (v11(v25.ArcaneSoulBuff)==false) and ( not v11(v25.IntuitionBuff) or (v11(v25.IntuitionBuff) and (v5("player",v25.IntuitionBuff)>(1148.5 -(466 + 679)))))) then if ((aura_env.config[tostring(v25.ShiftingPower)]==true) and aura_env.FlagKTrigCD) then v21("Shifting Power");elseif (aura_env.config[tostring(v25.ShiftingPower)]~=true) then v20("Shifting Power");return true;end end if (v3(v25.ArcaneMissiles) and (v32==(0 -0)) and v11(v25.ClearcastingBuff) and v11(v25.ArcaneSoulBuff) and (v5("player",v25.ArcaneSoulBuff)>(max((3.5 -2)/((2 -1) + ((1900.01 -(106 + 1794)) * UnitSpellHaste("player"))) ,0.75 + 0 ) * ((2 + 2) -((v11(v25.ClearcastingBuff) and (1 -0)) or (0 -0)))))) then local v64=0;while true do if (v64==(0 -0)) then v20("Arcane Missiles");return true;end end end if (v3(v25.ArcaneBarrage) and (v11(v25.ArcaneSoulBuff))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneBarrage) and ((v11(v25.ArcaneTempoBuff) and (v5("player",v25.ArcaneTempoBuff)<max((115.5 -(4 + 110))/(1 + ((584.01 -(57 + 527)) * UnitSpellHaste("player"))) ,1427.75 -(41 + 1386) ))) or (v11(v25.IntuitionBuff) and (v5("player",v25.IntuitionBuff)<max((104.5 -(17 + 86))/(1 + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75))))) then local v65=1455 -(990 + 465) ;while true do if (v65==(0 -0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and IsPlayerSpell(v25.OrbBarrageTalent) and (v34>(1 + 0)) and (v9(v25.ArcaneHarmonyBuff)>=(18 + 0)) and (((v34>(8 -5)) and (IsPlayerSpell(v25.ResonanceTalent) or IsPlayerSpell(v25.HighVoltageTalent))) or (v32==(166 -(122 + 44))) or (v32==(1 -0)) or ((v32==(6 -4)) and (v9(v25.ClearcastingBuff)==(3 + 0))))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneMissiles) and v11(v25.ClearcastingBuff) and (v27>=(10 -6)) and v11(v25.AetherAttunementBuff) and (v7(v25.TouchOfTheMagi)<(max((1.5 + 0)/((1 -0) + ((65.01 -(30 + 35)) * UnitSpellHaste("player"))) ,0.75 + 0 ) * (3 -((1.5 + 0) * ((v34>(1260 -(1043 + 214))) and ( not IsPlayerSpell(v25.TimeLoopTalent) or IsPlayerSpell(v25.ResonanceTalent)))))))) then local v66=0 -0 ;while true do if (v66==0) then v20("Arcane Missiles");return true;end end end if (v3(v25.ArcaneBlast) and ((aura_env.NeedArcaneBlastSpark and ((v6("target",v25.TouchOfTheMagiDebuff)<((C_Spell.GetSpellInfo(v25.ArcaneBlast).castTime/1000) + max((1213.5 -(323 + 889))/(1 + 0 + ((0.01 -0) * UnitSpellHaste("player"))) ,580.75 -(361 + 219) ))) or (v34<=(321 -(53 + 267))) or IsPlayerSpell(v25.LeydrinkerTalent))) or v11(v25.LeydrinkerBuff)) and (v28==(1 + 3)) and ((v32>(413 -(15 + 398))) or (v9(v25.ClearcastingBuff)==(0 -0)))) then local v67=815 -(98 + 717) ;while true do if (v67==0) then v20("Arcane Blast");return true;end end end if (v3(v25.ArcaneBarrage) and (v28==(986 -(18 + 964))) and (v3(v25.TouchOfTheMagi) or (v7(v25.TouchOfTheMagi)<min(0.75 + (188 -138) ,max((1.5 + 0)/(1 + 0 + ((850.01 -(20 + 830)) * UnitSpellHaste("player"))) ,0.75))))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneBarrage) and IsPlayerSpell(v25.HighVoltageTalent) and (v34>(1 + 0)) and (v28==(130 -(116 + 10))) and v11(v25.ClearcastingBuff) and (v32==(1 + 0))) then local v68=738 -(542 + 196) ;while true do if (v68==(0 -0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and (v34>1) and IsPlayerSpell(v25.HighVoltageTalent) and (v28==(2 + 2)) and v11(v25.ClearcastingBuff) and v11(v25.AetherAttunementBuff) and (v11(v25.GloriousIncandescenceBuff)==false) and (v11(v25.IntuitionBuff)==false)) then local v69=0 + 0 ;while true do if (v69==(0 + 0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and (v34>(4 -2)) and IsPlayerSpell(v25.OrbBarrageTalent) and IsPlayerSpell(v25.HighVoltageTalent) and  not aura_env.NeedArcaneBlastSpark and (v28==(9 -5)) and (((UnitHealth("target")/UnitHealthMax("target")) * (1651 -(1126 + 425)))<(440 -(118 + 287))) and IsPlayerSpell(v25.ArcaneBombardmentTalent) and ((v32>(0 + 0)) or ((v32==0) and (v9(v25.ClearcastingBuff)==(0 -0))))) then local v70=1121 -(118 + 1003) ;while true do if ((0 + 0)==v70) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and ((v34>(5 -3)) or ((v34>(378 -(142 + 235))) and (((UnitHealth("target")/UnitHealthMax("target")) * (453 -353))<(8 + 27)) and IsPlayerSpell(v25.ArcaneBombardmentTalent))) and (v7(v25.ArcaneOrb)<max((978.5 -(553 + 424))/((1 -0) + (0.01 * UnitSpellHaste("player"))) ,0.75 + 0 )) and (v28==(4 + 0)) and (v7(v25.TouchOfTheMagi)>(max((1.5 + 0)/(1 + 0 + ((326.01 -(192 + 134)) * UnitSpellHaste("player"))) ,0.75 + 0 ) * (4 + 2))) and ( not aura_env.NeedArcaneBlastSpark or  not IsPlayerSpell(v25.MagisSparkTalent)) and (v32>(0 -0)) and (IsPlayerSpell(v25.HighVoltageTalent) or (v32==2) or ((v32==(2 -1)) and  not v11(v25.ClearcastingBuff)))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneMissiles) and v11(v25.ClearcastingBuff) and ((IsPlayerSpell(v25.HighVoltageTalent) and (v28<(8 -4))) or (v32==(0 + 0)) or ((v9(v25.ClearcastingBuff)==(1 + 2)) and ( not IsPlayerSpell(v25.HighVoltageTalent) or (v34<=(4 -3)))))) then local v71=0;while true do if ((753 -(239 + 514))==v71) then v20("Arcane Missiles");return true;end end end if (v3(v25.ArcaneBarrage) and (v28==(4 + 0)) and (v34>(1 + 0)) and (v34<(18 -13)) and v11(v25.BurdenOfPowerBuff) and ((IsPlayerSpell(v25.HighVoltageTalent) and v11(v25.ClearcastingBuff)) or v11(v25.GloriousIncandescenceBuff) or v11(v25.IntuitionBuff) or (v7(v25.ArcaneOrb)<max((1330.5 -(797 + 532))/(1 + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75 + 0 )) or (C_Spell.GetSpellCharges(v25.ArcaneOrb).currentCharges>(1806 -(1202 + 604)))) and ( not IsPlayerSpell(v25.ConsortiumsBaubleTalent) or IsPlayerSpell(v25.HighVoltageTalent))) then local v72=0 -0 ;while true do if (v72==(1202 -(373 + 829))) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneOrb) and (v28<(734 -(476 + 255)))) then if ((aura_env.config[tostring(v25.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v21("Arcane Orb");elseif (aura_env.config[tostring(v25.ArcaneOrb)]~=true) then local v82=1130 -(369 + 761) ;while true do if (v82==(325 -(45 + 280))) then v20("Arcane Orb");return true;end end end end if (v3(v25.ArcaneBarrage) and ((v11(v25.GloriousIncandescenceBuff) and ((v7(v25.TouchOfTheMagi)>(4 + 2)) or  not IsPlayerSpell(v25.MagisSparkTalent))) or v11(v25.IntuitionBuff))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneExplosion) and (v28<(2 + 0)) and (v34>(1 + 0))) then v20("Arcane Explosion");return true;end if v3(v25.ArcaneBlast) then v20("Arcane Blast");return true;end if v3(v25.ArcaneBarrage) then local v73=0;while true do if (v73==(0 -0)) then v20("Arcane Barrage");return true;end end end end;if (v3(v25.ArcaneBarrage) and (v18(113 -53 ,v35)<(240 -(64 + 174)))) then v20("Arcane Barrage");return true;end if v41() then return true;end if IsPlayerSpell(v25.SpellfireSpheresTalent) then if v43() then return true;end end if  not IsPlayerSpell(v25.SpellfireSpheresTalent) then if v42() then return true;end end if v3(v25.ArcaneBarrage) then local v50=0;while true do if ((0 + 0)==v50) then v20("Arcane Barrage");return true;end end end v20("Clear");end;