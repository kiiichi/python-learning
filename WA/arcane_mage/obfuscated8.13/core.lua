function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.FullGCD;local v24=aura_env.TalentRank;local v25=aura_env.ids;aura_env.OutOfRange=false;local v27=WeakAuras.GetNumSetItemsEquipped(1924);local v28=WeakAuras.GetNumSetItemsEquipped(1872);local v29=UnitPower("player",Enum.PowerType.ArcaneCharges);local v30=UnitPowerMax("player",Enum.PowerType.ArcaneCharges);local v31=UnitPower("player",Enum.PowerType.Mana);local v32=UnitPowerMax("player",Enum.PowerType.Mana);local v33=v9(v25.NetherPrecisionBuff);local v34=select(4 + 5 ,UnitCastingInfo("player"));if (v34~=nil) then if (v34==v25.ArcaneBlast) then v29=min(4,v29 + (3 -2) );v33=max(1747 -(760 + 987) ,v33-1 );end end local v35=1913 -(1789 + 124) ;local v36=806 -(745 + 21) ;for v45=1 + 0 ,110 -70  do local v46=0 -0 ;local v47;while true do if (v46==0) then v47="nameplate"   .. v45 ;if (UnitExists(v47) and  not UnitIsFriend("player",v47) and WeakAuras.CheckRange(v47,v36,"<=") and (UnitAffectingCombat(v47) or aura_env.config['BypassCombatRequirement'])) then v35=v35 + 1 + 0 ;end break;end end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v35);if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",ExtraGlows);v20("Clear",nil);v21("Clear",nil);return;end end local v37={};WeakAuras.ScanEvents("K_TRIGED_EXTRA",v37,nil);local v38={};v38.AoeTargetCount=2 + 0 ;if  not IsPlayerSpell(v25.ArcingCleaveTalent) then v38.AoeTargetCount=1064 -(87 + 968) ;end if ( not v12(v25.TouchOfTheMagiDebuff) and (v7(v25.TouchOfTheMagi)==0)) then v38.Opener=true;else local v51=0 -0 ;while true do if (v51==(1 + 0)) then aura_env.UsedBarrage=false;v38.Opener=false;break;end if (v51==(0 -0)) then aura_env.UsedOrb=false;aura_env.UsedMissiles=false;v51=1414 -(447 + 966) ;end end end v38.AoeList=aura_env.config['AoeList'];local v42=function() local v48=0 -0 ;while true do if (v48==(1817 -(1703 + 114))) then if (v3(v25.TouchOfTheMagi) and ((true and ((v5("player",v25.ArcaneSurgeBuff)>5) or v8(v25.ArcaneSurge) or (v7(v25.ArcaneSurge)>(731 -(376 + 325))))) or (((aura_env.PrevCast==v25.ArcaneSurge) or v8(v25.ArcaneSurge)) and ((v29<(5 -1)) or (v33==(0 -0)))) or ((v7(v25.ArcaneSurge)>(9 + 21)) and v3(v25.TouchOfTheMagi) and (v29<(8 -4)) and  not ((aura_env.PrevCast==v25.ArcaneBarrage) or v8(v25.ArcaneBarrage))))) then if ((aura_env.config[tostring(v25.TouchOfTheMagi)]==true) and aura_env.FlagKTrigCD) then v21("Touch Of The Magi");elseif (aura_env.config[tostring(v25.TouchOfTheMagi)]~=true) then local v91=0;while true do if (v91==0) then v20("Touch Of The Magi");return true;end end end end if (v3(v25.ArcaneBlast) and (v11(v25.PresenceOfMind))) then local v83=0;while true do if ((14 -(9 + 5))==v83) then v20("Arcane Blast");return true;end end end v48=1;end if (1==v48) then if (v3(v25.ArcaneOrb) and IsPlayerSpell(v25.HighVoltageTalent) and v38.Opener and  not aura_env.UsedOrb) then if ((aura_env.config[tostring(v25.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v21("Arcane Orb");elseif (aura_env.config[tostring(v25.ArcaneOrb)]~=true) then local v92=376 -(85 + 291) ;while true do if (v92==0) then v20("Arcane Orb");return true;end end end end if (v3(v25.ArcaneBarrage) and v38.Opener and  not aura_env.UsedBarrage and v11(v25.ArcaneTempoBuff) and v3(v25.Evocation) and (v5("player",v25.ArcaneTempoBuff)<(max((1266.5 -(243 + 1022))/((3 -2) + (0.01 * UnitSpellHaste("player"))) ,0.75 + 0 ) * (1185 -(1123 + 57))))) then local v84=0;while true do if (v84==0) then v20("Arcane Barrage");return true;end end end v48=2;end if (3==v48) then if (v4(v25.ArcaneSurge) and ((v7(v25.TouchOfTheMagi)<(max(C_Spell.GetSpellInfo(v25.ArcaneSurge).castTime/(814 + 186) ,WeakAuras.gcdDuration()) + (max(1.5/(1 + ((254.01 -(163 + 91)) * UnitSpellHaste("player"))) ,1930.75 -(1869 + 61) ) * (((v29==(2 + 2)) and (3 -2)) or 0)))) or v12(v25.TouchOfTheMagiDebuff))) then if ((aura_env.config[tostring(v25.ArcaneSurge)]==true) and aura_env.FlagKTrigCD) then v21("Arcane Surge");elseif (aura_env.config[tostring(v25.ArcaneSurge)]~=true) then local v93=0;while true do if (v93==(0 -0)) then v20("Arcane Surge");return true;end end end end break;end if ((1 + 1)==v48) then if (v3(v25.Evocation) and (v7(v25.ArcaneSurge)<(max((1.5 -0)/(1 + 0 + ((1474.01 -(1329 + 145)) * UnitSpellHaste("player"))) ,971.75 -(140 + 831) ) * (1853 -(1409 + 441)))) and (v7(v25.TouchOfTheMagi)<(max((719.5 -(15 + 703))/(1 + ((0.01 + 0) * UnitSpellHaste("player"))) ,438.75 -(262 + 176) ) * (1726 -(345 + 1376))))) then if ((aura_env.config[tostring(v25.Evocation)]==true) and aura_env.FlagKTrigCD) then v21("Evocation");elseif (aura_env.config[tostring(v25.Evocation)]~=true) then local v94=688 -(198 + 490) ;while true do if (v94==(0 -0)) then v20("Evocation");return true;end end end end if (v3(v25.ArcaneMissiles) and  not aura_env.UsedMissiles and ((aura_env.PrevCast==v25.Evocation) or v8(v25.Evocation) or (aura_env.PrevCast==v25.ArcaneSurge) or v8(v25.ArcaneSurge) or v38.Opener) and (v33==(0 -0))) then v20("Arcane Missiles");return true;end v48=1209 -(696 + 510) ;end end end;local v43=function() if (v3(v25.ShiftingPower) and (((((C_Spell.GetSpellCharges(v25.ArcaneOrb).currentCharges==0) and (v7(v25.ArcaneOrb)>(33 -17))) or (v7(v25.TouchOfTheMagi)<(1282 -(1091 + 171)))) and (v11(v25.ArcaneSurgeBuff)==false) and (v11(v25.SiphonStormBuff)==false) and (v12(v25.TouchOfTheMagiDebuff)==false) and ( not v11(v25.IntuitionBuff) or (v11(v25.IntuitionBuff) and (v5("player",v25.IntuitionBuff)>(1.5 + 2)))) and (v7(v25.TouchOfTheMagi)>((37 -25) + (6 * max(1.5/(1 + (0.01 * UnitSpellHaste("player"))) ,0.75 -0 ))))) or (((aura_env.PrevCast==v25.ArcaneBarrage) or v8(v25.ArcaneBarrage)) and IsPlayerSpell(v25.ShiftingShardsTalent) and ( not v11(v25.IntuitionBuff) or (v11(v25.IntuitionBuff) and (v5("player",v25.IntuitionBuff)>3.5))) and (v11(v25.ArcaneSurgeBuff) or v12(v25.TouchOfTheMagiDebuff) or (v7(v25.Evocation)<20)))) and (v18(434 -(123 + 251) ,v36)>10) and ((v5("player",v25.ArcaneTempoBuff)>(max((4.5 -3)/((699 -(208 + 490)) + (0.01 * UnitSpellHaste("player"))) ,0.75) * 2.5)) or (v11(v25.ArcaneTempoBuff)==false))) then if ((aura_env.config[tostring(v25.ShiftingPower)]==true) and aura_env.FlagKTrigCD) then v21("Shifting Power");elseif (aura_env.config[tostring(v25.ShiftingPower)]~=true) then v20("Shifting Power");return true;end end if (v3(v25.Supernova) and (v6("target",v25.TouchOfTheMagiDebuff)<=max((1.5 + 0)/(1 + ((0.01 + 0) * UnitSpellHaste("player"))) ,836.75 -(660 + 176) )) and (v9(v25.UnerringProficiencyBuff)==(4 + 26))) then if ((aura_env.config[tostring(v25.Supernova)]==true) and aura_env.FlagKTrigCD) then v21("Supernova");elseif (aura_env.config[tostring(v25.Supernova)]~=true) then local v85=202 -(14 + 188) ;while true do if (v85==(675 -(534 + 141))) then v20("Supernova");return true;end end end end if (v3(v25.ArcaneOrb) and (v29<4)) then if ((aura_env.config[tostring(v25.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v21("Arcane Orb");elseif (aura_env.config[tostring(v25.ArcaneOrb)]~=true) then local v86=0;while true do if (v86==0) then v20("Arcane Orb");return true;end end end end if (v3(v25.ArcaneBarrage) and v11(v25.ArcaneTempoBuff) and (v5("player",v25.ArcaneTempoBuff)<=(max((1.5 + 0)/(1 + 0 + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75) * (3 -1)))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneMissiles) and v11(v25.AetherAttunementBuff) and (v7(v25.TouchOfTheMagi)<(max(1.5/((1 -0) + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75 + 0 ) * (2 + 1))) and v11(v25.ClearcastingBuff) and (v28>=(400 -(115 + 281)))) then v20("Arcane Missiles");return true;end if (v3(v25.ArcaneBarrage) and (v29==(9 -5)) and (v9(v25.ArcaneHarmonyBuff)>=20) and (v27>=(4 + 0))) then local v53=0 -0 ;while true do if ((0 -0)==v53) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneMissiles) and ((v11(v25.ClearcastingBuff) and (v33==(867 -(550 + 317))) and (((v7(v25.TouchOfTheMagi)>(max((1.5 -0)/(1 + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75 -0 ) * 7)) and (v7(v25.ArcaneSurge)>(max((286.5 -(134 + 151))/(1 + ((1665.01 -(970 + 695)) * UnitSpellHaste("player"))) ,0.75 -0 ) * (1997 -(582 + 1408))))) or (v9(v25.ClearcastingBuff)>(3 -2)) or  not IsPlayerSpell(v25.MagisSparkTalent) or ((v7(v25.TouchOfTheMagi)<(max((1.5 -0)/((3 -2) + ((1824.01 -(1195 + 629)) * UnitSpellHaste("player"))) ,0.75 -0 ) * 4)) and (v9(v25.AetherAttunementBuff)==0)) or (v28>=(245 -(187 + 54))))) or ((v18(840 -(162 + 618) ,v36)<5) and v11(v25.ClearcastingBuff)))) then local v54=0;while true do if (v54==0) then v20("Arcane Missiles");return true;end end end if (v3(v25.ArcaneMissiles) and IsPlayerSpell(v25.HighVoltageTalent) and ((v9(v25.ClearcastingBuff)>(1 + 0)) or (v11(v25.ClearcastingBuff) and v11(v25.AetherAttunementBuff))) and (v29<(2 + 1))) then v20("Arcane Missiles");return true;end if (v3(v25.ArcaneBarrage) and (v11(v25.IntuitionBuff))) then local v55=0;while true do if (v55==0) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBlast) and (aura_env.NeedArcaneBlastSpark or v11(v25.LeydrinkerBuff))) then v20("Arcane Blast");return true;end if (v3(v25.ArcaneBlast) and (v33>0) and (v9(v25.ArcaneHarmonyBuff)<=(33 -17)) and (v29==(6 -2)) and (v35==(1 + 0))) then local v56=0;while true do if (v56==0) then v20("Arcane Blast");return true;end end end if (v3(v25.ArcaneBarrage) and (((v31/v32) * 100)<(1646 -(1373 + 263))) and (v11(v25.ArcaneSurgeBuff)==false) and (v7(v25.ArcaneOrb)<max((1001.5 -(451 + 549))/(1 + 0 + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75))) then local v57=0;while true do if (v57==(0 -0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneOrb) and (v35==1) and ((v7(v25.TouchOfTheMagi)<(1390 -(746 + 638))) or  not IsPlayerSpell(v25.ChargedOrbTalent) or v11(v25.ArcaneSurgeBuff) or (v14(v25.ArcaneOrb)>1.5))) then if ((aura_env.config[tostring(v25.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v21("Arcane Orb");elseif (aura_env.config[tostring(v25.ArcaneOrb)]~=true) then local v87=0 + 0 ;while true do if (v87==0) then v20("Arcane Orb");return true;end end end end if (v3(v25.ArcaneBarrage) and (v35>=2) and (v29==(5 -1)) and (v7(v25.ArcaneOrb)<max((342.5 -(218 + 123))/((1582 -(1535 + 46)) + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75)) and (v9(v25.ArcaneHarmonyBuff)<=(8 + ((2 + 8) * (((v27>=4) and (560 -(306 + 254))) or (1 + 0))))) and ((((aura_env.PrevCast==v25.ArcaneBarrage) or v8(v25.ArcaneBarrage) or (aura_env.PrevCast==v25.ArcaneOrb) or v8(v25.ArcaneOrb)) and (v33==1)) or (v33==2) or (v33==(0 -0)))) then local v58=1467 -(899 + 568) ;while true do if (v58==(0 + 0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and (v35>(4 -2)) and (v29==(607 -(268 + 335))) and  not (v27>=4)) then local v59=290 -(60 + 230) ;while true do if (v59==(572 -(426 + 146))) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneOrb) and (v35>(1 + 0)) and (v9(v25.ArcaneHarmonyBuff)<20) and (v11(v25.ArcaneSurgeBuff) or (v33>0) or (v35>=7)) and (v27>=(1460 -(282 + 1174)))) then if ((aura_env.config[tostring(v25.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v21("Arcane Orb");elseif (aura_env.config[tostring(v25.ArcaneOrb)]~=true) then v20("Arcane Orb");return true;end end if (v3(v25.ArcaneBarrage) and IsPlayerSpell(v25.HighVoltageTalent) and (v35>=(813 -(569 + 242))) and (v29==(11 -7)) and v11(v25.AetherAttunementBuff) and v11(v25.ClearcastingBuff)) then local v60=0 + 0 ;while true do if (v60==0) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneOrb) and (v35>(1025 -(706 + 318))) and ((v35<(1254 -(721 + 530))) or v11(v25.ArcaneSurgeBuff) or (v33>(1271 -(945 + 326)))) and (v27>=4)) then if ((aura_env.config[tostring(v25.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v21("Arcane Orb");elseif (aura_env.config[tostring(v25.ArcaneOrb)]~=true) then local v88=0;while true do if (v88==0) then v20("Arcane Orb");return true;end end end end if (v3(v25.ArcaneBarrage) and (v35>(2 -1)) and (v29==(4 + 0)) and (v7(v25.ArcaneOrb)<max((701.5 -(271 + 429))/(1 + 0 + ((1500.01 -(1408 + 92)) * UnitSpellHaste("player"))) ,1086.75 -(461 + 625) ))) then local v61=1288 -(993 + 295) ;while true do if (v61==(0 + 0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and IsPlayerSpell(v25.HighVoltageTalent) and (v29==(1175 -(418 + 753))) and v11(v25.ClearcastingBuff) and (v33==(1 + 0))) then local v62=0;while true do if (v62==(0 + 0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and (v35<=(1 + 0)) and (IsPlayerSpell(v25.OrbBarrageTalent) or ((((UnitHealth("target")/UnitHealthMax("target")) * (26 + 74))<(564 -(406 + 123))) and IsPlayerSpell(v25.ArcaneBombardmentTalent))) and (v7(v25.ArcaneOrb)<max((1770.5 -(1749 + 20))/(1 + 0 + ((1322.01 -(1249 + 73)) * UnitSpellHaste("player"))) ,0.75 + 0 )) and (v29==(1149 -(466 + 679))) and ((v7(v25.TouchOfTheMagi)>(max(1.5/(1 + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75) * (17 -11))) or  not IsPlayerSpell(v25.MagisSparkTalent)) and ((v33==(1900 -(106 + 1794))) or ((v33==1) and (v9(v25.ClearcastingBuff)==(0 + 0)))) and  not (v27>=(2 + 2))) then local v63=0 -0 ;while true do if (v63==0) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneExplosion) and WeakAuras.CheckRange("target",10,"<=") and (v35>1) and (((v29<1) and  not IsPlayerSpell(v25.HighVoltageTalent)) or ((v29<(7 -4)) and ((v9(v25.ClearcastingBuff)==(114 -(4 + 110))) or IsPlayerSpell(v25.ReverberateTalent))))) then local v64=584 -(57 + 527) ;while true do if (v64==0) then v20("Arcane Explosion");return true;end end end if (v3(v25.ArcaneExplosion) and WeakAuras.CheckRange("target",1437 -(41 + 1386) ,"<=") and (v35==1) and (v29<2) and  not v11(v25.ClearcastingBuff)) then local v65=0;while true do if (v65==0) then v20("Arcane Explosion");return true;end end end if (v3(v25.ArcaneBarrage) and (((((UnitHealth("target")/UnitHealthMax("target")) * (203 -(17 + 86)))<(24 + 11)) and (v6("target",v25.TouchOfTheMagiDebuff)<(max((1.5 -0)/((2 -1) + ((166.01 -(122 + 44)) * UnitSpellHaste("player"))) ,0.75 -0 ) * (3.25 -2))) and (v6("target",v25.TouchOfTheMagiDebuff)>(0.75 + 0))) or ((v5("player",v25.ArcaneSurgeBuff)<max((1.5 + 0)/(1 + ((0.01 -0) * UnitSpellHaste("player"))) ,65.75 -(30 + 35) )) and v11(v25.ArcaneSurgeBuff))) and (v29==(3 + 1)) and  not (v27>=(1261 -(1043 + 214)))) then local v66=0 -0 ;while true do if (v66==(1212 -(323 + 889))) then v20("Arcane Barrage");return true;end end end if v3(v25.ArcaneBlast) then v20("Arcane Blast");return true;end if v3(v25.ArcaneBarrage) then local v67=0 -0 ;while true do if (v67==(580 -(361 + 219))) then v20("Arcane Barrage");return true;end end end end;local v44=function() if (v3(v25.ShiftingPower) and (v11(v25.ArcaneSurgeBuff)==false) and (v11(v25.SiphonStormBuff)==false) and (v12(v25.TouchOfTheMagiDebuff)==false) and (v7(v25.Evocation)>(335 -(53 + 267))) and (v7(v25.TouchOfTheMagi)>(3 + 7)) and (v18(60,v36)>(423 -(15 + 398))) and (v11(v25.ArcaneSoulBuff)==false) and ( not v11(v25.IntuitionBuff) or (v11(v25.IntuitionBuff) and (v5("player",v25.IntuitionBuff)>(985.5 -(18 + 964)))))) then if ((aura_env.config[tostring(v25.ShiftingPower)]==true) and aura_env.FlagKTrigCD) then v21("Shifting Power");elseif (aura_env.config[tostring(v25.ShiftingPower)]~=true) then local v89=0;while true do if (v89==(0 -0)) then v20("Shifting Power");return true;end end end end if (v3(v25.ArcaneMissiles) and (v33==(0 + 0)) and v11(v25.ClearcastingBuff) and v11(v25.ArcaneSoulBuff) and (v5("player",v25.ArcaneSoulBuff)>(max(1.5/(1 + 0 + (0.01 * UnitSpellHaste("player"))) ,850.75 -(20 + 830) ) * ((4 + 0) -((v11(v25.ClearcastingBuff) and 1) or (126 -(116 + 10))))))) then v20("Arcane Missiles");return true;end if (v3(v25.ArcaneBarrage) and (v11(v25.ArcaneSoulBuff))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneBarrage) and ((v11(v25.ArcaneTempoBuff) and (v5("player",v25.ArcaneTempoBuff)<max(1.5/(1 + ((0.01 + 0) * UnitSpellHaste("player"))) ,738.75 -(542 + 196) ))) or (v11(v25.IntuitionBuff) and (v5("player",v25.IntuitionBuff)<max(1.5/(1 + (0.01 * UnitSpellHaste("player"))) ,0.75 -0 ))))) then local v68=0 + 0 ;while true do if (v68==(0 + 0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and IsPlayerSpell(v25.OrbBarrageTalent) and (v35>1) and (v9(v25.ArcaneHarmonyBuff)>=(7 + 11)) and (((v35>(7 -4)) and (IsPlayerSpell(v25.ResonanceTalent) or IsPlayerSpell(v25.HighVoltageTalent))) or (v33==(0 -0)) or (v33==(1552 -(1126 + 425))) or ((v33==(407 -(118 + 287))) and (v9(v25.ClearcastingBuff)==(11 -8))))) then local v69=1121 -(118 + 1003) ;while true do if (v69==(0 -0)) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneMissiles) and v11(v25.ClearcastingBuff) and (v28>=(381 -(142 + 235))) and v11(v25.AetherAttunementBuff) and (v7(v25.TouchOfTheMagi)<(max((4.5 -3)/(1 + (0.01 * UnitSpellHaste("player"))) ,0.75 + 0 ) * (3 -((978.5 -(553 + 424)) * (((v35>(5 -2)) and ( not IsPlayerSpell(v25.TimeLoopTalent) or IsPlayerSpell(v25.ResonanceTalent)) and (1 + 0)) or 0)))))) then local v70=0 + 0 ;while true do if (v70==(0 + 0)) then v20("Arcane Missiles");return true;end end end if (v3(v25.ArcaneBlast) and ((aura_env.NeedArcaneBlastSpark and ((v6("target",v25.TouchOfTheMagiDebuff)<((C_Spell.GetSpellInfo(v25.ArcaneBlast).castTime/(426 + 574)) + max((1.5 + 0)/((2 -1) + (0.01 * UnitSpellHaste("player"))) ,0.75))) or (v35<=(2 -1)) or IsPlayerSpell(v25.LeydrinkerTalent))) or v11(v25.LeydrinkerBuff)) and (v29==(8 -4)) and ((v33>(0 + 0)) or (v9(v25.ClearcastingBuff)==0))) then local v71=0 -0 ;while true do if (v71==0) then v20("Arcane Blast");return true;end end end if (v3(v25.ArcaneBarrage) and IsPlayerSpell(v25.HighVoltageTalent) and (v35>(754 -(239 + 514))) and (v29==(2 + 2)) and v11(v25.ClearcastingBuff) and (v33==1)) then local v72=1329 -(797 + 532) ;while true do if (v72==0) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and (v35>(1 + 0)) and IsPlayerSpell(v25.HighVoltageTalent) and (v29==4) and v11(v25.ClearcastingBuff) and v11(v25.AetherAttunementBuff) and (v11(v25.GloriousIncandescenceBuff)==false) and (v11(v25.IntuitionBuff)==false)) then local v73=0 + 0 ;while true do if ((0 -0)==v73) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneBarrage) and (v35>2) and IsPlayerSpell(v25.OrbBarrageTalent) and IsPlayerSpell(v25.HighVoltageTalent) and  not aura_env.NeedArcaneBlastSpark and (v29==(1206 -(373 + 829))) and (((UnitHealth("target")/UnitHealthMax("target")) * (831 -(476 + 255)))<35) and IsPlayerSpell(v25.ArcaneBombardmentTalent) and ((v33>0) or ((v33==(1130 -(369 + 761))) and (v9(v25.ClearcastingBuff)==0)))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneBarrage) and ((v35>2) or ((v35>1) and (((UnitHealth("target")/UnitHealthMax("target")) * (58 + 42))<35) and IsPlayerSpell(v25.ArcaneBombardmentTalent))) and (v7(v25.ArcaneOrb)<max((1.5 -0)/((1 -0) + ((238.01 -(64 + 174)) * UnitSpellHaste("player"))) ,0.75 + 0 )) and (v29==(5 -1)) and (v7(v25.TouchOfTheMagi)>(max(1.5/(1 + ((336.01 -(144 + 192)) * UnitSpellHaste("player"))) ,216.75 -(42 + 174) ) * (5 + 1))) and ( not aura_env.NeedArcaneBlastSpark or  not IsPlayerSpell(v25.MagisSparkTalent)) and (v33>0) and (IsPlayerSpell(v25.HighVoltageTalent) or (v33==(2 + 0)) or ((v33==1) and  not v11(v25.ClearcastingBuff)))) then v20("Arcane Barrage");return true;end if (v3(v25.ArcaneMissiles) and v11(v25.ClearcastingBuff) and ((IsPlayerSpell(v25.HighVoltageTalent) and (v29<(2 + 2))) or (v33==0))) then local v74=0;while true do if (v74==0) then v20("Arcane Missiles");return true;end end end if (v3(v25.ArcaneBarrage) and (v29==(1508 -(363 + 1141))) and (v35>1) and (v35<(1585 -(1183 + 397))) and v11(v25.BurdenOfPowerBuff) and ((IsPlayerSpell(v25.HighVoltageTalent) and v11(v25.ClearcastingBuff)) or v11(v25.GloriousIncandescenceBuff) or v11(v25.IntuitionBuff) or (v7(v25.ArcaneOrb)<max(1.5/((2 -1) + (0.01 * UnitSpellHaste("player"))) ,0.75 + 0 )) or (C_Spell.GetSpellCharges(v25.ArcaneOrb).currentCharges>(0 + 0))) and ( not IsPlayerSpell(v25.ConsortiumsBaubleTalent) or IsPlayerSpell(v25.HighVoltageTalent))) then local v75=0;while true do if ((1975 -(1913 + 62))==v75) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneOrb) and (v29<3)) then if ((aura_env.config[tostring(v25.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v21("Arcane Orb");elseif (aura_env.config[tostring(v25.ArcaneOrb)]~=true) then local v90=0 + 0 ;while true do if (0==v90) then v20("Arcane Orb");return true;end end end end if (v3(v25.ArcaneBarrage) and (v11(v25.GloriousIncandescenceBuff) or v11(v25.IntuitionBuff))) then local v76=0 -0 ;while true do if (v76==0) then v20("Arcane Barrage");return true;end end end if (v3(v25.ArcaneExplosion) and WeakAuras.CheckRange("target",1943 -(565 + 1368) ,"<=") and (v29<(7 -5)) and (v35>1)) then local v77=1661 -(1477 + 184) ;while true do if (v77==0) then v20("Arcane Explosion");return true;end end end if v3(v25.ArcaneBlast) then local v78=0;while true do if (v78==(0 -0)) then v20("Arcane Blast");return true;end end end if v3(v25.ArcaneBarrage) then v20("Arcane Barrage");return true;end end;if (v3(v25.ArcaneBarrage) and (v18(56 + 4 ,v36)<(858 -(564 + 292)))) then local v52=0 -0 ;while true do if ((0 -0)==v52) then v20("Arcane Barrage");return true;end end end if v42() then return true;end if IsPlayerSpell(v25.SpellfireSpheresTalent) then if v44() then return true;end end if  not IsPlayerSpell(v25.SpellfireSpheresTalent) then if v43() then return true;end end if v3(v25.ArcaneBarrage) then v20("Arcane Barrage");return true;end v20("Clear");end;