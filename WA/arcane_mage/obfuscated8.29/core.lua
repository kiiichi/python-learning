function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=C_SpellBook.IsSpellKnown;local v21=aura_env.KTrig;local v22=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v24=aura_env.FullGCD;local v25=aura_env.TalentRank;local v26=aura_env.IsChanneling;local v27=aura_env.ids;aura_env.OutOfRange=false;local v29={};local v30=max((1.5 + 0)/((15 -(9 + 5)) + ((376.01 -(85 + 291)) * UnitSpellHaste("player"))) ,1265.75 -(243 + 1022) );local v31=WeakAuras.GetNumSetItemsEquipped(7320 -5396 );local v32=WeakAuras.GetNumSetItemsEquipped(1545 + 327 );local v33=UnitPower("player",Enum.PowerType.ArcaneCharges);local v34=UnitPowerMax("player",Enum.PowerType.ArcaneCharges);local v35=UnitPower("player",Enum.PowerType.Mana);local v36=UnitPowerMax("player",Enum.PowerType.Mana);local v37=v9(v27.NetherPrecisionBuff);local v38=select(9,UnitCastingInfo("player"));if (v38~=nil) then if (v38==v27.ArcaneBlast) then local v90=1180 -(1123 + 57) ;while true do if (v90==0) then v33=min(4 + 0 ,v33 + 1 );v37=max(254 -(163 + 91) ,v37-(1931 -(1869 + 61)) );break;end end end end local v39=0 + 0 ;local v40=140 -100 ;for v51=1 -0 ,6 + 34  do local v52=0;local v53;while true do if (v52==(0 -0)) then v53="nameplate"   .. v51 ;if (UnitExists(v53) and  not UnitIsFriend("player",v53) and WeakAuras.CheckRange(v53,v40,"<=") and (UnitAffectingCombat(v53) or aura_env.config['BypassCombatRequirement'])) then v39=v39 + 1 + 0 ;end break;end end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v39);if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then local v91=1474 -(1329 + 145) ;while true do if (v91==(972 -(140 + 831))) then v22("Clear",nil);return;end if (v91==(1850 -(1409 + 441))) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",ExtraGlows);v21("Clear",nil);v91=719 -(15 + 703) ;end end end end v29.SoulBurst=aura_env.config['SoulBurstSwitch'];if ((v31>=(2 + 2)) and v20(v27.SpellfireSpheresTalent) and v20(v27.ResonanceTalent) and  not v20(v27.MagisSparkTalent) and (v39>=(441 -(262 + 176))) and v29.SoulBurst and  not ((aura_env.config['SoulBurstSwitchBack']==true) and (v7(v27.Evocation)>(1801 -(345 + 1376))) and (((v7(v27.ArcaneSurge)<(v30 * (691 -(198 + 490)))) and (v7(v27.TouchOfTheMagi)<(v30 * 5))) or false))) then v29.SoulCd=true;else v29.SoulCd=false;end v29.AoeTargetCount=2;if  not v20(v27.ArcingCleaveTalent) then v29.AoeTargetCount=9;end if ( not v12(v27.TouchOfTheMagiDebuff) and (v7(v27.TouchOfTheMagi)==(0 -0))) then v29.Opener=true;else local v60=0 -0 ;while true do if (v60==(1207 -(696 + 510))) then aura_env.UsedBarrage=false;v29.Opener=false;break;end if (v60==(0 -0)) then aura_env.UsedOrb=false;aura_env.UsedMissiles=false;v60=1;end end end v29.AoeList=aura_env.config['AoeList'];local v46={};WeakAuras.ScanEvents("K_TRIGED_EXTRA",v46,nil);local v47=function() local v54=1262 -(1091 + 171) ;while true do if (v54==3) then if (v4(v27.ArcaneSurge) and ((v7(v27.TouchOfTheMagi)<(max(C_Spell.GetSpellInfo(v27.ArcaneSurge).castTime/1000 ,WeakAuras.gcdDuration()) + (v30 * (((v33==(1 + 3)) and (3 -2)) or 0)))) or false)) then if ((aura_env.config[tostring(v27.ArcaneSurge)]==true) and aura_env.FlagKTrigCD) then v22("Arcane Surge");elseif (aura_env.config[tostring(v27.ArcaneSurge)]~=true) then local v103=0;while true do if (v103==(0 -0)) then v21("Arcane Surge");return true;end end end end break;end if (v54==(376 -(123 + 251))) then if (v3(v27.Evocation) and (((v7(v27.ArcaneSurge)<(v30 * (14 -11))) and (v7(v27.TouchOfTheMagi)<(v30 * (703 -(208 + 490))))) or false)) then if ((aura_env.config[tostring(v27.Evocation)]==true) and aura_env.FlagKTrigCD) then v22("Evocation");elseif (aura_env.config[tostring(v27.Evocation)]~=true) then local v104=0 + 0 ;while true do if (v104==(0 + 0)) then v21("Evocation");return true;end end end end if (v3(v27.ArcaneMissiles) and  not v26(v27.ArcaneMissiles) and  not aura_env.UsedMissiles and ((aura_env.PrevCast==v27.Evocation) or v8(v27.Evocation) or (aura_env.PrevCast==v27.ArcaneSurge) or v8(v27.ArcaneSurge) or v29.Opener) and (v37==0)) then local v96=836 -(660 + 176) ;while true do if (v96==0) then v21("Arcane Missiles");return true;end end end v54=1 + 2 ;end if (v54==(203 -(14 + 188))) then if (v3(v27.ArcaneOrb) and v20(v27.HighVoltageTalent) and v29.Opener and  not aura_env.UsedOrb) then if ((aura_env.config[tostring(v27.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v22("Arcane Orb");elseif (aura_env.config[tostring(v27.ArcaneOrb)]~=true) then v21("Arcane Orb");return true;end end if (v3(v27.ArcaneBarrage) and v29.Opener and  not aura_env.UsedBarrage and v11(v27.ArcaneTempoBuff) and v3(v27.Evocation) and (v5("player",v27.ArcaneTempoBuff)<(v30 * 5))) then local v97=0;while true do if (v97==0) then v21("Arcane Barrage");return true;end end end v54=677 -(534 + 141) ;end if (v54==0) then if (v3(v27.TouchOfTheMagi) and ((aura_env.PrevCast==v27.ArcaneSurge) or v8(v27.ArcaneSurge) or ((v7(v27.ArcaneSurge)>30) and v3(v27.TouchOfTheMagi) and true))) then if ((aura_env.config[tostring(v27.TouchOfTheMagi)]==true) and aura_env.FlagKTrigCD) then v22("Touch Of The Magi");elseif (aura_env.config[tostring(v27.TouchOfTheMagi)]~=true) then local v105=0 + 0 ;while true do if (v105==(0 + 0)) then v21("Touch Of The Magi");return true;end end end end if (v3(v27.ArcaneBlast) and (v11(v27.PresenceOfMind))) then local v98=0 + 0 ;while true do if (v98==0) then v21("Arcane Blast");return true;end end end v54=1 -0 ;end end end;local v48=function() local v55=0 -0 ;while true do if (v55==(2 -1)) then if (v3(v27.TouchOfTheMagi) and ((v11(v27.ArcaneSurgeBuff) and (v5("player",v27.ArcaneSurgeBuff)<=2.5) and true) or ((v7(v27.Evocation)>40) and (v7(v27.Evocation)<(33 + 27)) and true))) then if ((aura_env.config[tostring(v27.TouchOfTheMagi)]==true) and aura_env.FlagKTrigCD) then v22("Touch Of The Magi");elseif (aura_env.config[tostring(v27.TouchOfTheMagi)]~=true) then local v106=0;while true do if (v106==(0 + 0)) then v21("Touch Of The Magi");return true;end end end end break;end if (v55==(396 -(115 + 281))) then if (v4(v27.ArcaneSurge) and (v7(v27.TouchOfTheMagi)<(34 -19))) then if ((aura_env.config[tostring(v27.ArcaneSurge)]==true) and aura_env.FlagKTrigCD) then v22("Arcane Surge");elseif (aura_env.config[tostring(v27.ArcaneSurge)]~=true) then local v107=0 + 0 ;while true do if (v107==(0 -0)) then v21("Arcane Surge");return true;end end end end if (v3(v27.Evocation) and v11(v27.ArcaneSurgeBuff) and ((v5("player",v27.ArcaneSurgeBuff)<=(40 -29)) or ((v11(v27.GloriousIncandescenceBuff) or v11(v27.IntuitionBuff)) and (v5("player",v27.ArcaneSurgeBuff)<=13)))) then if ((aura_env.config[tostring(v27.Evocation)]==true) and aura_env.FlagKTrigCD) then v22("Evocation");elseif (aura_env.config[tostring(v27.Evocation)]~=true) then local v108=0;while true do if (v108==0) then v21("Evocation");return true;end end end end v55=868 -(550 + 317) ;end end end;local v49=function() if (v3(v27.ShiftingPower) and (((((C_Spell.GetSpellCharges(v27.ArcaneOrb).currentCharges==(0 -0)) and (v7(v27.ArcaneOrb)>16)) or (v7(v27.TouchOfTheMagi)<(28 -8))) and (v11(v27.ArcaneSurgeBuff)==false) and (v11(v27.SiphonStormBuff)==false) and (v12(v27.TouchOfTheMagiDebuff)==false) and ( not v11(v27.IntuitionBuff) or (v11(v27.IntuitionBuff) and (v5("player",v27.IntuitionBuff)>(8.5 -5)))) and (v7(v27.TouchOfTheMagi)>((297 -(134 + 151)) + ((1671 -(970 + 695)) * v30)))) or (((aura_env.PrevCast==v27.ArcaneBarrage) or v8(v27.ArcaneBarrage)) and v20(v27.ShiftingShardsTalent) and ( not v11(v27.IntuitionBuff) or (v11(v27.IntuitionBuff) and (v5("player",v27.IntuitionBuff)>(5.5 -2)))) and (v11(v27.ArcaneSurgeBuff) or v12(v27.TouchOfTheMagiDebuff) or (v7(v27.Evocation)<20)))) and (v18(2050 -(582 + 1408) ,v40)>10) and ((v5("player",v27.ArcaneTempoBuff)>(v30 * 2.5)) or (v11(v27.ArcaneTempoBuff)==false))) then if ((aura_env.config[tostring(v27.ShiftingPower)]==true) and aura_env.FlagKTrigCD) then v22("Shifting Power");elseif (aura_env.config[tostring(v27.ShiftingPower)]~=true) then local v99=0 -0 ;while true do if (v99==(0 -0)) then v21("Shifting Power");return true;end end end end if (v3(v27.Supernova) and (v6("target",v27.TouchOfTheMagiDebuff)<=v30) and (v9(v27.UnerringProficiencyBuff)==(113 -83))) then if ((aura_env.config[tostring(v27.Supernova)]==true) and aura_env.FlagKTrigCD) then v22("Supernova");elseif (aura_env.config[tostring(v27.Supernova)]~=true) then v21("Supernova");return true;end end if (v3(v27.ArcaneOrb) and (v33<(1828 -(1195 + 629)))) then if ((aura_env.config[tostring(v27.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v22("Arcane Orb");elseif (aura_env.config[tostring(v27.ArcaneOrb)]~=true) then local v100=0 -0 ;while true do if (v100==(241 -(187 + 54))) then v21("Arcane Orb");return true;end end end end if (v3(v27.ArcaneBarrage) and v11(v27.ArcaneTempoBuff) and (v5("player",v27.ArcaneTempoBuff)<=(v30 * (782 -(162 + 618))))) then local v63=0 + 0 ;while true do if (v63==(0 + 0)) then v21("Arcane Barrage");return true;end end end if (v3(v27.ArcaneMissiles) and  not v26(v27.ArcaneMissiles) and v11(v27.AetherAttunementBuff) and (v7(v27.TouchOfTheMagi)<(v30 * 3)) and v11(v27.ClearcastingBuff) and (v32>=(8 -4))) then local v64=0 -0 ;while true do if (v64==(0 + 0)) then v21("Arcane Missiles");return true;end end end if (v3(v27.ArcaneBarrage) and (v33==4) and (v9(v27.ArcaneHarmonyBuff)>=20) and (v31>=(1640 -(1373 + 263)))) then local v65=0;while true do if (v65==(1000 -(451 + 549))) then v21("Arcane Barrage");return true;end end end if (v3(v27.ArcaneMissiles) and  not v26(v27.ArcaneMissiles) and ((v11(v27.ClearcastingBuff) and (v37==(0 + 0)) and (((v7(v27.TouchOfTheMagi)>(v30 * (10 -3))) and (v7(v27.ArcaneSurge)>(v30 * (11 -4)))) or (v9(v27.ClearcastingBuff)>(1385 -(746 + 638))) or  not v20(v27.MagisSparkTalent) or ((v7(v27.TouchOfTheMagi)<(v30 * (2 + 2))) and (v9(v27.AetherAttunementBuff)==(0 -0))) or (v32>=(345 -(218 + 123))))) or ((v18(1641 -(1535 + 46) ,v40)<5) and v11(v27.ClearcastingBuff)))) then v21("Arcane Missiles");return true;end if (v3(v27.ArcaneMissiles) and  not v26(v27.ArcaneMissiles) and IsPlayerSpell(v27.HighVoltageTalent) and ((v9(v27.ClearcastingBuff)>(1 + 0)) or (v11(v27.ClearcastingBuff) and v11(v27.AetherAttunementBuff))) and (v33<(1 + 2))) then local v66=560 -(306 + 254) ;while true do if (v66==(0 + 0)) then v21("Arcane Missiles");return true;end end end if (v3(v27.ArcaneBarrage) and (v11(v27.IntuitionBuff))) then local v67=0 -0 ;while true do if (v67==(1467 -(899 + 568))) then v21("Arcane Barrage");return true;end end end if (v3(v27.ArcaneBlast) and (aura_env.NeedArcaneBlastSpark or v11(v27.LeydrinkerBuff))) then v21("Arcane Blast");return true;end if (v3(v27.ArcaneBlast) and (v37>0) and (v9(v27.ArcaneHarmonyBuff)<=16) and (v33==(3 + 1)) and (v39==(2 -1))) then local v68=603 -(268 + 335) ;while true do if (v68==(290 -(60 + 230))) then v21("Arcane Blast");return true;end end end if (v3(v27.ArcaneBarrage) and (((v35/v36) * 100)<(582 -(426 + 146))) and (v11(v27.ArcaneSurgeBuff)==false) and (v7(v27.ArcaneOrb)<v30)) then v21("Arcane Barrage");return true;end if (v3(v27.ArcaneOrb) and (v39==1) and ((v7(v27.TouchOfTheMagi)<(1 + 5)) or  not v20(v27.ChargedOrbTalent) or v11(v27.ArcaneSurgeBuff) or (v14(v27.ArcaneOrb)>(1457.5 -(282 + 1174))))) then if ((aura_env.config[tostring(v27.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v22("Arcane Orb");elseif (aura_env.config[tostring(v27.ArcaneOrb)]~=true) then v21("Arcane Orb");return true;end end if (v3(v27.ArcaneBarrage) and (v39>=(813 -(569 + 242))) and (v33==(11 -7)) and (v7(v27.ArcaneOrb)<v30) and (v9(v27.ArcaneHarmonyBuff)<=(8 + ((1 + 9) * (((v31>=(1028 -(706 + 318))) and (1251 -(721 + 530))) or (1272 -(945 + 326)))))) and ((((aura_env.PrevCast==v27.ArcaneBarrage) or v8(v27.ArcaneBarrage) or (aura_env.PrevCast==v27.ArcaneOrb) or v8(v27.ArcaneOrb)) and (v37==1)) or (v37==(4 -2)) or (v37==(0 + 0)))) then local v69=700 -(271 + 429) ;while true do if (v69==0) then v21("Arcane Barrage");return true;end end end if (v3(v27.ArcaneBarrage) and (v39>(2 + 0)) and (v33==(1504 -(1408 + 92))) and  not (v31>=(1090 -(461 + 625)))) then local v70=0;while true do if (v70==0) then v21("Arcane Barrage");return true;end end end if (v3(v27.ArcaneOrb) and (v39>(1289 -(993 + 295))) and (v9(v27.ArcaneHarmonyBuff)<(2 + 18)) and (v11(v27.ArcaneSurgeBuff) or (v37>(1171 -(418 + 753))) or (v39>=(3 + 4))) and (v31>=(1 + 3))) then if ((aura_env.config[tostring(v27.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v22("Arcane Orb");elseif (aura_env.config[tostring(v27.ArcaneOrb)]~=true) then local v101=0;while true do if (v101==0) then v21("Arcane Orb");return true;end end end end if (v3(v27.ArcaneBarrage) and v20(v27.HighVoltageTalent) and (v39>=(1 + 1)) and (v33==4) and v11(v27.AetherAttunementBuff) and v11(v27.ClearcastingBuff)) then local v71=0 + 0 ;while true do if (v71==0) then v21("Arcane Barrage");return true;end end end if (v3(v27.ArcaneOrb) and (v39>1) and ((v39<(532 -(406 + 123))) or v11(v27.ArcaneSurgeBuff) or (v37>0)) and (v31>=4)) then if ((aura_env.config[tostring(v27.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v22("Arcane Orb");elseif (aura_env.config[tostring(v27.ArcaneOrb)]~=true) then v21("Arcane Orb");return true;end end if (v3(v27.ArcaneBarrage) and (v39>(1770 -(1749 + 20))) and (v33==(1 + 3)) and (v7(v27.ArcaneOrb)<v30)) then local v72=1322 -(1249 + 73) ;while true do if (0==v72) then v21("Arcane Barrage");return true;end end end if (v3(v27.ArcaneBarrage) and v20(v27.HighVoltageTalent) and (v33==4) and v11(v27.ClearcastingBuff) and (v37==1)) then local v73=0 + 0 ;while true do if (v73==0) then v21("Arcane Barrage");return true;end end end if (v3(v27.ArcaneBarrage) and (v39<=(1146 -(466 + 679))) and (v20(v27.OrbBarrageTalent) or ((((UnitHealth("target")/UnitHealthMax("target")) * 100)<(84 -49)) and v20(v27.ArcaneBombardmentTalent))) and (v7(v27.ArcaneOrb)<v30) and (v33==(11 -7)) and ((v7(v27.TouchOfTheMagi)>(v30 * (1906 -(106 + 1794)))) or  not v20(v27.MagisSparkTalent)) and ((v37==0) or ((v37==(1 + 0)) and (v9(v27.ClearcastingBuff)==0))) and  not (v31>=(2 + 2))) then local v74=0;while true do if ((0 -0)==v74) then v21("Arcane Barrage");return true;end end end if (v3(v27.ArcaneExplosion) and WeakAuras.CheckRange("target",27 -17 ,"<=") and (v39>(115 -(4 + 110))) and (((v33<(585 -(57 + 527))) and  not v20(v27.HighVoltageTalent)) or ((v33<(1430 -(41 + 1386))) and ((v9(v27.ClearcastingBuff)==(103 -(17 + 86))) or v20(v27.ReverberateTalent))))) then v21("Arcane Explosion");return true;end if (v3(v27.ArcaneExplosion) and WeakAuras.CheckRange("target",7 + 3 ,"<=") and (v39==1) and (v33<2) and  not v11(v27.ClearcastingBuff)) then local v75=0 -0 ;while true do if (v75==0) then v21("Arcane Explosion");return true;end end end if (v3(v27.ArcaneBarrage) and (((((UnitHealth("target")/UnitHealthMax("target")) * 100)<(101 -66)) and (v6("target",v27.TouchOfTheMagiDebuff)<(v30 * 1.25)) and (v6("target",v27.TouchOfTheMagiDebuff)>(166.75 -(122 + 44)))) or ((v5("player",v27.ArcaneSurgeBuff)<v30) and v11(v27.ArcaneSurgeBuff))) and (v33==(6 -2)) and  not (v31>=4)) then local v76=0 -0 ;while true do if (v76==(0 + 0)) then v21("Arcane Barrage");return true;end end end if v3(v27.ArcaneBlast) then local v77=0;while true do if (v77==0) then v21("Arcane Blast");return true;end end end if v3(v27.ArcaneBarrage) then local v78=0 + 0 ;while true do if (v78==0) then v21("Arcane Barrage");return true;end end end end;local v50=function() if (v3(v27.ShiftingPower) and (v11(v27.ArcaneSurgeBuff)==false) and (v11(v27.SiphonStormBuff)==false) and (v12(v27.TouchOfTheMagiDebuff)==false) and (v7(v27.Evocation)>15) and (v7(v27.TouchOfTheMagi)>10) and (v18(60,v40)>(20 -10)) and (v11(v27.ArcaneSoulBuff)==false) and ( not v11(v27.IntuitionBuff) or (v11(v27.IntuitionBuff) and (v5("player",v27.IntuitionBuff)>(68.5 -(30 + 35)))))) then if ((aura_env.config[tostring(v27.ShiftingPower)]==true) and aura_env.FlagKTrigCD) then v22("Shifting Power");elseif (aura_env.config[tostring(v27.ShiftingPower)]~=true) then local v102=0 + 0 ;while true do if (v102==0) then v21("Shifting Power");return true;end end end end if (v3(v27.ArcaneMissiles) and  not v26(v27.ArcaneMissiles) and (v37==(1257 -(1043 + 214))) and v11(v27.ClearcastingBuff) and v11(v27.ArcaneSoulBuff) and (v5("player",v27.ArcaneSoulBuff)>(v30 * (4 -((v11(v27.ClearcastingBuff) and (3 -2)) or 0))))) then local v79=1212 -(323 + 889) ;while true do if ((0 -0)==v79) then v21("Arcane Missiles");return true;end end end if (v3(v27.ArcaneBarrage) and (v11(v27.ArcaneSoulBuff))) then local v80=580 -(361 + 219) ;while true do if (v80==0) then v21("Arcane Barrage");return true;end end end if (v3(v27.ArcaneMissiles) and  not v26(v27.ArcaneMissiles) and v11(v27.ClearcastingBuff) and v11(v27.ArcaneSurgeBuff) and (v5("player",v27.ArcaneSurgeBuff)<(v30 * (322 -(53 + 267))))) then local v81=0 + 0 ;while true do if (0==v81) then v21("Arcane Missiles");return true;end end end if (v3(v27.ArcaneBarrage) and ((v11(v27.ArcaneTempoBuff) and (v5("player",v27.ArcaneTempoBuff)<(v30 + (v30 * (((v37==(414 -(15 + 398))) and (983 -(18 + 964))) or 0))))) or (v11(v27.IntuitionBuff) and (v5("player",v27.IntuitionBuff)<(v30 + (v30 * (((v37==1) and 1) or 0))))))) then local v82=0 -0 ;while true do if (v82==(0 + 0)) then v21("Arcane Barrage");return true;end end end if (v3(v27.ArcaneBarrage) and v20(v27.OrbBarrageTalent) and (v39>1) and (v9(v27.ArcaneHarmonyBuff)>=(12 + 6)) and (((v39>(853 -(20 + 830))) and (v20(v27.ResonanceTalent) or v20(v27.HighVoltageTalent))) or (v37==0) or (v37==(1 + 0)) or ((v37==2) and (v9(v27.ClearcastingBuff)==3)))) then v21("Arcane Barrage");return true;end if (v3(v27.ArcaneMissiles) and  not v26(v27.ArcaneMissiles) and v11(v27.ClearcastingBuff) and (v32>=(130 -(116 + 10))) and v11(v27.AetherAttunementBuff) and (v7(v27.TouchOfTheMagi)<(v30 * ((1 + 2) -((739.5 -(542 + 196)) * (((v39>(6 -3)) and ( not v20(v27.TimeLoopTalent) or v20(v27.ResonanceTalent)) and (1 + 0)) or 0)))))) then local v83=0 + 0 ;while true do if (0==v83) then v21("Arcane Missiles");return true;end end end if (v3(v27.ArcaneBlast) and aura_env.NeedArcaneBlastSpark and (v33==(2 + 2))) then v21("Arcane Blast");return true;end if (v3(v27.ArcaneBarrage) and v20(v27.HighVoltageTalent) and (v39>1) and (v33==(10 -6)) and v11(v27.ClearcastingBuff) and (v37==1)) then local v84=0 -0 ;while true do if (v84==0) then v21("Arcane Barrage");return true;end end end if (v3(v27.ArcaneBarrage) and v20(v27.HighVoltageTalent) and (v39>(1552 -(1126 + 425))) and (v33==(409 -(118 + 287))) and v11(v27.ClearcastingBuff) and v11(v27.AetherAttunementBuff) and (v11(v27.GloriousIncandescenceBuff)==false) and (v11(v27.IntuitionBuff)==false)) then v21("Arcane Barrage");return true;end if (v3(v27.ArcaneBarrage) and (v39>(7 -5)) and v20(v27.OrbBarrageTalent) and v20(v27.HighVoltageTalent) and  not aura_env.NeedArcaneBlastSpark and (v33==4) and (((UnitHealth("target")/UnitHealthMax("target")) * 100)<(1156 -(118 + 1003))) and v20(v27.ArcaneBombardmentTalent) and ((v37>0) or ((v37==(0 -0)) and (v9(v27.ClearcastingBuff)==(377 -(142 + 235)))))) then local v85=0;while true do if (v85==(0 -0)) then v21("Arcane Barrage");return true;end end end if (v3(v27.ArcaneBarrage) and ((v39>(1 + 1)) or ((v39>1) and (((UnitHealth("target")/UnitHealthMax("target")) * 100)<(1012 -(553 + 424))) and v20(v27.ArcaneBombardmentTalent))) and (v7(v27.ArcaneOrb)<v30) and (v33==(7 -3)) and (v7(v27.TouchOfTheMagi)>(v30 * (6 + 0))) and ( not aura_env.NeedArcaneBlastSpark or  not v20(v27.MagisSparkTalent)) and (v37>0) and (v20(v27.HighVoltageTalent) or (( not v11(v27.LeydrinkerBuff) or ((((UnitHealth("target")/UnitHealthMax("target")) * (100 + 0))<(21 + 14)) and v20(v27.ArcaneBombardmentTalent) and (v39>=(2 + 2)) and v20(v27.ResonanceTalent))) and (v37==2)) or ((v37==(1 + 0)) and  not v11(v27.ClearcastingBuff)))) then v21("Arcane Barrage");return true;end if (v3(v27.ArcaneMissiles) and  not v26(v27.ArcaneMissiles) and v11(v27.ClearcastingBuff) and ((v20(v27.HighVoltageTalent) and (v33<4)) or ((v37==(0 -0)) and ((v9(v27.ClearcastingBuff)>1) or (v9(v27.SpellfireSpheresBuff)==(16 -10)) or v11(v27.BurdenOfPowerBuff) or v11(v27.GloriousIncandescenceBuff) or v11(v27.IntuitionBuff))))) then local v86=0 -0 ;while true do if (v86==(0 + 0)) then v21("Arcane Missiles");return true;end end end if (v3(v27.ArcaneOrb) and (v33<(14 -11))) then if ((aura_env.config[tostring(v27.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v22("Arcane Orb");elseif (aura_env.config[tostring(v27.ArcaneOrb)]~=true) then v21("Arcane Orb");return true;end end if (v3(v27.ArcaneBarrage) and (v11(v27.GloriousIncandescenceBuff) or v11(v27.IntuitionBuff))) then local v87=753 -(239 + 514) ;while true do if (v87==(0 + 0)) then v21("Arcane Barrage");return true;end end end if (v3(v27.ArcaneExplosion) and WeakAuras.CheckRange("target",1339 -(797 + 532) ,"<=") and (v33<(2 + 0)) and (v39>1)) then local v88=0 + 0 ;while true do if (v88==(0 -0)) then v21("Arcane Explosion");return true;end end end if v3(v27.ArcaneBlast) then v21("Arcane Blast");return true;end if v3(v27.ArcaneBarrage) then local v89=1202 -(373 + 829) ;while true do if (v89==(731 -(476 + 255))) then v21("Arcane Barrage");return true;end end end end;if (v3(v27.ArcaneBarrage) and (v18(60,v40)<(1132 -(369 + 761)))) then local v61=0 + 0 ;while true do if ((0 -0)==v61) then v21("Arcane Barrage");return true;end end end if  not v29.SoulCd then if v47() then return true;end end if v29.SoulCd then if v48() then return true;end end if v20(v27.SpellfireSpheresTalent) then if v50() then return true;end end if  not v20(v27.SpellfireSpheresTalent) then if v49() then return true;end end if v3(v27.ArcaneBarrage) then local v62=0;while true do if (v62==0) then v21("Arcane Barrage");return true;end end end v21("Clear");v22("Clear");end;