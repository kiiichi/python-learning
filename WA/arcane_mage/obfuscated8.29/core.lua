function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=C_SpellBook.IsSpellKnown;local v21=aura_env.KTrig;local v22=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v24=aura_env.FullGCD;local v25=aura_env.TalentRank;local v26=aura_env.ids;aura_env.OutOfRange=false;local v28={};local v29=max(1.5/(1 + (0.01 * UnitSpellHaste("player"))) ,0.75);local v30=WeakAuras.GetNumSetItemsEquipped(4611 -2687 );local v31=WeakAuras.GetNumSetItemsEquipped(2081 -(111 + 98) );local v32=UnitPower("player",Enum.PowerType.ArcaneCharges);local v33=UnitPowerMax("player",Enum.PowerType.ArcaneCharges);local v34=UnitPower("player",Enum.PowerType.Mana);local v35=UnitPowerMax("player",Enum.PowerType.Mana);local v36=v9(v26.NetherPrecisionBuff);local v37=select(1532 -(1098 + 425) ,UnitCastingInfo("player"));if (v37~=nil) then if (v37==v26.ArcaneBlast) then local v87=0 -0 ;while true do if (v87==0) then v32=min(4,v32 + (2 -1) );v36=max(1413 -(447 + 966) ,v36-(2 -1) );break;end end end end local v38=1817 -(1703 + 114) ;local v39=741 -(376 + 325) ;for v50=1 -0 ,123 -83  do local v51=0;local v52;while true do if (v51==(0 + 0)) then v52="nameplate"   .. v50 ;if (UnitExists(v52) and  not UnitIsFriend("player",v52) and WeakAuras.CheckRange(v52,v39,"<=") and (UnitAffectingCombat(v52) or aura_env.config['BypassCombatRequirement'])) then v38=v38 + (2 -1) ;end break;end end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v38);if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then local v88=14 -(9 + 5) ;while true do if (v88==(377 -(85 + 291))) then v22("Clear",nil);return;end if (v88==(1265 -(243 + 1022))) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",ExtraGlows);v21("Clear",nil);v88=1;end end end end v28.SoulBurst=aura_env.config['SoulBurstSwitch'];if ((v30>=4) and v20(v26.SpellfireSpheresTalent) and v20(v26.ResonanceTalent) and  not v20(v26.MagisSparkTalent) and (v38>=(11 -8)) and v28.SoulBurst) then v28.SoulCd=true;else v28.SoulCd=false;end v28.AoeTargetCount=2 + 0 ;if  not v20(v26.ArcingCleaveTalent) then v28.AoeTargetCount=1189 -(1123 + 57) ;end if ( not v12(v26.TouchOfTheMagiDebuff) and (v7(v26.TouchOfTheMagi)==0)) then v28.Opener=true;else local v58=0 + 0 ;while true do if (v58==(255 -(163 + 91))) then aura_env.UsedBarrage=false;v28.Opener=false;break;end if (v58==0) then aura_env.UsedOrb=false;aura_env.UsedMissiles=false;v58=1931 -(1869 + 61) ;end end end v28.AoeList=aura_env.config['AoeList'];local v45={};WeakAuras.ScanEvents("K_TRIGED_EXTRA",v45,nil);local v46=function() if (v3(v26.TouchOfTheMagi) and ((aura_env.PrevCast==v26.ArcaneSurge) or v8(v26.ArcaneSurge) or ((v7(v26.ArcaneSurge)>(9 + 21)) and v3(v26.TouchOfTheMagi) and true))) then if ((aura_env.config[tostring(v26.TouchOfTheMagi)]==true) and aura_env.FlagKTrigCD) then v22("Touch Of The Magi");elseif (aura_env.config[tostring(v26.TouchOfTheMagi)]~=true) then v21("Touch Of The Magi");return true;end end if (v3(v26.ArcaneBlast) and (v11(v26.PresenceOfMind))) then local v60=0;while true do if (v60==0) then v21("Arcane Blast");return true;end end end if (v3(v26.ArcaneOrb) and v20(v26.HighVoltageTalent) and v28.Opener and  not aura_env.UsedOrb) then if ((aura_env.config[tostring(v26.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v22("Arcane Orb");elseif (aura_env.config[tostring(v26.ArcaneOrb)]~=true) then v21("Arcane Orb");return true;end end if (v3(v26.ArcaneBarrage) and v28.Opener and  not aura_env.UsedBarrage and v11(v26.ArcaneTempoBuff) and v3(v26.Evocation) and (v5("player",v26.ArcaneTempoBuff)<(v29 * 5))) then v21("Arcane Barrage");return true;end if (v3(v26.Evocation) and (((v7(v26.ArcaneSurge)<(v29 * (10 -7))) and (v7(v26.TouchOfTheMagi)<(v29 * (7 -2)))) or false)) then if ((aura_env.config[tostring(v26.Evocation)]==true) and aura_env.FlagKTrigCD) then v22("Evocation");elseif (aura_env.config[tostring(v26.Evocation)]~=true) then local v93=0 + 0 ;while true do if (v93==(0 -0)) then v21("Evocation");return true;end end end end if (v3(v26.ArcaneMissiles) and  not aura_env.UsedMissiles and ((aura_env.PrevCast==v26.Evocation) or v8(v26.Evocation) or (aura_env.PrevCast==v26.ArcaneSurge) or v8(v26.ArcaneSurge) or v28.Opener) and (v36==(0 + 0))) then v21("Arcane Missiles");return true;end if (v4(v26.ArcaneSurge) and ((v7(v26.TouchOfTheMagi)<(max(C_Spell.GetSpellInfo(v26.ArcaneSurge).castTime/1000 ,WeakAuras.gcdDuration()) + (v29 * (((v32==(1478 -(1329 + 145))) and 1) or (971 -(140 + 831)))))) or false)) then if ((aura_env.config[tostring(v26.ArcaneSurge)]==true) and aura_env.FlagKTrigCD) then v22("Arcane Surge");elseif (aura_env.config[tostring(v26.ArcaneSurge)]~=true) then local v94=0;while true do if (v94==(1850 -(1409 + 441))) then v21("Arcane Surge");return true;end end end end end;local v47=function() local v53=0;while true do if (v53==(718 -(15 + 703))) then if (v4(v26.ArcaneSurge) and (v7(v26.TouchOfTheMagi)<15)) then if ((aura_env.config[tostring(v26.ArcaneSurge)]==true) and aura_env.FlagKTrigCD) then v22("Arcane Surge");elseif (aura_env.config[tostring(v26.ArcaneSurge)]~=true) then local v102=0;while true do if (v102==(0 + 0)) then v21("Arcane Surge");return true;end end end end if (v3(v26.Evocation) and v11(v26.ArcaneSurgeBuff) and ((v5("player",v26.ArcaneSurgeBuff)<=11) or ((v11(v26.GloriousIncandescenceBuff) or v11(v26.IntuitionBuff)) and (v5("player",v26.ArcaneSurgeBuff)<=(451 -(262 + 176)))))) then if ((aura_env.config[tostring(v26.Evocation)]==true) and aura_env.FlagKTrigCD) then v22("Evocation");elseif (aura_env.config[tostring(v26.Evocation)]~=true) then local v103=1721 -(345 + 1376) ;while true do if (v103==0) then v21("Evocation");return true;end end end end v53=689 -(198 + 490) ;end if (v53==1) then if (v3(v26.TouchOfTheMagi) and ((v11(v26.ArcaneSurgeBuff) and (v5("player",v26.ArcaneSurgeBuff)<=(8.5 -6)) and true) or ((v7(v26.Evocation)>(95 -55)) and (v7(v26.Evocation)<60) and true))) then if ((aura_env.config[tostring(v26.TouchOfTheMagi)]==true) and aura_env.FlagKTrigCD) then v22("Touch Of The Magi");elseif (aura_env.config[tostring(v26.TouchOfTheMagi)]~=true) then local v104=1206 -(696 + 510) ;while true do if (v104==(0 -0)) then v21("Touch Of The Magi");return true;end end end end break;end end end;local v48=function() if (v3(v26.ShiftingPower) and (((((C_Spell.GetSpellCharges(v26.ArcaneOrb).currentCharges==(1262 -(1091 + 171))) and (v7(v26.ArcaneOrb)>(3 + 13))) or (v7(v26.TouchOfTheMagi)<(62 -42))) and (v11(v26.ArcaneSurgeBuff)==false) and (v11(v26.SiphonStormBuff)==false) and (v12(v26.TouchOfTheMagiDebuff)==false) and ( not v11(v26.IntuitionBuff) or (v11(v26.IntuitionBuff) and (v5("player",v26.IntuitionBuff)>(9.5 -6)))) and (v7(v26.TouchOfTheMagi)>(12 + (6 * v29)))) or (((aura_env.PrevCast==v26.ArcaneBarrage) or v8(v26.ArcaneBarrage)) and v20(v26.ShiftingShardsTalent) and ( not v11(v26.IntuitionBuff) or (v11(v26.IntuitionBuff) and (v5("player",v26.IntuitionBuff)>(377.5 -(123 + 251))))) and (v11(v26.ArcaneSurgeBuff) or v12(v26.TouchOfTheMagiDebuff) or (v7(v26.Evocation)<(99 -79))))) and (v18(758 -(208 + 490) ,v39)>(1 + 9)) and ((v5("player",v26.ArcaneTempoBuff)>(v29 * (1.5 + 1))) or (v11(v26.ArcaneTempoBuff)==false))) then if ((aura_env.config[tostring(v26.ShiftingPower)]==true) and aura_env.FlagKTrigCD) then v22("Shifting Power");elseif (aura_env.config[tostring(v26.ShiftingPower)]~=true) then local v95=836 -(660 + 176) ;while true do if (v95==0) then v21("Shifting Power");return true;end end end end if (v3(v26.Supernova) and (v6("target",v26.TouchOfTheMagiDebuff)<=v29) and (v9(v26.UnerringProficiencyBuff)==30)) then if ((aura_env.config[tostring(v26.Supernova)]==true) and aura_env.FlagKTrigCD) then v22("Supernova");elseif (aura_env.config[tostring(v26.Supernova)]~=true) then local v96=0;while true do if ((0 + 0)==v96) then v21("Supernova");return true;end end end end if (v3(v26.ArcaneOrb) and (v32<(206 -(14 + 188)))) then if ((aura_env.config[tostring(v26.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v22("Arcane Orb");elseif (aura_env.config[tostring(v26.ArcaneOrb)]~=true) then local v97=0;while true do if (v97==(675 -(534 + 141))) then v21("Arcane Orb");return true;end end end end if (v3(v26.ArcaneBarrage) and v11(v26.ArcaneTempoBuff) and (v5("player",v26.ArcaneTempoBuff)<=(v29 * (1 + 1)))) then v21("Arcane Barrage");return true;end if (v3(v26.ArcaneMissiles) and v11(v26.AetherAttunementBuff) and (v7(v26.TouchOfTheMagi)<(v29 * (3 + 0))) and v11(v26.ClearcastingBuff) and (v31>=(4 + 0))) then local v61=0 -0 ;while true do if (v61==0) then v21("Arcane Missiles");return true;end end end if (v3(v26.ArcaneBarrage) and (v32==4) and (v9(v26.ArcaneHarmonyBuff)>=20) and (v30>=4)) then local v62=0 -0 ;while true do if (v62==(0 -0)) then v21("Arcane Barrage");return true;end end end if (v3(v26.ArcaneMissiles) and ((v11(v26.ClearcastingBuff) and (v36==(0 + 0)) and (((v7(v26.TouchOfTheMagi)>(v29 * (5 + 2))) and (v7(v26.ArcaneSurge)>(v29 * (403 -(115 + 281))))) or (v9(v26.ClearcastingBuff)>(2 -1)) or  not v20(v26.MagisSparkTalent) or ((v7(v26.TouchOfTheMagi)<(v29 * 4)) and (v9(v26.AetherAttunementBuff)==0)) or (v31>=4))) or ((v18(50 + 10 ,v39)<5) and v11(v26.ClearcastingBuff)))) then v21("Arcane Missiles");return true;end if (v3(v26.ArcaneMissiles) and IsPlayerSpell(v26.HighVoltageTalent) and ((v9(v26.ClearcastingBuff)>(2 -1)) or (v11(v26.ClearcastingBuff) and v11(v26.AetherAttunementBuff))) and (v32<(10 -7))) then local v63=867 -(550 + 317) ;while true do if (v63==(0 -0)) then v21("Arcane Missiles");return true;end end end if (v3(v26.ArcaneBarrage) and (v11(v26.IntuitionBuff))) then v21("Arcane Barrage");return true;end if (v3(v26.ArcaneBlast) and (aura_env.NeedArcaneBlastSpark or v11(v26.LeydrinkerBuff))) then local v64=0 -0 ;while true do if ((0 -0)==v64) then v21("Arcane Blast");return true;end end end if (v3(v26.ArcaneBlast) and (v36>0) and (v9(v26.ArcaneHarmonyBuff)<=(301 -(134 + 151))) and (v32==(1669 -(970 + 695))) and (v38==1)) then local v65=0 -0 ;while true do if (v65==(1990 -(582 + 1408))) then v21("Arcane Blast");return true;end end end if (v3(v26.ArcaneBarrage) and (((v34/v35) * 100)<(34 -24)) and (v11(v26.ArcaneSurgeBuff)==false) and (v7(v26.ArcaneOrb)<v29)) then local v66=0;while true do if (v66==(0 -0)) then v21("Arcane Barrage");return true;end end end if (v3(v26.ArcaneOrb) and (v38==(3 -2)) and ((v7(v26.TouchOfTheMagi)<(1830 -(1195 + 629))) or  not v20(v26.ChargedOrbTalent) or v11(v26.ArcaneSurgeBuff) or (v14(v26.ArcaneOrb)>1.5))) then if ((aura_env.config[tostring(v26.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v22("Arcane Orb");elseif (aura_env.config[tostring(v26.ArcaneOrb)]~=true) then local v98=0 -0 ;while true do if (v98==(241 -(187 + 54))) then v21("Arcane Orb");return true;end end end end if (v3(v26.ArcaneBarrage) and (v38>=2) and (v32==(784 -(162 + 618))) and (v7(v26.ArcaneOrb)<v29) and (v9(v26.ArcaneHarmonyBuff)<=(8 + ((8 + 2) * (((v30>=(3 + 1)) and (0 -0)) or (1 -0))))) and ((((aura_env.PrevCast==v26.ArcaneBarrage) or v8(v26.ArcaneBarrage) or (aura_env.PrevCast==v26.ArcaneOrb) or v8(v26.ArcaneOrb)) and (v36==(1 + 0))) or (v36==(1638 -(1373 + 263))) or (v36==(1000 -(451 + 549))))) then local v67=0 + 0 ;while true do if (v67==0) then v21("Arcane Barrage");return true;end end end if (v3(v26.ArcaneBarrage) and (v38>(2 -0)) and (v32==4) and  not (v30>=(6 -2))) then v21("Arcane Barrage");return true;end if (v3(v26.ArcaneOrb) and (v38>(1385 -(746 + 638))) and (v9(v26.ArcaneHarmonyBuff)<(8 + 12)) and (v11(v26.ArcaneSurgeBuff) or (v36>(0 -0)) or (v38>=(348 -(218 + 123)))) and (v30>=4)) then if ((aura_env.config[tostring(v26.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v22("Arcane Orb");elseif (aura_env.config[tostring(v26.ArcaneOrb)]~=true) then local v99=0;while true do if (v99==(1581 -(1535 + 46))) then v21("Arcane Orb");return true;end end end end if (v3(v26.ArcaneBarrage) and v20(v26.HighVoltageTalent) and (v38>=(2 + 0)) and (v32==4) and v11(v26.AetherAttunementBuff) and v11(v26.ClearcastingBuff)) then v21("Arcane Barrage");return true;end if (v3(v26.ArcaneOrb) and (v38>(1 + 0)) and ((v38<(563 -(306 + 254))) or v11(v26.ArcaneSurgeBuff) or (v36>(0 + 0))) and (v30>=(7 -3))) then if ((aura_env.config[tostring(v26.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v22("Arcane Orb");elseif (aura_env.config[tostring(v26.ArcaneOrb)]~=true) then v21("Arcane Orb");return true;end end if (v3(v26.ArcaneBarrage) and (v38>(1468 -(899 + 568))) and (v32==(3 + 1)) and (v7(v26.ArcaneOrb)<v29)) then v21("Arcane Barrage");return true;end if (v3(v26.ArcaneBarrage) and v20(v26.HighVoltageTalent) and (v32==(9 -5)) and v11(v26.ClearcastingBuff) and (v36==1)) then local v68=603 -(268 + 335) ;while true do if (v68==(290 -(60 + 230))) then v21("Arcane Barrage");return true;end end end if (v3(v26.ArcaneBarrage) and (v38<=(573 -(426 + 146))) and (v20(v26.OrbBarrageTalent) or ((((UnitHealth("target")/UnitHealthMax("target")) * 100)<(5 + 30)) and v20(v26.ArcaneBombardmentTalent))) and (v7(v26.ArcaneOrb)<v29) and (v32==4) and ((v7(v26.TouchOfTheMagi)>(v29 * (1462 -(282 + 1174)))) or  not v20(v26.MagisSparkTalent)) and ((v36==0) or ((v36==(812 -(569 + 242))) and (v9(v26.ClearcastingBuff)==(0 -0)))) and  not (v30>=(1 + 3))) then local v69=0;while true do if (v69==0) then v21("Arcane Barrage");return true;end end end if (v3(v26.ArcaneExplosion) and WeakAuras.CheckRange("target",1034 -(706 + 318) ,"<=") and (v38>(1252 -(721 + 530))) and (((v32<(1272 -(945 + 326))) and  not v20(v26.HighVoltageTalent)) or ((v32<(7 -4)) and ((v9(v26.ClearcastingBuff)==(0 + 0)) or v20(v26.ReverberateTalent))))) then local v70=700 -(271 + 429) ;while true do if (v70==(0 + 0)) then v21("Arcane Explosion");return true;end end end if (v3(v26.ArcaneExplosion) and WeakAuras.CheckRange("target",1510 -(1408 + 92) ,"<=") and (v38==(1087 -(461 + 625))) and (v32<(1290 -(993 + 295))) and  not v11(v26.ClearcastingBuff)) then local v71=0 + 0 ;while true do if (v71==(1171 -(418 + 753))) then v21("Arcane Explosion");return true;end end end if (v3(v26.ArcaneBarrage) and (((((UnitHealth("target")/UnitHealthMax("target")) * (39 + 61))<35) and (v6("target",v26.TouchOfTheMagiDebuff)<(v29 * 1.25)) and (v6("target",v26.TouchOfTheMagiDebuff)>(0.75 + 0))) or ((v5("player",v26.ArcaneSurgeBuff)<v29) and v11(v26.ArcaneSurgeBuff))) and (v32==(2 + 2)) and  not (v30>=4)) then local v72=0 + 0 ;while true do if (v72==(529 -(406 + 123))) then v21("Arcane Barrage");return true;end end end if v3(v26.ArcaneBlast) then local v73=1769 -(1749 + 20) ;while true do if (v73==0) then v21("Arcane Blast");return true;end end end if v3(v26.ArcaneBarrage) then local v74=0 + 0 ;while true do if ((1322 -(1249 + 73))==v74) then v21("Arcane Barrage");return true;end end end end;local v49=function() if (v3(v26.ShiftingPower) and (v11(v26.ArcaneSurgeBuff)==false) and (v11(v26.SiphonStormBuff)==false) and (v12(v26.TouchOfTheMagiDebuff)==false) and (v7(v26.Evocation)>(6 + 9)) and (v7(v26.TouchOfTheMagi)>(1155 -(466 + 679))) and (v18(60,v39)>(24 -14)) and (v11(v26.ArcaneSoulBuff)==false) and ( not v11(v26.IntuitionBuff) or (v11(v26.IntuitionBuff) and (v5("player",v26.IntuitionBuff)>3.5)))) then if ((aura_env.config[tostring(v26.ShiftingPower)]==true) and aura_env.FlagKTrigCD) then v22("Shifting Power");elseif (aura_env.config[tostring(v26.ShiftingPower)]~=true) then local v100=0 -0 ;while true do if (v100==0) then v21("Shifting Power");return true;end end end end if (v3(v26.ArcaneMissiles) and (v36==(1900 -(106 + 1794))) and v11(v26.ClearcastingBuff) and v11(v26.ArcaneSoulBuff) and (v5("player",v26.ArcaneSoulBuff)>(v29 * (4 -((v11(v26.ClearcastingBuff) and (1 + 0)) or 0))))) then v21("Arcane Missiles");return true;end if (v3(v26.ArcaneBarrage) and (v11(v26.ArcaneSoulBuff))) then local v75=0;while true do if (v75==(0 + 0)) then v21("Arcane Barrage");return true;end end end if (v3(v26.ArcaneMissiles) and v11(v26.ClearcastingBuff) and v11(v26.ArcaneSurgeBuff) and (v5("player",v26.ArcaneSurgeBuff)<(v29 * (5 -3)))) then local v76=0 -0 ;while true do if (v76==(114 -(4 + 110))) then v21("Arcane Missiles");return true;end end end if (v3(v26.ArcaneBarrage) and ((v11(v26.ArcaneTempoBuff) and (v5("player",v26.ArcaneTempoBuff)<(v29 + (v29 * (((v36==(585 -(57 + 527))) and (1428 -(41 + 1386))) or (103 -(17 + 86))))))) or (v11(v26.IntuitionBuff) and (v5("player",v26.IntuitionBuff)<(v29 + (v29 * (((v36==1) and (1 + 0)) or (0 -0)))))))) then local v77=0 -0 ;while true do if (v77==(166 -(122 + 44))) then v21("Arcane Barrage");return true;end end end if (v3(v26.ArcaneBarrage) and v20(v26.OrbBarrageTalent) and (v38>1) and (v9(v26.ArcaneHarmonyBuff)>=18) and (((v38>(5 -2)) and (v20(v26.ResonanceTalent) or v20(v26.HighVoltageTalent))) or (v36==0) or (v36==1) or ((v36==(6 -4)) and (v9(v26.ClearcastingBuff)==3)))) then local v78=0 + 0 ;while true do if (v78==0) then v21("Arcane Barrage");return true;end end end if (v3(v26.ArcaneMissiles) and v11(v26.ClearcastingBuff) and (v31>=4) and v11(v26.AetherAttunementBuff) and (v7(v26.TouchOfTheMagi)<(v29 * ((1 + 2) -(1.5 * (((v38>(5 -2)) and ( not v20(v26.TimeLoopTalent) or v20(v26.ResonanceTalent)) and (66 -(30 + 35))) or (0 + 0))))))) then local v79=1257 -(1043 + 214) ;while true do if (v79==(0 -0)) then v21("Arcane Missiles");return true;end end end if (v3(v26.ArcaneBlast) and aura_env.NeedArcaneBlastSpark and (v32==(1216 -(323 + 889)))) then v21("Arcane Blast");return true;end if (v3(v26.ArcaneBarrage) and v20(v26.HighVoltageTalent) and (v38>1) and (v32==4) and v11(v26.ClearcastingBuff) and (v36==(2 -1))) then local v80=580 -(361 + 219) ;while true do if ((320 -(53 + 267))==v80) then v21("Arcane Barrage");return true;end end end if (v3(v26.ArcaneBarrage) and v20(v26.HighVoltageTalent) and (v38>1) and (v32==(1 + 3)) and v11(v26.ClearcastingBuff) and v11(v26.AetherAttunementBuff) and (v11(v26.GloriousIncandescenceBuff)==false) and (v11(v26.IntuitionBuff)==false)) then local v81=0;while true do if ((413 -(15 + 398))==v81) then v21("Arcane Barrage");return true;end end end if (v3(v26.ArcaneBarrage) and (v38>2) and v20(v26.OrbBarrageTalent) and v20(v26.HighVoltageTalent) and  not aura_env.NeedArcaneBlastSpark and (v32==(986 -(18 + 964))) and (((UnitHealth("target")/UnitHealthMax("target")) * (376 -276))<(21 + 14)) and v20(v26.ArcaneBombardmentTalent) and ((v36>(0 + 0)) or ((v36==0) and (v9(v26.ClearcastingBuff)==(850 -(20 + 830)))))) then local v82=0 + 0 ;while true do if ((126 -(116 + 10))==v82) then v21("Arcane Barrage");return true;end end end if (v3(v26.ArcaneBarrage) and ((v38>2) or ((v38>1) and (((UnitHealth("target")/UnitHealthMax("target")) * (8 + 92))<(773 -(542 + 196))) and v20(v26.ArcaneBombardmentTalent))) and (v7(v26.ArcaneOrb)<v29) and (v32==4) and (v7(v26.TouchOfTheMagi)>(v29 * (12 -6))) and ( not aura_env.NeedArcaneBlastSpark or  not v20(v26.MagisSparkTalent)) and (v36>(0 + 0)) and (v20(v26.HighVoltageTalent) or (( not v11(v26.LeydrinkerBuff) or ((((UnitHealth("target")/UnitHealthMax("target")) * 100)<(18 + 17)) and v20(v26.ArcaneBombardmentTalent) and (v38>=4) and v20(v26.ResonanceTalent))) and (v36==2)) or ((v36==(1 + 0)) and  not v11(v26.ClearcastingBuff)))) then local v83=0;while true do if ((0 -0)==v83) then v21("Arcane Barrage");return true;end end end if (v3(v26.ArcaneMissiles) and v11(v26.ClearcastingBuff) and ((v20(v26.HighVoltageTalent) and (v32<4)) or ((v36==(0 -0)) and (v9(v26.ClearcastingBuff)>1)) or (v9(v26.SpellfireSpheresBuff)==(1557 -(1126 + 425))) or v11(v26.BurdenOfPowerBuff) or v11(v26.GloriousIncandescenceBuff) or v11(v26.IntuitionBuff))) then local v84=0;while true do if (v84==(405 -(118 + 287))) then v21("Arcane Missiles");return true;end end end if (v3(v26.ArcaneBarrage) and (v32==(15 -11)) and (v38>(1122 -(118 + 1003))) and (v38<5) and v11(v26.BurdenOfPowerBuff) and ((v20(v26.HighVoltageTalent) and v11(v26.ClearcastingBuff)) or v11(v26.GloriousIncandescenceBuff) or v11(v26.IntuitionBuff) or (v7(v26.ArcaneOrb)<v29) or (C_Spell.GetSpellCharges(v26.ArcaneOrb).currentCharges>(0 -0))) and ( not v20(v26.ConsortiumsBaubleTalent) or v20(v26.HighVoltageTalent))) then v21("Arcane Barrage");return true;end if (v3(v26.ArcaneOrb) and (v32<(380 -(142 + 235)))) then if ((aura_env.config[tostring(v26.ArcaneOrb)]==true) and aura_env.FlagKTrigCD) then v22("Arcane Orb");elseif (aura_env.config[tostring(v26.ArcaneOrb)]~=true) then local v101=0;while true do if (v101==(0 -0)) then v21("Arcane Orb");return true;end end end end if (v3(v26.ArcaneBarrage) and (v11(v26.GloriousIncandescenceBuff) or v11(v26.IntuitionBuff))) then local v85=0;while true do if (v85==0) then v21("Arcane Barrage");return true;end end end if (v3(v26.ArcaneExplosion) and WeakAuras.CheckRange("target",3 + 7 ,"<=") and (v32<(979 -(553 + 424))) and (v38>1)) then v21("Arcane Explosion");return true;end if v3(v26.ArcaneBlast) then local v86=0 -0 ;while true do if (v86==0) then v21("Arcane Blast");return true;end end end if v3(v26.ArcaneBarrage) then v21("Arcane Barrage");return true;end end;if (v3(v26.ArcaneBarrage) and (v18(60,v39)<(2 + 0))) then local v59=0 + 0 ;while true do if (0==v59) then v21("Arcane Barrage");return true;end end end if  not v28.SoulCd then if v46() then return true;end end if v28.SoulCd then if v47() then return true;end end if v20(v26.SpellfireSpheresTalent) then if v49() then return true;end end if  not v20(v26.SpellfireSpheresTalent) then if v48() then return true;end end if v3(v26.ArcaneBarrage) then v21("Arcane Barrage");return true;end v21("Clear");v22("Clear");end;