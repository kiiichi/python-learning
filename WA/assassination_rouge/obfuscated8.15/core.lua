function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.FullGCD;local v24=aura_env.GetRemainingStealthDuration;local v25=aura_env.ids;aura_env.OutOfRange=false;local v27={};local v28=WeakAuras.GetNumSetItemsEquipped(3272 -(1213 + 131) );local v29=UnitPower("player",Enum.PowerType.ComboPoints);local v30=GetUnitChargedPowerPoints("player");local v31=(v30 and  #v30) or (0 + 0) ;local v32=UnitPowerMax("player",Enum.PowerType.ComboPoints);local v33=UnitPower("player",Enum.PowerType.Energy);local v34=UnitPowerMax("player",Enum.PowerType.Energy);local v35=((v29>0) and (v29 + (math.min(v31,1 + 0 ) * ((7 -5) + ((IsPlayerSpell(v25.ForcedInductionTalent) and (3 -2)) or 0))))) or (859 -(814 + 45)) ;local v36=((aura_env.Envenom1<v2) and 0) or (aura_env.Envenom1-v2) ;local v37=v11(v25.SubterfugeBuff) or v11(v25.StealthBuff) ;local v38=v11(392403) or v11(966862 -574461 ) ;local v39=GetPowerRegen();local v40=(1 + 1)/(1 + 0 + ((885.01 -(261 + 624)) * UnitSpellHaste("player"))) ;local v41=0 -0 ;local v42=0;local v43={1783 -(1020 + 60) ,3366 -(630 + 793) ,1708423 -1347597 ,142108 + 218722 };local v44={10427 -(760 + 987) ,4731 -(1789 + 124) ,383414};local v45=function(v71) local v72=0 + 0 ;while true do if (v72==(0 -0)) then for v103,v104 in ipairs(v44) do if WA_GetUnitDebuff(v71,v104,"PLAYER") then return true;end end return false;end end end;local v46=39 -29 ;local v47=0 + 0 ;local v48=0;local v49=0 + 0 ;local v50=1055 -(87 + 968) ;local v51=0 -0 ;local v52=0;local v53=0 + 0 ;for v73=2 -1 ,40 do local v74=1413 -(447 + 966) ;local v75;while true do if (v74==(0 -0)) then v75="nameplate"   .. v73 ;if (UnitExists(v75) and  not UnitIsFriend("player",v75) and WeakAuras.CheckRange(v75,v46,"<=")) then local v109=1817 -(1703 + 114) ;while true do if (v109==(704 -(376 + 325))) then if (v19(v25.Garrote,v75,"HARMFUL|PLAYER") and (aura_env.GarroteSnapshots[UnitGUID(v75)]<=(1 -0))) then v52=v52 + (2 -1) ;end if v19(v25.Rupture,v75,"HARMFUL|PLAYER") then v53=v53 + 1 + 0 ;end v109=8 -4 ;end if (4==v109) then if v45(v75) then local v125=0;while true do if (v125==(14 -(9 + 5))) then v41=v41 + 1 ;for v127,v128 in ipairs(v43) do if WA_GetUnitDebuff(v75,v128,"PLAYER") then v42=v42 + (377 -(85 + 291)) ;end end break;end end end break;end if (v109==2) then if (aura_env.GarroteSnapshots[UnitGUID(v75)]==nil) then aura_env.GarroteSnapshots[UnitGUID(v75)]=0;end if (aura_env.GarroteSnapshots[UnitGUID(v75)]<=(1266 -(243 + 1022))) then v51=v51 + (3 -2) ;end v109=3 + 0 ;end if (v109==1) then if WA_GetUnitDebuff(v75,v25.Rupture,"PLAYER") then v49=v49 + (1181 -(1123 + 57)) ;end if (v6(v75,v25.Garrote)<(10 + 2)) then v50=v50 + (255 -(163 + 91)) ;end v109=1932 -(1869 + 61) ;end if (v109==0) then v47=v47 + 1 ;if WA_GetUnitDebuff(v75,v25.Garrote,"PLAYER") then v48=v48 + 1 + 0 ;end v109=3 -2 ;end end end break;end end end if  not (v48<v47) then WeakAuras.ScanEvents("K_NEARBY_GARROTED_SAT");end if  not (v49<v47) then WeakAuras.ScanEvents("K_NEARBY_RUPTURED_SAT");end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v47);v39=v39 + ((v42 * (9 -2))/v40) ;if IsPlayerSpell(v25.DashingScoundrelTalent) then v39=v39 + ((0.9 * v41 * (GetCritChance()/(14 + 86)))/v40) ;end WeakAuras.ScanEvents("K_GARROTE_DATA",v48,v47);WeakAuras.ScanEvents("K_RUPTURE_DATA",v49,v47);if (C_Item.IsItemInRange(16114,"target")==false) then aura_env.OutOfRange=true;end v27.EffectiveSpendCp=max(v32-(2 -0) ,(5 + 0) * ((IsPlayerSpell(v25.HandOfFateTalent) and (1475 -(1329 + 145))) or 0) );v27.SingleTarget=v47<=(972 -(140 + 831)) ;v27.RegenSaturated=v39>((1880 -(1409 + 441)) + ((728 -(15 + 703)) * ((IsPlayerSpell(v25.DashingScoundrelTalent) and 0) or (1 + 0)))) ;v27.InCooldowns=v12(v25.Kingsbane) or v12(v25.ShivDebuff) ;v27.UpperLimitEnergy=((v33/v34) * (538 -(262 + 176)))>=(((1801 -(345 + 1376)) -((698 -(198 + 490)) * ((IsPlayerSpell(v25.ViciousVenomsTalent) and (8 -6)) or (0 -0)))) -((1236 -(696 + 510)) * ((IsPlayerSpell(v25.AmplifyingPoisonTalent) and (1 -0)) or (1262 -(1091 + 171))))) ;v27.CdSoon=IsPlayerSpell(v25.KingsbaneTalent) and (v7(v25.Kingsbane)<3) and  not v3(v25.Kingsbane) ;v27.NotPooling=v27.InCooldowns or v11(v25.DarkestNightBuff) or v27.UpperLimitEnergy or (v18(10 + 50 ,v46)<=(62 -42)) ;v27.ScentEffectiveMaxStacks=min(v47 * ((IsPlayerSpell(v25.ScentOfBloodTalent) and (6 -4)) or 0) * 2 ,394 -(123 + 251) );v27.ScentSaturation=v9(v25.ScentOfBloodBuff)>=v27.ScentEffectiveMaxStacks ;local v63={};if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then local v99=0;while true do if (v99==1) then v21("Clear",nil);return;end if (v99==(0 -0)) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v20("Clear",nil);v99=699 -(208 + 490) ;end end end end if (v3(v25.ThistleTea) and (( not v11(v25.ThistleTeaBuff) and (v6("target",v25.ShivDebuff)>=6) and  not v12(v25.KingsbaneDebuff)) or ( not v11(v25.ThistleTeaBuff) and v12(v25.KingsbaneDebuff) and (v6("target",v25.KingsbaneDebuff)<=6)) or ( not v11(v25.ThistleTeaBuff) and (v18(6 + 54 ,v46)<=(C_Spell.GetSpellCharges(v25.ThistleTea).currentCharges * (3 + 3)))))) then v63.ThistleTea=true;end if (v3(v25.ColdBlood) and (v7(v25.Deathmark)>10) and  not v11(v25.DarkestNightBuff) and (v35>=v27.EffectiveSpendCp) and (v27.NotPooling or (v10(v25.AmplifyingPoisonDebuff)>=20) or  not (v47<2)) and  not v11(v25.VanishBuff) and ( not v3(v25.Kingsbane) or  not (v47<(838 -(660 + 176)))) and  not v3(v25.Deathmark)) then v63.ColdBlood=true;end if (v3(v25.ColdBlood) and (((v9(v25.FateboundCoinHeadsBuff)>(0 + 0)) and (v9(v25.FateboundCoinTailsBuff)>(202 -(14 + 188)))) or (v12(v25.ShivDebuff) and (((v7(v25.Deathmark)>(725 -(534 + 141))) and  not ((v28>=(2 + 2)) and IsPlayerSpell(v25.HandOfFateTalent))) or (v12(v25.KingsbaneDebuff) and (v28>=(4 + 0)) and IsPlayerSpell(v25.HandOfFateTalent)) or ( not IsPlayerSpell(v25.InevitabileEndTalent) and (v35>=v27.EffectiveSpendCp)))))) then v63.ColdBlood=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v63,nil);local v64=function() local v76=0 + 0 ;while true do if (v76==(3 -1)) then if (v3(v25.Rupture) and (aura_env.config['PerformanceMode']==true) and v27.DotFinisherCondition and (v53>0) and ( not v12(v25.Kingsbane) or v11(v25.ColdBlood)) and  not v27.RegenSaturated and (IsPlayerSpell(v25.ScentOfBloodTalent) or v11(v25.IndiscriminateCarnageBuff) or true) and true and  not v11(v25.DarkestNightBuff)) then v20("Rupture","TAB");return true;end if (v3(v25.Rupture) and v27.DotFinisherCondition and v19(v25.Rupture) and ( not v12(v25.Kingsbane) or v11(v25.ColdBlood)) and ( not v27.RegenSaturated or  not v27.ScentSaturation) and ((v17(0 -0 ,168 -108 )>(4 + 3 + ((IsPlayerSpell(v25.DashingScoundrelTalent) and 5) or (0 + 0)) + ((v27.RegenSaturated and 6) or 0))) or IsPlayerSpell(v25.SuddenDemiseTalent)) and  not v11(v25.DarkestNightBuff)) then local v110=396 -(115 + 281) ;while true do if (v110==(0 -0)) then v20("Rupture");return true;end end end v76=3 + 0 ;end if (3==v76) then if (v3(v25.Garrote) and v19(v25.Garrote) and ((v32-v35)==1) and ( not v12(v25.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=1) or ((v6("target",v25.Garrote)<=(4 -2)) and (v47>=(10 -7)))) and (v6("target",v25.Garrote)<=((869 -(550 + 317)) * 2)) and (v47>=(3 -0)) and (((v17(0 -0 ,60) -v6("target",v25.Garrote))>(11 -7)) or IsPlayerSpell(v25.SuddenDemiseTalent)) and (abs(v5("player",v25.MasterAssassinBuff))==0)) then local v111=285 -(134 + 151) ;while true do if (v111==0) then v20("Garrote");return true;end end end break;end if (v76==(1666 -(970 + 695))) then if (v3(v25.Garrote) and (aura_env.config['PerformanceMode']==true) and ((v32-v35)>=(1 -0)) and (v52>(1990 -(582 + 1408))) and  not v27.RegenSaturated and  not IsPlayerSpell(v25.DashingScoundrelTalent)) then local v112=0;while true do if ((0 -0)==v112) then v20("Garrote","TAB");return true;end end end if (v3(v25.Garrote) and ((v32-v35)>=1) and ( not v12(v25.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(1 -0))) and v19(v25.Garrote) and  not v27.RegenSaturated and (v47<=(11 -8)) and  not IsPlayerSpell(v25.DashingScoundrelTalent) and (((v17(1824 -(1195 + 629) ,79 -19 ) -v6("target",v25.Garrote))>12) or IsPlayerSpell(v25.SuddenDemiseTalent))) then local v113=241 -(187 + 54) ;while true do if ((780 -(162 + 618))==v113) then v20("Garrote");return true;end end end v76=2;end if (v76==(0 + 0)) then v27.DotFinisherCondition=v35>=v27.EffectiveSpendCp ;if (v3(v25.CrimsonTempest) and (v47>=2) and v19(v25.CrimsonTempest) and v27.DotFinisherCondition and (((v17(0 + 0 ,127 -67 ) -v6("target",v25.CrimsonTempest))>6) or IsPlayerSpell(v25.SuddenDemiseTalent)) and  not v11(v25.DarkestNightBuff)) then local v114=0;while true do if (v114==0) then v20("Crimson Tempest");return true;end end end v76=1 -0 ;end end end;local v65=function() local v77=0 + 0 ;while true do if (v77==(1636 -(1373 + 263))) then if (v3(v25.Garrote) and ((v32-v35)>=(1001 -(451 + 549))) and ( not v12(v25.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(1 + 0))) and v19(v25.Garrote) and (((v17(0 -0 ,100 -40 ) -v6("target",v25.Garrote))>12) or IsPlayerSpell(v25.SuddenDemiseTalent))) then v20("Garrote");return true;end if (v3(v25.Rupture) and (v35>=v27.EffectiveSpendCp) and v19(v25.Rupture) and (((v17(1384 -(746 + 638) ,23 + 37 ) -v6("target",v25.Rupture))>((5 -1) + (((IsPlayerSpell(v25.DashingScoundrelTalent) and 1) or (341 -(218 + 123))) * 5) + (((v27.RegenSaturated and 1) or (1581 -(1535 + 46))) * (6 + 0)))) or IsPlayerSpell(v25.SuddenDemiseTalent)) and ( not v11(v25.DarkestNightBuff) or (IsPlayerSpell(v25.CausticSpatterTalent) and  not v12(v25.CausticSpatterDebuff)))) then v20("Rupture");return true;end v77=1 + 0 ;end if (v77==(561 -(306 + 254))) then if (v3(v25.CrimsonTempest) and (v35>=v27.EffectiveSpendCp) and v19(v25.CrimsonTempestDebuff) and ( not v12(v25.CrimsonTempestDebuff) or (aura_env.CrimsonTempestSnapshots[UnitGUID("target")]<=v47)) and  not v11(v25.DarkestNightBuff) and  not IsPlayerSpell(v25.AmplifyingPoisonTalent) and (v47<=(1 + 0))) then v20("Crimson Tempest");return true;end break;end end end;local v66=function() v27.UseCausticFiller=IsPlayerSpell(v25.CausticSpatterTalent) and v12(v25.Rupture) and ( not v12(v25.CausticSpatterDebuff) or (v6("target",v25.CausticSpatterDebuff)<=(3 -1))) and ((v32-v35)>=(1468 -(899 + 568))) and  not (v47<(2 + 0)) ;if (v3(v25.Mutilate) and v27.UseCausticFiller) then local v89=0 -0 ;while true do if (v89==(603 -(268 + 335))) then v20("Mutilate");return true;end end end if (v3(v25.Ambush) and v27.UseCausticFiller) then v20("Ambush");return true;end if (v3(v25.Envenom) and  not v11(v25.DarkestNightBuff) and (v35>=v27.EffectiveSpendCp) and (v27.NotPooling or (v10(v25.AmplifyingPoisonDebuff)>=(310 -(60 + 230))) or  not (v47<2))) then local v90=0;while true do if (v90==(572 -(426 + 146))) then v20("Envenom");return true;end end end if (v3(v25.Envenom) and v11(v25.DarkestNightBuff) and (v35>=v32)) then local v91=0;while true do if (v91==(0 + 0)) then v20("Envenom");return true;end end end v27.UseFiller=((v29<=v27.EffectiveSpendCp) and  not v27.CdSoon) or v27.NotPooling or  not (v47<(1458 -(282 + 1174))) ;v27.FokTargetCount=(v11(v25.ClearTheWitnessesBuff) and (v47>=(2 -(((v11(v25.LingeringDarknessBuff) or  not IsPlayerSpell(v25.ViciousVenomsTalent)) and (812 -(569 + 242))) or (0 -0))))) or (v47>=(((1 + 2) -((IsPlayerSpell(v25.MomentumOfDespairTalent) and IsPlayerSpell(v25.ThrownPrecisionTalent) and (1025 -(706 + 318))) or (1251 -(721 + 530)))) + ((IsPlayerSpell(v25.ViciousVenomsTalent) and (1272 -(945 + 326))) or (0 -0)) + ((IsPlayerSpell(v25.BlindsideTalent) and (1 + 0)) or (700 -(271 + 429))))) ;if (v3(v25.FanOfKnives) and v11(v25.DarkestNightBuff) and (v35==(6 + 0)) and ( not IsPlayerSpell(v25.ViciousVenomsTalent) or (v47>=2))) then local v92=0;while true do if (v92==0) then v20("Fan of Knives");return true;end end end if (v3(v25.FanOfKnives) and v27.UseFiller and v27.FokTargetCount) then if v27.NotPooling then v20("Fan of Knives");return true;else local v105=1500 -(1408 + 92) ;while true do if (v105==(1086 -(461 + 625))) then v20("Fan of Knives","Not Good");return true;end end end end if (v3(v25.Ambush) and v27.UseFiller and (v11(v25.BlindsideBuff) or v37) and ( not v12(v25.Kingsbane) or (v12(v25.Deathmark)==false) or v11(v25.BlindsideBuff))) then if v27.NotPooling then local v106=1288 -(993 + 295) ;while true do if (v106==0) then v20("Ambush");return true;end end else v20("Ambush","Not Good");return true;end end if (v3(v25.Mutilate) and  not v12(v25.DeadlyPoisonDebuff) and  not v12(v25.AmplifyingPoisonDebuff) and v27.UseFiller and (v47==(1 + 1))) then if v27.NotPooling then v20("Mutilate");return true;else v20("Mutilate","Not Good");return true;end end if (v3(v25.Mutilate) and v27.UseFiller) then if v27.NotPooling then local v107=1171 -(418 + 753) ;while true do if (v107==(0 + 0)) then v20("Mutilate");return true;end end else local v108=0 + 0 ;while true do if (v108==0) then v20("Mutilate","Not Good");return true;end end end end end;local v67=function() v27.ShivCondition= not v12(v25.ShivDebuff) and v12(v25.Garrote) and v12(v25.Rupture) and (v47<=(2 + 3)) ;v27.ShivKingsbaneCondition=IsPlayerSpell(v25.Kingsbane) and v11(v25.Envenom) and v27.ShivCondition ;if (v3(v25.Shiv) and IsPlayerSpell(v25.LightweightShivTalent) and v27.ShivKingsbaneCondition and (v3(v25.Deathmark) or (v7(v25.Deathmark)<=(1 + 0))) and (v3(v25.Kingsbane) or (v7(v25.Kingsbane)<=(531 -(406 + 123)))) and (v28>=(1771 -(1749 + 20))) and IsPlayerSpell(v25.HandOfFateTalent)) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then v20("Shiv");return true;end end if (v3(v25.Shiv) and IsPlayerSpell(v25.ArterialPrecisionTalent) and  not v12(v25.ShivDebuff) and v12(v25.GarroteDebuff) and v12(v25.RuptureDebuff) and (v47>=(1 + 3)) and v12(v25.CrimsonTempestDebuff) and (((((UnitHealth("target")/UnitHealthMax("target")) * 100)<=(1357 -(1249 + 73))) and IsPlayerSpell(v25.ZoldyckRecipeTalent)) or (v14(v25.Shiv)>=1.9))) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then v20("Shiv");return true;end end if (v3(v25.Shiv) and  not IsPlayerSpell(v25.LightweightShivTalent) and v27.ShivKingsbaneCondition and ((v12(v25.Kingsbane) and (v6("target",v25.Kingsbane)<(3 + 5 + ((1148 -(466 + 679)) * (((v28>=(9 -5)) and IsPlayerSpell(v25.DeathstalkersMarkTalent) and (2 -1)) or 0))))) or ( not v12(v25.Kingsbane) and (v7(v25.Kingsbane)>=20))) and ( not IsPlayerSpell(v25.CrimsonTempest) or (v47<(1902 -(106 + 1794))) or v12(v25.CrimsonTempest))) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then local v115=0 + 0 ;while true do if (v115==(0 + 0)) then v20("Shiv");return true;end end end end if (v3(v25.Shiv) and (v10(v25.DeathstalkersMarkDebuff)<=2) and (v35>=v27.EffectiveSpendCp) and v11(v25.LingeringDarknessBuff)) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then v20("Shiv");return true;end end if (v3(v25.Shiv) and IsPlayerSpell(v25.LightweightShivTalent) and v27.ShivKingsbaneCondition and ((v12(v25.Kingsbane) and (v6("target",v25.KingsbaneDebuff)<(8 + ((8 -5) * (((v28>=(10 -6)) and IsPlayerSpell(v25.DeathstalkersMarkTalent) and (115 -(4 + 110))) or 0)))) and (v6("target",v25.KingsbaneDebuff)>(588 -(57 + 527)))) or ((v7(v25.Kingsbane)<=(1428 -(41 + 1386))) and (v14(v25.Shiv)>=1.7)))) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then local v116=103 -(17 + 86) ;while true do if (0==v116) then v20("Shiv");return true;end end end end if (v3(v25.Shiv) and v12(v25.DeathmarkDebuff) and IsPlayerSpell(v25.ArterialPrecisionTalent) and  not v12(v25.ShivDebuff) and v12(v25.GarroteDebuff) and v12(v25.RuptureDebuff)) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then local v117=0 + 0 ;while true do if (v117==(0 -0)) then v20("Shiv");return true;end end end end if (v3(v25.Shiv) and  not v12(v25.DeathmarkDebuff) and  not IsPlayerSpell(v25.KingsbaneTalent) and v27.ShivCondition and (v12(v25.CrimsonTempestDebuff) or IsPlayerSpell(v25.AmplifyingPoisonTalent)) and ((((((IsPlayerSpell(v25.LightweightShivTalent) and (2 -1)) or (166 -(122 + 44))) + (1 -0)) -v14(v25.Shiv)) * (99 -69))<v7(v25.Deathmark))) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then local v118=0 + 0 ;while true do if (v118==0) then v20("Shiv");return true;end end end end if (v3(v25.Shiv) and  not IsPlayerSpell(v25.Kingsbane) and  not IsPlayerSpell(v25.ArterialPrecisionTalent) and v27.ShivCondition and ( not IsPlayerSpell(v25.CrimsonTempest) or (v47<2) or v12(v25.CrimsonTempest))) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then local v119=0 + 0 ;while true do if (v119==(0 -0)) then v20("Shiv");return true;end end end end if (v3(v25.Shiv) and (v14(v25.Shiv)>(66 -(30 + 35))) and (v18(60,v46)<=(C_Spell.GetSpellCharges(v25.Shiv).currentCharges * (6 + 2 + (2 * (((v28>=4) and IsPlayerSpell(v25.DeathstalkersMarkTalent) and (1258 -(1043 + 214))) or (0 -0))))))) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then local v120=1212 -(323 + 889) ;while true do if ((0 -0)==v120) then v20("Shiv");return true;end end end end end;local v68=function() if (v3(v25.Ambush) and  not v12(v25.DeathstalkersMarkDebuff) and IsPlayerSpell(v25.DeathstalkersMarkTalent) and  not v11(v25.DarkestNightBuff) and (v5("player",v25.SubterfugeBuff)>(580 -(361 + 219))) and (v5("player",v25.SubterfugeBuff)<=v23())) then local v93=320 -(53 + 267) ;while true do if (v93==(0 + 0)) then v20("Ambush","Glow");return true;end end end if (v3(v25.Ambush) and  not v12(v25.DeathstalkersMarkDebuff) and IsPlayerSpell(v25.DeathstalkersMarkTalent) and (v35<v27.EffectiveSpendCp) and (v12(v25.Rupture) or (v47<=(414 -(15 + 398))) or  not IsPlayerSpell(v25.SubterfugeTalent))) then local v94=982 -(18 + 964) ;while true do if (v94==(0 -0)) then v20("Ambush");return true;end end end if (v3(v25.Shiv) and IsPlayerSpell(v25.KingsbaneTalent) and v12(v25.KingsbaneDebuff) and (v6("target",v25.KingsbaneDebuff)<(5 + 3)) and ( not v12(v25.ShivDebuff) or (v6("target",v25.ShivDebuff)<1)) and v11(v25.EnvenomBuff)) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then v20("Shiv");return true;end end if (v3(v25.Envenom) and (v35>=v27.EffectiveSpendCp) and v12(v25.Kingsbane) and (v5("player",v25.Envenom)<=(2 + 1)) and (v12(v25.DeathstalkersMarkDebuff) or v11(v25.ColdBlood) or (v11(v25.DarkestNightBuff) and (v35>=(857 -(20 + 830)))))) then local v95=0 + 0 ;while true do if (v95==0) then v20("Envenom");return true;end end end if (v3(v25.Envenom) and (v35>=v27.EffectiveSpendCp) and (v5("player",v25.MasterAssassinBuff)< -(127 -(116 + 10))) and (v47<(1 + 1)) and (v12(v25.DeathstalkersMarkDebuff) or v11(v25.ColdBlood) or (v11(v25.DarkestNightBuff) and (v35>=(745 -(542 + 196)))))) then local v96=0 -0 ;while true do if (v96==(0 + 0)) then v20("Envenom");return true;end end end if (v3(v25.CrimsonTempest) and (v47>=aura_env.config['CrimsonTempestThreshold']) and (v35>=(2 + 1)) and (v6("target",v25.CrimsonTempest)<=(1 + 1)) and  not v11(v25.DarkestNightBuff) and (v27.ScentSaturation or (v9(v25.ScentOfBloodBuff)>=(31 -19))) and (((v17(0 -0 ,60) -v6("target",v25.CrimsonTempest))>6) or IsPlayerSpell(v25.SuddenDemiseTalent))) then local v97=1551 -(1126 + 425) ;while true do if (0==v97) then v20("Crimson Tempest");return true;end end end v27.DeathmarkConditionInStealthed=v12(v25.Rupture) and (v27.DeathmarkKingsbaneCondition or ((v47>1) and (v35>=v27.EffectiveSpendCp) and v27.ScentSaturation and (v12(v25.CrimsonTempest) or ( not IsPlayerSpell(v25.CrimsonTempest)==true)))) and  not v12(v25.Deathmark) and ( not IsPlayerSpell(v25.MasterAssassinTalent) or v12(v25.Garrote)) ;if (v3(v25.Deathmark) and ((v27.DeathmarkConditionInStealthed and (v17(405 -(118 + 287) ,60)>=(39 -29))) or (v18(60,v46)<=(1141 -(118 + 1003))))) then if ((aura_env.config[tostring(v25.Deathmark)]==true) and aura_env.FlagKTrigCD) then v21("Deathmark","Quick");elseif (aura_env.config[tostring(v25.Deathmark)]~=true) then v20("Deathmark");return true;end end if v67() then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then elseif (aura_env.config[tostring(v25.Shiv)]~=true) then return true;end end if (v3(v25.Kingsbane) and (((v12(v25.ShivDebuff) or (v7(v25.Shiv)<6)) and (v11(v25.Envenom) or (v47>(2 -1))) and v12(v25.Deathmark)) or (v18(437 -(142 + 235) ,v46)<=(68 -53)))) then if ((aura_env.config[tostring(v25.Kingsbane)]==true) and aura_env.FlagKTrigCD) then v21("Kingsbane");elseif (aura_env.config[tostring(v25.Kingsbane)]~=true) then v20("Kingsbane");return true;end end if (v3(v25.Kingsbane) and (((v12(v25.ShivDebuff) or (v7(v25.Shiv)<(2 + 4))) and (v11(v25.Envenom) or (v47>(978 -(553 + 424)))) and (v7(v25.Deathmark)>=(94 -44)) and  not v12(v25.Deathmark)) or (v18(53 + 7 ,v46)<=(15 + 0)))) then if ((aura_env.config[tostring(v25.Kingsbane)]==true) and aura_env.FlagKTrigCD) then v21("Kingsbane","Quick");elseif (aura_env.config[tostring(v25.Kingsbane)]~=true) then local v121=0 + 0 ;while true do if (v121==0) then v20("Kingsbane");return true;end end end end if (v3(v25.Rupture) and (v35>=v27.EffectiveSpendCp) and v11(v25.IndiscriminateCarnageBuff) and (v53>0) and ((IsPlayerSpell(v25.CausticSpatterTalent) and  not v12(v25.CausticSpatterDebuff) and  not v12(v25.RuptureDebuff)) or  not v11(v25.DarkestNightBuff)) and ( not v27.RegenSaturated or  not v27.ScentSaturation or (( not IsPlayerSpell(v25.DashingScoundrelTalent) or  not IsPlayerSpell(v25.PoisonBombTalent)) and v11(v25.IndiscriminateCarnageBuff) and  not v12(v25.Rupture)) or (v49<v47)) and ((v17(0 + 0 ,35 + 25 )>(32 -17)) or IsPlayerSpell(v25.SuddenDemiseTalent))) then local v98=0 -0 ;while true do if (v98==(0 -0)) then v20("Rupture");return true;end end end if (v3(v25.Garrote) and v38 and ((v52>(0 + 0)) or  not v12(v25.Garrote) or (v51>0) or (v11(v25.IndiscriminateCarnageBuff) and (v48<v47))) and  not (v47<(9 -7)) and (((v17(753 -(239 + 514) ,22 + 38 ) -v6("target",v25.Garrote))>(1331 -(797 + 532))) or IsPlayerSpell(v25.SuddenDemiseTalent)) and ((v32-v35)>((2 + 0) -((v11(v25.DarkestNightBuff) and (1 + 1)) or (0 -0))))) then v20("Garrote");return true;end if (v3(v25.Garrote) and v38 and ( not v12(v25.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=1) or v19(v25.Garrote)) and ((v32-v35)>=((1203 -(373 + 829)) + (2 * ((IsPlayerSpell(v25.ShroudedSuffocationTalent) and (732 -(476 + 255))) or 0))))) then v20("Garrote");return true;end end;local v69=function() if (v3(v25.Vanish) and ((v11(v25.ColdBloodBuff) and (v9(v25.FateboundCoinTailsBuff)>=(1131 -(369 + 761))) and (v9(v25.FateboundCoinHeadsBuff)>=1)) or ( not v11(v25.FateboundLuckyCoinBuff) and (v35>=v27.EffectiveSpendCp) and ((v9(v25.FateboundCoinTailsBuff)>=(3 + 2)) or (v9(v25.FateboundCoinHeadsBuff)>=5))))) then if ((aura_env.config[tostring(v25.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v25.Vanish)]~=true) then local v122=0 -0 ;while true do if (v122==0) then v20("Vanish");return true;end end end end if (v3(v25.Vanish) and  not IsPlayerSpell(v25.MasterAssassinTalent) and  not IsPlayerSpell(v25.IndiscriminateCarnageTalent) and IsPlayerSpell(v25.ImprovedGarroteTalent) and v3(v25.Garrote) and ( not v12(v25.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(1 -0)) or v19(v25.Garrote)) and (v12(v25.Deathmark) or (v7(v25.Deathmark)<(242 -(64 + 174)))) and ((v32-v35)>=min(v47,1 + 3 ))) then if ((aura_env.config[tostring(v25.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v25.Vanish)]~=true) then local v123=0 -0 ;while true do if (v123==0) then v20("Vanish");return true;end end end end if (v3(v25.Vanish) and IsPlayerSpell(v25.IndiscriminateCarnageTalent) and IsPlayerSpell(v25.ImprovedGarroteTalent) and v3(v25.Garrote) and ( not v12(v25.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(337 -(144 + 192))) or v19(v25.Garrote)) and (v47>2) and ((v17(0,60) -v6("target",v25.Vanish))>15)) then if ((aura_env.config[tostring(v25.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v25.Vanish)]~=true) then v20("Vanish");return true;end end if (v3(v25.Vanish) and IsPlayerSpell(v25.MasterAssassinTalent) and v12(v25.Deathmark) and (v6("target",v25.Kingsbane)<=((222 -(42 + 174)) + ((3 + 0) * ((IsPlayerSpell(v25.SubterfugeTalent) and (2 + 0)) or (0 + 0)))))) then if ((aura_env.config[tostring(v25.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish","Quick");elseif (aura_env.config[tostring(v25.Vanish)]~=true) then v20("Vanish");return true;end end if (v3(v25.Vanish) and IsPlayerSpell(v25.ImprovedGarroteTalent) and v3(v25.Garrote) and ( not v12(v25.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(1505 -(363 + 1141))) or v19(v25.Garrote)) and (v12(v25.Deathmark))) then if ((aura_env.config[tostring(v25.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v25.Vanish)]~=true) then local v124=1580 -(1183 + 397) ;while true do if (v124==(0 -0)) then v20("Vanish");return true;end end end end end;local v70=function() local v84=0;while true do if (v84==(3 + 0)) then if (( not v37 and (abs(v5("player",v25.MasterAssassinBuff))==0)) or (IsPlayerSpell(v25.IndiscriminateCarnageTalent) and  not IsPlayerSpell(v25.ImprovedGarroteTalent) and  not v27.ScentSaturation and (v49<v47) and (v47>=(3 + 0)))) then if v69() then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then elseif (aura_env.config[tostring(v25.Shiv)]~=true) then return true;end end end break;end if (v84==2) then if ( not v11(v25.DarkestNightBuff) and (v47>(1976 -(1913 + 62)))) then if v67() then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then elseif (aura_env.config[tostring(v25.Shiv)]~=true) then return true;end end end if (v3(v25.Kingsbane) and (((v12(v25.ShivDebuff) or (v7(v25.Shiv)<6)) and (v11(v25.Envenom) or (v47>(1 + 0))) and ((v7(v25.Deathmark)>=(50 -(15 * (((v28>=(10 -6)) and IsPlayerSpell(v25.HandOfFateTalent) and (1934 -(565 + 1368))) or (0 -0))))) or v12(v25.Deathmark))) or (v18(1721 -(1477 + 184) ,v46)<=(19 -4)))) then if ((aura_env.config[tostring(v25.Kingsbane)]==true) and aura_env.FlagKTrigCD) then v21("Kingsbane");elseif (aura_env.config[tostring(v25.Kingsbane)]~=true) then v20("Kingsbane");return true;end end v84=3 + 0 ;end if (v84==(856 -(564 + 292))) then v27.DeathmarkKingsbaneCondition=(v7(v25.Kingsbane)<=2) and v11(v25.EnvenomBuff) ;v27.DeathmarkCondition=v12(v25.RuptureDebuff) and (v27.DeathmarkKingsbaneCondition or ((v47>1) and (v5("player",v25.SliceAndDiceBuff)>(8 -3))) or ( not IsPlayerSpell(v25.KingsbaneTalent) and v12(v25.CrimsonTempestDebuff))) and  not v12(v25.DeathmarkDebuff) ;v84=1;end if (v84==1) then if (v11(v25.DarkestNightBuff) and (( not v11(v25.DarkestNightBuff) and (v47<2)) or (v11(v25.DarkestNightBuff) and (v47>(2 -1))))) then if v67() then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then elseif (aura_env.config[tostring(v25.Shiv)]~=true) then return true;end end end if (v3(v25.Deathmark) and ((v27.DeathmarkCondition and (v17(304 -(244 + 60) ,47 + 13 )>=10)) or (v18(60,v46)<=(496 -(41 + 435))))) then if ((aura_env.config[tostring(v25.Deathmark)]==true) and aura_env.FlagKTrigCD) then v21("Deathmark");elseif (aura_env.config[tostring(v25.Deathmark)]~=true) then v20("Deathmark");return true;end end v84=2;end end end;if (v37 or v11(v25.IndiscriminateCarnageBuff) or v38 or (abs(v5("player",v25.MasterAssassinBuff))>(1001 -(938 + 63)))) then if v68() then return true;end end if v70() then return true;end if v65() then return true;end if  not (v47<(2 + 0)) then if v64() then return true;end end if v66() then return true;end v20("Clear");end;