WeakAuras.WatchGCD();_G.KLIST={AssassinationRogue={aura_env.config['ExcludeList1'],aura_env.config['ExcludeList2'],aura_env.config['ExcludeList3'],aura_env.config['ExcludeList4']}};aura_env.GarroteSnapshots={};aura_env.CrimsonTempestSnapshots={};aura_env.LastCrimsonTempestCount=0;aura_env.Envenom1=0;aura_env.Envenom2=350 -(87 + 263) ;aura_env.ids={Ambush=8676,ColdBlood=382425 -(67 + 113) ,CrimsonTempest=89028 + 32383 ,Deathmark=884335 -524141 ,EchoingReprimand=283603 + 102013 ,Envenom=129747 -97102 ,FanOfKnives=52675 -(802 + 150) ,Garrote=1892 -1189 ,Kingsbane=699512 -313885 ,Mutilate=1329,Rupture=1415 + 528 ,Shiv=6935 -(915 + 82) ,SliceAndDice=893350 -577854 ,ThistleTea=222313 + 159310 ,Vanish=2440 -584 ,AmplifyingPoisonTalent=381664,ArterialPrecisionTalent=401970 -(1069 + 118) ,BlindsideTalent=744329 -416244 ,CausticSpatterTalent=923058 -501083 ,DashingScoundrelTalent=381797,DeathstalkersMarkTalent=457052,HandOfFateTalent=78673 + 373863 ,ImprovedGarroteTalent=678083 -296451 ,IndiscriminateCarnageTalent=378748 + 3054 ,InevitabileEndTalent=455225 -(368 + 423) ,KingsbaneTalent=1211902 -826275 ,LightweightShivTalent=394983,MasterAssassinTalent=256007 -(10 + 8) ,MomentumOfDespairTalent=1758215 -1301148 ,PoisonBombTalent=255986 -(416 + 26) ,ScentOfBloodTalent=381799,ShroudedSuffocationTalent=1230799 -845321 ,SubterfugeTalent=46438 + 61770 ,ThrownPrecisionTalent=381629,ViciousVenomsTalent=381634,TwistTheKnifeTalent=675337 -293668 ,ZoldyckRecipeTalent=381798,SuddenDemiseTalent=423574 -(145 + 293) ,ForcedInductionTalent=470668,AmplifyingPoisonDebuff=383414,BlindsideBuff=121583 -(44 + 386) ,CausticSpatterDebuff=423462 -(998 + 488) ,ClearTheWitnessesBuff=145242 + 311936 ,ColdBloodBuff=312991 + 69254 ,CrimsonTempestDebuff=122183 -(201 + 571) ,DarkestNightBuff=458418 -(116 + 1022) ,DeadlyPoisonDebuff=11731 -8913 ,DeathstalkersMarkDebuff=268324 + 188805 ,DeathmarkDebuff=1314956 -954762 ,EnvenomBuff=115925 -83280 ,FateboundCoinHeadsBuff=452923,FateboundCoinTailsBuff=453776 -(814 + 45) ,FateboundLuckyCoinBuff=1115096 -662534 ,GarroteDebuff=703,IndiscriminateCarnageBuff=385747,KingsbaneDebuff=20780 + 364847 ,LingeringDarknessBuff=457273,MasterAssassinBuff=90714 + 166021 ,MomentumOfDespairBuff=458000 -(261 + 624) ,VanishBuff=20128 -8801 ,RuptureDebuff=3023 -(1020 + 60) ,ScentOfBloodBuff=395503 -(630 + 793) ,SliceAndDiceBuff=1069110 -753614 ,ShivDebuff=319504,SubterfugeBuff=545406 -430214 ,StealthBuff=703 + 1081 ,ThistleTeaBuff=1313944 -932321 };aura_env.OutOfRange=false;aura_env.KTrig=function(v28,...) WeakAuras.ScanEvents("K_TRIGED",v28,...);WeakAuras.ScanEvents("K_OUT_OF_RANGE",aura_env.OutOfRange);if aura_env.FlagKTrigCD then WeakAuras.ScanEvents("K_TRIGED_CD","Clear",...);end aura_env.FlagKTrigCD=flase;end;aura_env.KTrigCD=function(v30,...) WeakAuras.ScanEvents("K_TRIGED_CD",v30,...);WeakAuras.ScanEvents("K_OUT_OF_RANGE",aura_env.OutOfRange);aura_env.FlagKTrigCD=false;end;aura_env.OffCooldown=function(v32) if (v32==nil) then local v98=a<b ;end if  not IsPlayerSpell(v32) then return false;end local v33,v34=C_Spell.IsSpellUsable(v32);if ( not v33 and  not v34) then return false;end local v35=C_Spell.GetSpellCooldown(v32);local v36=v35.duration;local v37=(v35.startTime + v36) -GetTime() ;local v38=(v36==nil) or (v36==(1747 -(760 + 987))) or (v36==WeakAuras.gcdDuration()) or (v37<=WeakAuras.gcdDuration()) ;if  not v38 then return false;end local v39,v40=C_SpellBook.FindSpellBookSlotForSpell(v32);local v41=v39 and C_SpellBook.IsSpellBookItemInRange(v39,v40,"target") ;if (v41==false) then aura_env.OutOfRange=true;end return true;end;aura_env.IsCasting=function(v42) return select(9,UnitCastingInfo("player"))==v42 ;end;aura_env.GetStacks=function(v43,v44,v45) local v46,v46,v47=WA_GetUnitAura(v43,v44,v45);if (v47==nil) then v47=1913 -(1789 + 124) ;end return v47;end;aura_env.GetPlayerStacks=function(v48) return aura_env.GetStacks("player",v48);end;aura_env.GetTargetStacks=function(v49) return aura_env.GetStacks("target",v49,"PLAYER|HARMFUL");end;aura_env.GetRemainingAuraDuration=function(v50,v51,v52) local v53=766 -(745 + 21) ;local v54;local v55;while true do if (v53==(1 + 1)) then v55=select(6,WA_GetUnitAura(v50,v51,v52));if (v55==nil) then return 0;end v53=7 -4 ;end if (v53==(0 -0)) then if (v51==nil) then local v102=a<b ;end if (v52==nil) then v52="PLAYER";end v53=1 + 0 ;end if (v53==(3 + 0)) then return v55-GetTime() ;end if (v53==(1056 -(87 + 968))) then v54=WA_GetUnitAura(v50,v51,v52);if (v54==nil) then return 0 -0 ;end v53=2;end end end;aura_env.GetRemainingDebuffDuration=function(v56,v57) local v58=aura_env.GetRemainingAuraDuration(v56,v57,"HARMFUL|PLAYER");if (v58==nil) then v58=0;end return v58;end;aura_env.GetSpellChargesFractional=function(v59) local v60=0;local v61;local v62;local v63;while true do if (v60==(0 + 0)) then v61=C_Spell.GetSpellCharges(v59);v62=v61.currentCharges;v60=1;end if (v60==(4 -2)) then return v62 + v63 ;end if (v60==1) then if (v61.cooldownStartTime==(1413 -(447 + 966))) then return v62;end v63=(GetTime() -v61.cooldownStartTime)/v61.cooldownDuration ;v60=5 -3 ;end end end;aura_env.GetTimeToNextCharge=function(v64) local v65=C_Spell.GetSpellCharges(v64);local v66=v65.maxCharges-v65.currentCharges ;if (v66==0) then return 1817 -(1703 + 114) ;end local v67=(v65.cooldownStartTime + v65.cooldownDuration) -GetTime() ;return v67;end;aura_env.GetTimeToFullCharges=function(v68) local v69=C_Spell.GetSpellCharges(v68);local v70=v69.maxCharges-v69.currentCharges ;if (v70==(701 -(376 + 325))) then return 0 -0 ;end local v71=(v69.cooldownStartTime + v69.cooldownDuration) -GetTime() ;if (v70>1) then v71=v71 + (v69.cooldownDuration * (v70-1)) ;end return v71;end;aura_env.TargetTimeToXPct=function(v72,v73) local v74=0;while true do if (v74==(2 -1)) then return HeroLib.Unit.Target:TimeToX(v72);end if (v74==(0 + 0)) then if (v73==nil) then local v103=a<b ;end if (HeroLib==nil) then return v73;end v74=2 -1 ;end end end;aura_env.FightRemains=function(v75,v76) if (v75==nil) then local v100=a<b ;end if (HeroLib==nil) then return v75;end return HeroLib.FightRemains(HeroLib.Unit.Player:GetEnemiesInRange(v76));end;aura_env.GetRemainingSpellCooldown=function(v77) local v78=0;local v79;local v80;local v81;while true do if (v78==(15 -(9 + 5))) then if (v79 and (C_Spell.GetSpellCharges(v77).currentCharges>=(377 -(85 + 291)))) then return 1265 -(243 + 1022) ;end v80=C_Spell.GetSpellCooldown(v77);v78=7 -5 ;end if (v78==(3 + 0)) then return v81;end if (v78==(1182 -(1123 + 57))) then v81=(v80.startTime + v80.duration) -GetTime() ;if ((v80.duration==(0 + 0)) or (v80.duration==WeakAuras.gcdDuration())) then v81=0;end v78=257 -(163 + 91) ;end if (v78==0) then if (v77==nil) then local v104=a<b ;end v79=C_Spell.GetSpellCharges(v77);v78=1931 -(1869 + 61) ;end end end;aura_env.IsAuraRefreshable=function(v82,v83,v84) local v85=0;local v86;local v87;local v88;local v89;while true do if (v85==(0 + 0)) then if (v83==nil) then local v105=0 -0 ;while true do if (0==v105) then v83="target";v84="HARMFUL|PLAYER";break;end end end v86,v86,v86,v86,v87,v88=WA_GetUnitAura(v83,v82,v84);v85=1 -0 ;end if (v85==(1 + 0)) then if (v87==nil) then return true;end v89=v88-GetTime() ;v85=2 -0 ;end if (v85==2) then return (v89/v87)<(0.3 + 0) ;end end end;aura_env.GetRemainingStealthDuration=function() local v90=1474 -(1329 + 145) ;local v91;local v92;while true do if (v90==(971 -(140 + 831))) then if WA_GetUnitAura("player",aura_env.ids.Stealth) then return 1000001849 -(1409 + 441) ;end v91=select(724 -(15 + 703) ,WA_GetUnitAura("player",aura_env.ids.Subterfuge));v90=1;end if (v90==1) then if (v91~=nil) then return v91;end v92=select(6,WA_GetUnitAura("player",aura_env.ids.ShadowDanceBuff));v90=2;end if (v90==(1 + 1)) then if (v92~=nil) then return v92;end return 0;end end end;aura_env.HasBloodlust=function() return WA_GetUnitBuff("player",3263 -(262 + 176) ) or WA_GetUnitBuff("player",264667) or WA_GetUnitBuff("player",82074 -(345 + 1376) ) or WA_GetUnitBuff("player",32182) or WA_GetUnitBuff("player",391074 -(198 + 490) ) or WA_GetUnitBuff("player",1707718 -1321178 ) ;end;aura_env.PlayerHasBuff=function(v93) return WA_GetUnitBuff("player",v93)~=nil ;end;aura_env.TargetHasDebuff=function(v94) return WA_GetUnitDebuff("target",v94,"PLAYER|HARMFUL")~=nil ;end;aura_env.FullGCD=function() local v95=0 -0 ;local v96;local v97;while true do if (v95==(1206 -(696 + 510))) then v96=1.5 -0 ;v97=math.max(1263 -(1091 + 171) ,v96/(1 + 0 + (UnitSpellHaste("player")/(314 -214))) );v95=3 -2 ;end if (v95==(375 -(123 + 251))) then return v97;end end end;