function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.FullGCD;local v24=aura_env.GetRemainingStealthDuration;local v25=aura_env.ids;aura_env.OutOfRange=false;local v27={};local v28=WeakAuras.GetNumSetItemsEquipped(3205 -(37 + 1240) );local v29=UnitPower("player",Enum.PowerType.ComboPoints);local v30=GetUnitChargedPowerPoints("player");local v31=(v30 and  #v30) or (0 -0) ;local v32=UnitPowerMax("player",Enum.PowerType.ComboPoints);local v33=UnitPower("player",Enum.PowerType.Energy);local v34=UnitPowerMax("player",Enum.PowerType.Energy);local v35=((v29>0) and (v29 + (math.min(v31,3 -2 ) * (2 + ((IsPlayerSpell(v25.ForcedInductionTalent) and (1 -0)) or (0 + 0)))))) or 0 ;local v36=((aura_env.Envenom1<v2) and 0) or (aura_env.Envenom1-v2) ;local v37=v11(v25.SubterfugeBuff) or v11(v25.StealthBuff) ;local v38=v11(539258 -146855 ) or v11(392401) ;local v39=GetPowerRegen();local v40=2/(1 + 0 + ((1474.01 -(1329 + 145)) * UnitSpellHaste("player"))) ;local v41=0;local v42=971 -(140 + 831) ;local v43={703,2661 -(15 + 703) ,360826,360830};local v44={10401 -(345 + 1376) ,2818,383414};local v45=function(v71) for v84,v85 in ipairs(v44) do if WA_GetUnitDebuff(v71,v85,"PLAYER") then return true;end end return false;end;local v46=10;local v47=0 -0 ;local v48=0 -0 ;local v49=0;local v50=1206 -(696 + 510) ;local v51=0 -0 ;local v52=1262 -(1091 + 171) ;local v53=0 + 0 ;for v72=3 -2 ,132 -92  do local v73=374 -(123 + 251) ;local v74;while true do if (v73==(0 -0)) then v74="nameplate"   .. v72 ;if (UnitExists(v74) and  not UnitIsFriend("player",v74) and WeakAuras.CheckRange(v74,v46,"<=")) then local v111=698 -(208 + 490) ;while true do if (v111==(1 + 1)) then if (aura_env.GarroteSnapshots[UnitGUID(v74)]==nil) then aura_env.GarroteSnapshots[UnitGUID(v74)]=0;end if (aura_env.GarroteSnapshots[UnitGUID(v74)]<=1) then v51=v51 + 1 ;end v111=2 + 1 ;end if (v111==(837 -(660 + 176))) then if WA_GetUnitDebuff(v74,v25.Rupture,"PLAYER") then v49=v49 + 1 + 0 ;end if (v6(v74,v25.Garrote)<12) then v50=v50 + (203 -(14 + 188)) ;end v111=2;end if (v111==(679 -(534 + 141))) then if v45(v74) then local v138=0 + 0 ;while true do if (v138==0) then v41=v41 + 1 + 0 ;for v139,v140 in ipairs(v43) do if WA_GetUnitDebuff(v74,v140,"PLAYER") then v42=v42 + 1 ;end end break;end end end break;end if (v111==0) then v47=v47 + 1 ;if WA_GetUnitDebuff(v74,v25.Garrote,"PLAYER") then v48=v48 + 1 + 0 ;end v111=1;end if (v111==(6 -3)) then if (v19(v25.Garrote,v74,"HARMFUL|PLAYER") and (aura_env.GarroteSnapshots[UnitGUID(v74)]<=(1 -0))) then v52=v52 + (2 -1) ;end if v19(v25.Rupture,v74,"HARMFUL|PLAYER") then v53=v53 + 1 ;end v111=3 + 1 ;end end end break;end end end if  not (v48<v47) then WeakAuras.ScanEvents("K_NEARBY_GARROTED_SAT");end if  not (v49<v47) then WeakAuras.ScanEvents("K_NEARBY_RUPTURED_SAT");end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v47);v39=v39 + ((v42 * 7)/v40) ;if IsPlayerSpell(v25.DashingScoundrelTalent) then v39=v39 + (((0.9 + 0) * v41 * (GetCritChance()/(496 -(115 + 281))))/v40) ;end WeakAuras.ScanEvents("K_GARROTE_DATA",v48,v47);WeakAuras.ScanEvents("K_RUPTURE_DATA",v49,v47);if (C_Item.IsItemInRange(37481 -21367 ,"target")==false) then aura_env.OutOfRange=true;end v27.EffectiveSpendCp=max(v32-2 ,5 * ((IsPlayerSpell(v25.HandOfFateTalent) and (1 + 0)) or (0 -0)) );v27.SingleTarget=v47<=(3 -2) ;v27.RegenSaturated=v39>((897 -(550 + 317)) + ((14 -4) * ((IsPlayerSpell(v25.DashingScoundrelTalent) and 0) or 1))) ;v27.InCooldowns=v12(v25.Kingsbane) or v12(v25.ShivDebuff) ;v27.UpperLimitEnergy=((v33/v34) * (140 -40))>=(((223 -143) -((295 -(134 + 151)) * ((IsPlayerSpell(v25.ViciousVenomsTalent) and (1667 -(970 + 695))) or (0 -0)))) -(30 * ((IsPlayerSpell(v25.AmplifyingPoisonTalent) and (1991 -(582 + 1408))) or (0 -0)))) ;v27.CdSoon=IsPlayerSpell(v25.KingsbaneTalent) and (v7(v25.Kingsbane)<(3 -0)) and  not v3(v25.Kingsbane) ;v27.NotPooling=v27.InCooldowns or v11(v25.DarkestNightBuff) or v27.UpperLimitEnergy or (v18(60,v46)<=(75 -55)) ;v27.ScentEffectiveMaxStacks=min(v47 * ((IsPlayerSpell(v25.ScentOfBloodTalent) and 2) or (1824 -(1195 + 629))) * (2 -0) ,261 -(187 + 54) );v27.ScentSaturation=v9(v25.ScentOfBloodBuff)>=v27.ScentEffectiveMaxStacks ;local v63={};if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then local v102=0;while true do if (v102==(781 -(162 + 618))) then v21("Clear",nil);return;end if (v102==(0 + 0)) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v20("Clear",nil);v102=1 + 0 ;end end end end if (v3(v25.ThistleTea) and (( not v11(v25.ThistleTeaBuff) and (v6("target",v25.ShivDebuff)>=6)) or ( not v11(v25.ThistleTeaBuff) and v12(v25.KingsbaneDebuff) and (v6("target",v25.KingsbaneDebuff)<=(12 -6))) or ( not v11(v25.ThistleTeaBuff) and (v18(100 -40 ,v46)<=(C_Spell.GetSpellCharges(v25.ThistleTea).currentCharges * (1 + 5)))))) then v63.ThistleTea=true;end if (v3(v25.ColdBlood) and (v7(v25.Deathmark)>10) and  not v11(v25.DarkestNightBuff) and (v35>=v27.EffectiveSpendCp) and (v27.NotPooling or (v10(v25.AmplifyingPoisonDebuff)>=(1656 -(1373 + 263))) or  not (v47<2)) and  not v11(v25.VanishBuff) and ( not v3(v25.Kingsbane) or  not (v47<2)) and  not v3(v25.Deathmark)) then v63.ColdBlood=true;end if (v3(v25.ColdBlood) and (((v9(v25.FateboundCoinHeadsBuff)>(1000 -(451 + 549))) and (v9(v25.FateboundCoinTailsBuff)>(0 + 0))) or (v12(v25.ShivDebuff) and (((v7(v25.Deathmark)>50) and  not ((v28>=(5 -1)) and IsPlayerSpell(v25.HandOfFateTalent))) or (v12(v25.KingsbaneDebuff) and (v28>=4) and IsPlayerSpell(v25.HandOfFateTalent)) or ( not IsPlayerSpell(v25.InevitabileEndTalent) and (v35>=v27.EffectiveSpendCp)))))) then v63.ColdBlood=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v63,nil);local v64=function() local v75=0;while true do if (v75==3) then if (v3(v25.Garrote) and v19(v25.Garrote) and ((v32-v35)==(1 -0)) and ( not v12(v25.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(1385 -(746 + 638))) or ((v6("target",v25.Garrote)<=(1 + 1)) and (v47>=(4 -1)))) and (v6("target",v25.Garrote)<=(2 * (343 -(218 + 123)))) and (v47>=3) and (((v17(1581 -(1535 + 46) ,60) -v6("target",v25.Garrote))>(4 + 0)) or IsPlayerSpell(v25.SuddenDemiseTalent)) and (abs(v5("player",v25.MasterAssassinBuff))==(0 + 0))) then local v112=560 -(306 + 254) ;while true do if ((0 + 0)==v112) then v20("Garrote");return true;end end end break;end if (v75==2) then if (v3(v25.Rupture) and (aura_env.config['PerformanceMode']==true) and v27.DotFinisherCondition and (v53>(0 -0)) and ( not v12(v25.Kingsbane) or v11(v25.ColdBlood)) and  not v27.RegenSaturated and (IsPlayerSpell(v25.ScentOfBloodTalent) or v11(v25.IndiscriminateCarnageBuff) or true) and true and  not v11(v25.DarkestNightBuff)) then local v113=0;while true do if (v113==(1467 -(899 + 568))) then v20("Rupture","TAB");return true;end end end if (v3(v25.Rupture) and v27.DotFinisherCondition and v19(v25.Rupture) and ( not v12(v25.Kingsbane) or v11(v25.ColdBlood)) and ( not v27.RegenSaturated or  not v27.ScentSaturation) and ((v17(0 + 0 ,60)>(7 + ((IsPlayerSpell(v25.DashingScoundrelTalent) and (12 -7)) or (603 -(268 + 335))) + ((v27.RegenSaturated and (296 -(60 + 230))) or 0))) or IsPlayerSpell(v25.SuddenDemiseTalent)) and  not v11(v25.DarkestNightBuff)) then local v114=572 -(426 + 146) ;while true do if (v114==(0 + 0)) then v20("Rupture");return true;end end end v75=1459 -(282 + 1174) ;end if (v75==(811 -(569 + 242))) then v27.DotFinisherCondition=v35>=v27.EffectiveSpendCp ;if (v3(v25.CrimsonTempest) and (v47>=2) and v19(v25.CrimsonTempest) and v27.DotFinisherCondition and (((v17(0 -0 ,4 + 56 ) -v6("target",v25.CrimsonTempest))>(1030 -(706 + 318))) or IsPlayerSpell(v25.SuddenDemiseTalent)) and  not v11(v25.DarkestNightBuff)) then local v115=1251 -(721 + 530) ;while true do if (v115==(1271 -(945 + 326))) then v20("Crimson Tempest");return true;end end end v75=2 -1 ;end if (v75==1) then if (v3(v25.Garrote) and (aura_env.config['PerformanceMode']==true) and ((v32-v35)>=(1 + 0)) and (v52>(700 -(271 + 429))) and  not v27.RegenSaturated and  not IsPlayerSpell(v25.DashingScoundrelTalent)) then local v116=0 + 0 ;while true do if ((1500 -(1408 + 92))==v116) then v20("Garrote","TAB");return true;end end end if (v3(v25.Garrote) and ((v32-v35)>=(1087 -(461 + 625))) and ( not v12(v25.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=1)) and v19(v25.Garrote) and  not v27.RegenSaturated and (v47<=(1291 -(993 + 295))) and  not IsPlayerSpell(v25.DashingScoundrelTalent) and (((v17(0 + 0 ,1231 -(418 + 753) ) -v6("target",v25.Garrote))>(5 + 7)) or IsPlayerSpell(v25.SuddenDemiseTalent))) then local v117=0 + 0 ;while true do if (v117==0) then v20("Garrote");return true;end end end v75=2;end end end;local v65=function() local v76=0;while true do if (v76==(0 + 0)) then if (v3(v25.Garrote) and ((v32-v35)>=(1 + 0)) and ( not v12(v25.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=1)) and v19(v25.Garrote) and (((v17(0,589 -(406 + 123) ) -v6("target",v25.Garrote))>(1781 -(1749 + 20))) or IsPlayerSpell(v25.SuddenDemiseTalent))) then local v118=0;while true do if (v118==(0 + 0)) then v20("Garrote");return true;end end end if (v3(v25.Rupture) and (v35>=v27.EffectiveSpendCp) and v19(v25.Rupture) and (((v17(1322 -(1249 + 73) ,60) -v6("target",v25.Rupture))>(4 + (((IsPlayerSpell(v25.DashingScoundrelTalent) and (1 + 0)) or (1145 -(466 + 679))) * 5) + (((v27.RegenSaturated and (2 -1)) or (0 -0)) * 6))) or IsPlayerSpell(v25.SuddenDemiseTalent)) and ( not v11(v25.DarkestNightBuff) or (IsPlayerSpell(v25.CausticSpatterTalent) and  not v12(v25.CausticSpatterDebuff)))) then local v119=1900 -(106 + 1794) ;while true do if (v119==(0 + 0)) then v20("Rupture");return true;end end end v76=1 + 0 ;end if ((2 -1)==v76) then if (v3(v25.CrimsonTempest) and (v35>=v27.EffectiveSpendCp) and v19(v25.CrimsonTempestDebuff) and ( not v12(v25.CrimsonTempestDebuff) or (aura_env.CrimsonTempestSnapshots[UnitGUID("target")]<=v47)) and  not v11(v25.DarkestNightBuff) and  not IsPlayerSpell(v25.AmplifyingPoisonTalent) and (v47<=1)) then local v120=0 -0 ;while true do if (v120==(114 -(4 + 110))) then v20("Crimson Tempest");return true;end end end break;end end end;local v66=function() v27.UseCausticFiller=IsPlayerSpell(v25.CausticSpatterTalent) and v12(v25.Rupture) and ( not v12(v25.CausticSpatterDebuff) or (v6("target",v25.CausticSpatterDebuff)<=(586 -(57 + 527)))) and ((v32-v35)>=(1428 -(41 + 1386))) and  not (v47<2) ;if (v3(v25.Mutilate) and v27.UseCausticFiller) then local v90=103 -(17 + 86) ;while true do if (v90==(0 + 0)) then v20("Mutilate");return true;end end end if (v3(v25.Ambush) and v27.UseCausticFiller) then local v91=0 -0 ;while true do if (v91==(0 -0)) then v20("Ambush");return true;end end end if (v3(v25.Envenom) and  not v11(v25.DarkestNightBuff) and (v35>=v27.EffectiveSpendCp) and (v27.NotPooling or (v10(v25.AmplifyingPoisonDebuff)>=20) or  not (v47<(168 -(122 + 44))))) then local v92=0 -0 ;while true do if (v92==0) then v20("Envenom");return true;end end end if (v3(v25.Envenom) and v11(v25.DarkestNightBuff) and (v35>=v32)) then local v93=0;while true do if (v93==(0 -0)) then v20("Envenom");return true;end end end v27.UseFiller=((v29<=v27.EffectiveSpendCp) and  not v27.CdSoon) or v27.NotPooling or  not (v47<(2 + 0)) ;if (v3(v25.FanOfKnives) and v11(v25.ClearTheWitnessesBuff) and (v47>=(2 -(((v11(v25.LingeringDarknessBuff) or  not IsPlayerSpell(v25.ViciousVenomsTalent)) and (1 + 0)) or (0 -0))))) then local v94=65 -(30 + 35) ;while true do if (v94==0) then v20("Fan of Knives");return true;end end end v27.FokTargetCount=v47>=(((3 + 0) -((IsPlayerSpell(v25.MomentumOfDespairTalent) and IsPlayerSpell(v25.ThrownPrecisionTalent) and (1258 -(1043 + 214))) or (0 -0))) + ((IsPlayerSpell(v25.ViciousVenomsTalent) and 1) or (1212 -(323 + 889))) + ((IsPlayerSpell(v25.BlindsideTalent) and 1) or (0 -0))) ;if (v3(v25.FanOfKnives) and v11(v25.DarkestNightBuff) and (v35==(586 -(361 + 219))) and ( not IsPlayerSpell(v25.ViciousVenomsTalent) or (v47>=(322 -(53 + 267))))) then local v95=0 + 0 ;while true do if (v95==0) then v20("Fan of Knives");return true;end end end if (v3(v25.FanOfKnives) and v27.UseFiller and v27.FokTargetCount) then if v27.NotPooling then local v106=0;while true do if (v106==0) then v20("Fan of Knives");return true;end end else v20("Fan of Knives","Not Good");return true;end end if (v3(v25.Ambush) and v27.UseFiller and (v11(v25.BlindsideBuff) or v37) and ( not v12(v25.Kingsbane) or (v12(v25.Deathmark)==false) or v11(v25.BlindsideBuff))) then if v27.NotPooling then v20("Ambush");return true;else local v107=413 -(15 + 398) ;while true do if ((982 -(18 + 964))==v107) then v20("Ambush","Not Good");return true;end end end end if (v3(v25.Mutilate) and  not v12(v25.DeadlyPoisonDebuff) and  not v12(v25.AmplifyingPoisonDebuff) and v27.UseFiller and (v47==2)) then if v27.NotPooling then local v108=0;while true do if (v108==0) then v20("Mutilate");return true;end end else local v109=0 -0 ;while true do if (v109==(0 + 0)) then v20("Mutilate","Not Good");return true;end end end end if (v3(v25.Mutilate) and v27.UseFiller) then if v27.NotPooling then local v110=0 + 0 ;while true do if (v110==0) then v20("Mutilate");return true;end end else v20("Mutilate","Not Good");return true;end end end;local v67=function() v27.ShivCondition= not v12(v25.ShivDebuff) and v12(v25.Garrote) and v12(v25.Rupture) and (v47<=5) ;v27.ShivKingsbaneCondition=IsPlayerSpell(v25.Kingsbane) and v11(v25.Envenom) and v27.ShivCondition ;if (v3(v25.Shiv) and IsPlayerSpell(v25.LightweightShivTalent) and v27.ShivKingsbaneCondition and (v3(v25.Deathmark) or (v7(v25.Deathmark)<=(851 -(20 + 830)))) and (v3(v25.Kingsbane) or (v7(v25.Kingsbane)<=2)) and (v28>=(2 + 0)) and IsPlayerSpell(v25.HandOfFateTalent)) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then v20("Shiv");return true;end end if (v3(v25.Shiv) and IsPlayerSpell(v25.ArterialPrecisionTalent) and  not v12(v25.ShivDebuff) and v12(v25.GarroteDebuff) and v12(v25.RuptureDebuff) and (v47>=(130 -(116 + 10))) and v12(v25.CrimsonTempestDebuff) and (((((UnitHealth("target")/UnitHealthMax("target")) * (8 + 92))<=(773 -(542 + 196))) and IsPlayerSpell(v25.ZoldyckRecipeTalent)) or (v14(v25.Shiv)>=1.9))) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then local v121=0 -0 ;while true do if (v121==(0 + 0)) then v20("Shiv");return true;end end end end if (v3(v25.Shiv) and  not IsPlayerSpell(v25.LightweightShivTalent) and v27.ShivKingsbaneCondition and ((v12(v25.Kingsbane) and (v6("target",v25.Kingsbane)<(5 + 3 + ((2 + 1) * (((v28>=(10 -6)) and IsPlayerSpell(v25.DeathstalkersMarkTalent) and (2 -1)) or (1551 -(1126 + 425))))))) or ( not v12(v25.Kingsbane) and (v7(v25.Kingsbane)>=(425 -(118 + 287))))) and ( not IsPlayerSpell(v25.CrimsonTempest) or (v47<(7 -5)) or v12(v25.CrimsonTempest))) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then local v122=0;while true do if (v122==(1121 -(118 + 1003))) then v20("Shiv");return true;end end end end if (v3(v25.Shiv) and (v10(v25.DeathstalkersMarkDebuff)<=(5 -3)) and (v35>=v27.EffectiveSpendCp) and v11(v25.LingeringDarknessBuff)) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then local v123=377 -(142 + 235) ;while true do if (v123==(0 -0)) then v20("Shiv");return true;end end end end if (v3(v25.Shiv) and IsPlayerSpell(v25.LightweightShivTalent) and v27.ShivKingsbaneCondition and ((v12(v25.Kingsbane) and (v6("target",v25.KingsbaneDebuff)<(2 + 6 + (3 * (((v28>=(981 -(553 + 424))) and IsPlayerSpell(v25.DeathstalkersMarkTalent) and (1 -0)) or 0)))) and (v6("target",v25.KingsbaneDebuff)>4)) or ((v7(v25.Kingsbane)<=(1 + 0)) and (v14(v25.Shiv)>=1.7)))) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then local v124=0;while true do if (v124==(0 + 0)) then v20("Shiv");return true;end end end end if (v3(v25.Shiv) and v12(v25.DeathmarkDebuff) and IsPlayerSpell(v25.ArterialPrecisionTalent) and  not v12(v25.ShivDebuff) and v12(v25.GarroteDebuff) and v12(v25.RuptureDebuff)) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then v20("Shiv");return true;end end if (v3(v25.Shiv) and  not v12(v25.DeathmarkDebuff) and  not IsPlayerSpell(v25.KingsbaneTalent) and v27.ShivCondition and (v12(v25.CrimsonTempestDebuff) or IsPlayerSpell(v25.AmplifyingPoisonTalent)) and ((((((IsPlayerSpell(v25.LightweightShivTalent) and (1 + 0)) or (0 + 0)) + 1 + 0) -v14(v25.Shiv)) * (65 -35))<v7(v25.Deathmark))) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then v20("Shiv");return true;end end if (v3(v25.Shiv) and  not IsPlayerSpell(v25.Kingsbane) and  not IsPlayerSpell(v25.ArterialPrecisionTalent) and v27.ShivCondition and ( not IsPlayerSpell(v25.CrimsonTempest) or (v47<2) or v12(v25.CrimsonTempest))) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then local v125=0 -0 ;while true do if (v125==0) then v20("Shiv");return true;end end end end if (v3(v25.Shiv) and (v14(v25.Shiv)>(2 -1)) and (v18(18 + 42 ,v46)<=(C_Spell.GetSpellCharges(v25.Shiv).currentCharges * ((38 -30) + ((755 -(239 + 514)) * (((v28>=4) and IsPlayerSpell(v25.DeathstalkersMarkTalent) and 1) or (0 + 0))))))) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then v20("Shiv");return true;end end if (v3(v25.Shiv) and (v14(v25.Shiv)>(1330.9 -(797 + 532))) and (v28>=(3 + 1)) and (v10(v25.DeathstalkersMarkDebuff)<=1) and ((v32-v35)<(1 + 1)) and (v7(v25.Deathmark)>(70 -40)) and ((v7(v25.Kingsbane)>(1232 -(373 + 829))) or  not IsPlayerSpell(v25.KingsbaneTalent))) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then local v126=0;while true do if ((731 -(476 + 255))==v126) then v20("Shiv");return true;end end end end end;local v68=function() if (v3(v25.Ambush) and  not v12(v25.DeathstalkersMarkDebuff) and IsPlayerSpell(v25.DeathstalkersMarkTalent) and  not v11(v25.DarkestNightBuff) and (v5("player",v25.SubterfugeBuff)>0) and (v5("player",v25.SubterfugeBuff)<=v23())) then v20("Ambush","Glow");return true;end if (v3(v25.Ambush) and  not v12(v25.DeathstalkersMarkDebuff) and IsPlayerSpell(v25.DeathstalkersMarkTalent) and (v35<v27.EffectiveSpendCp) and (v12(v25.Rupture) or (v47<=(1131 -(369 + 761))) or  not IsPlayerSpell(v25.SubterfugeTalent))) then local v96=0 + 0 ;while true do if (v96==0) then v20("Ambush");return true;end end end if (v3(v25.Shiv) and IsPlayerSpell(v25.KingsbaneTalent) and v12(v25.KingsbaneDebuff) and (v6("target",v25.KingsbaneDebuff)<8) and ( not v12(v25.ShivDebuff) or (v6("target",v25.ShivDebuff)<1)) and v11(v25.EnvenomBuff)) then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v25.Shiv)]~=true) then local v127=0 -0 ;while true do if (v127==(0 -0)) then v20("Shiv");return true;end end end end if (v3(v25.Envenom) and (v35>=v27.EffectiveSpendCp) and v12(v25.Kingsbane) and (v5("player",v25.Envenom)<=(241 -(64 + 174))) and (v12(v25.DeathstalkersMarkDebuff) or v11(v25.ColdBlood) or (v11(v25.DarkestNightBuff) and (v35>=7)))) then local v97=0;while true do if (0==v97) then v20("Envenom");return true;end end end if (v3(v25.Envenom) and (v35>=v27.EffectiveSpendCp) and (v5("player",v25.MasterAssassinBuff)< -(1 + 0)) and (v47<2) and (v12(v25.DeathstalkersMarkDebuff) or v11(v25.ColdBlood) or (v11(v25.DarkestNightBuff) and (v35>=7)))) then local v98=0 -0 ;while true do if ((336 -(144 + 192))==v98) then v20("Envenom");return true;end end end if (v3(v25.CrimsonTempest) and (v47>=aura_env.config['CrimsonTempestThreshold']) and (v35>=(219 -(42 + 174))) and (v6("target",v25.CrimsonTempest)<=2) and  not v11(v25.DarkestNightBuff) and (v27.ScentSaturation or (v9(v25.ScentOfBloodBuff)>=(10 + 2))) and (((v17(0 + 0 ,60) -v6("target",v25.CrimsonTempest))>(3 + 3)) or IsPlayerSpell(v25.SuddenDemiseTalent))) then v20("Crimson Tempest");return true;end v27.DeathmarkConditionInStealthed=v12(v25.Rupture) and (v27.DeathmarkKingsbaneCondition or ((v47>(1505 -(363 + 1141))) and (v35>=v27.EffectiveSpendCp) and v27.ScentSaturation and (v12(v25.CrimsonTempest) or ( not IsPlayerSpell(v25.CrimsonTempest)==true)))) and  not v12(v25.Deathmark) and ( not IsPlayerSpell(v25.MasterAssassinTalent) or v12(v25.Garrote)) ;if (v3(v25.Deathmark) and ((v27.DeathmarkConditionInStealthed and (v17(0,60)>=10)) or (v18(1640 -(1183 + 397) ,v46)<=(60 -40)))) then if ((aura_env.config[tostring(v25.Deathmark)]==true) and aura_env.FlagKTrigCD) then v21("Deathmark","Quick");elseif (aura_env.config[tostring(v25.Deathmark)]~=true) then local v128=0;while true do if (v128==(0 + 0)) then v20("Deathmark");return true;end end end end if v67() then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then elseif (aura_env.config[tostring(v25.Shiv)]~=true) then return true;end end if (v3(v25.Kingsbane) and (((v12(v25.ShivDebuff) or (v7(v25.Shiv)<(5 + 1))) and (v11(v25.Envenom) or (v47>(1976 -(1913 + 62)))) and v12(v25.Deathmark)) or (v18(38 + 22 ,v46)<=(39 -24)))) then if ((aura_env.config[tostring(v25.Kingsbane)]==true) and aura_env.FlagKTrigCD) then v21("Kingsbane");elseif (aura_env.config[tostring(v25.Kingsbane)]~=true) then local v129=1933 -(565 + 1368) ;while true do if (v129==0) then v20("Kingsbane");return true;end end end end if (v3(v25.Kingsbane) and (((v12(v25.ShivDebuff) or (v7(v25.Shiv)<(22 -16))) and (v11(v25.Envenom) or (v47>(1662 -(1477 + 184)))) and (v7(v25.Deathmark)>=(68 -18)) and  not v12(v25.Deathmark)) or (v18(56 + 4 ,v46)<=15))) then if ((aura_env.config[tostring(v25.Kingsbane)]==true) and aura_env.FlagKTrigCD) then v21("Kingsbane","Quick");elseif (aura_env.config[tostring(v25.Kingsbane)]~=true) then local v130=0;while true do if ((856 -(564 + 292))==v130) then v20("Kingsbane");return true;end end end end if (v3(v25.Rupture) and (v35>=v27.EffectiveSpendCp) and v11(v25.IndiscriminateCarnageBuff) and (v53>(0 -0)) and ((IsPlayerSpell(v25.CausticSpatterTalent) and  not v12(v25.CausticSpatterDebuff) and  not v12(v25.RuptureDebuff)) or  not v11(v25.DarkestNightBuff)) and ( not v27.RegenSaturated or  not v27.ScentSaturation or (( not IsPlayerSpell(v25.DashingScoundrelTalent) or  not IsPlayerSpell(v25.PoisonBombTalent)) and v11(v25.IndiscriminateCarnageBuff) and  not v12(v25.Rupture)) or (v49<v47)) and ((v17(0 -0 ,364 -(244 + 60) )>15) or IsPlayerSpell(v25.SuddenDemiseTalent))) then local v99=0 + 0 ;while true do if (v99==0) then v20("Rupture");return true;end end end if (v3(v25.Garrote) and v38 and ((v52>(476 -(41 + 435))) or  not v12(v25.Garrote) or (v51>(1001 -(938 + 63))) or (v11(v25.IndiscriminateCarnageBuff) and (v48<v47))) and  not (v47<2) and (((v17(0,60) -v6("target",v25.Garrote))>(2 + 0)) or IsPlayerSpell(v25.SuddenDemiseTalent)) and ((v32-v35)>((1127 -(936 + 189)) -((v11(v25.DarkestNightBuff) and (1 + 1)) or (1613 -(1565 + 48)))))) then local v100=0;while true do if (v100==(0 + 0)) then v20("Garrote");return true;end end end if (v3(v25.Garrote) and v38 and ( not v12(v25.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(1139 -(782 + 356))) or v19(v25.Garrote)) and ((v32-v35)>=((268 -(176 + 91)) + ((4 -2) * ((IsPlayerSpell(v25.ShroudedSuffocationTalent) and (1 -0)) or (1092 -(975 + 117))))))) then local v101=1875 -(157 + 1718) ;while true do if (v101==(0 + 0)) then v20("Garrote");return true;end end end end;local v69=function() if (v3(v25.Vanish) and v12(v25.DeathmarkDebuff) and v11(v25.ColdBloodBuff) and (v9(v25.FateboundCoinTailsBuff)>=(3 -2)) and (v9(v25.FateboundCoinHeadsBuff)>=(3 -2))) then if ((aura_env.config[tostring(v25.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v25.Vanish)]~=true) then local v131=0;while true do if (v131==0) then v20("Vanish");return true;end end end end if (v3(v25.Vanish) and  not IsPlayerSpell(v25.MasterAssassinTalent) and  not IsPlayerSpell(v25.IndiscriminateCarnageTalent) and IsPlayerSpell(v25.ImprovedGarroteTalent) and v3(v25.Garrote) and ( not v12(v25.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(1019 -(697 + 321))) or v19(v25.Garrote)) and (v12(v25.Deathmark) or (v7(v25.Deathmark)<4)) and ((v32-v35)>=min(v47,10 -6 ))) then if ((aura_env.config[tostring(v25.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v25.Vanish)]~=true) then local v132=0 -0 ;while true do if (v132==0) then v20("Vanish");return true;end end end end if (v3(v25.Vanish) and IsPlayerSpell(v25.IndiscriminateCarnageTalent) and IsPlayerSpell(v25.ImprovedGarroteTalent) and v3(v25.Garrote) and ( not v12(v25.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(2 -1)) or v19(v25.Garrote)) and (v47>2) and ((v17(0 + 0 ,60) -v6("target",v25.Vanish))>(28 -13))) then if ((aura_env.config[tostring(v25.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v25.Vanish)]~=true) then local v133=0 -0 ;while true do if (v133==0) then v20("Vanish");return true;end end end end if (v3(v25.Vanish) and IsPlayerSpell(v25.MasterAssassinTalent) and v12(v25.Deathmark) and (v6("target",v25.Kingsbane)<=((1233 -(322 + 905)) + (3 * ((IsPlayerSpell(v25.SubterfugeTalent) and (613 -(602 + 9))) or (1189 -(449 + 740))))))) then if ((aura_env.config[tostring(v25.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v25.Vanish)]~=true) then local v134=872 -(826 + 46) ;while true do if (v134==(947 -(245 + 702))) then v20("Vanish");return true;end end end end if (v3(v25.Vanish) and IsPlayerSpell(v25.ImprovedGarroteTalent) and v3(v25.Garrote) and ( not v12(v25.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=1) or v19(v25.Garrote)) and (v12(v25.Deathmark))) then if ((aura_env.config[tostring(v25.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v25.Vanish)]~=true) then local v135=0;while true do if (v135==(0 -0)) then v20("Vanish");return true;end end end end end;local v70=function() local v83=0 + 0 ;while true do if (v83==(1899 -(260 + 1638))) then if ( not v12(v25.ShivDebuff) and v11(v25.DarkestNightBuff) and (( not v11(v25.DarkestNightBuff) and (v47<(442 -(382 + 58)))) or (v11(v25.DarkestNightBuff) and (v47>1)))) then if v67() then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then elseif (aura_env.config[tostring(v25.Shiv)]~=true) then return true;end end end if (v3(v25.Deathmark) and ((v27.DeathmarkCondition and (v17(0 -0 ,50 + 10 )>=(20 -10))) or (v18(60,v46)<=(59 -39)))) then if ((aura_env.config[tostring(v25.Deathmark)]==true) and aura_env.FlagKTrigCD) then v21("Deathmark");elseif (aura_env.config[tostring(v25.Deathmark)]~=true) then v20("Deathmark");return true;end end v83=1207 -(902 + 303) ;end if (v83==(5 -2)) then if (( not v37 and (abs(v5("player",v25.MasterAssassinBuff))==(0 -0))) or (IsPlayerSpell(v25.IndiscriminateCarnageTalent) and  not IsPlayerSpell(v25.ImprovedGarroteTalent) and  not v27.ScentSaturation and (v49<v47) and (v47>=(1 + 2)))) then if v69() then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then elseif (aura_env.config[tostring(v25.Shiv)]~=true) then return true;end end end break;end if ((1690 -(1121 + 569))==v83) then v27.DeathmarkKingsbaneCondition=(v7(v25.Kingsbane)<=(216 -(22 + 192))) and v11(v25.EnvenomBuff) ;v27.DeathmarkCondition=v12(v25.RuptureDebuff) and (v27.DeathmarkKingsbaneCondition or ((v47>(684 -(483 + 200))) and (v5("player",v25.SliceAndDiceBuff)>(1468 -(1404 + 59)))) or ( not IsPlayerSpell(v25.KingsbaneTalent) and v12(v25.CrimsonTempestDebuff))) and  not v12(v25.DeathmarkDebuff) ;v83=2 -1 ;end if (v83==(2 -0)) then if ( not v12(v25.ShivDebuff) and  not v11(v25.DarkestNightBuff) and (v47>(766 -(468 + 297)))) then if v67() then if ((aura_env.config[tostring(v25.Shiv)]==true) and aura_env.FlagKTrigCD) then elseif (aura_env.config[tostring(v25.Shiv)]~=true) then return true;end end end if (v3(v25.Kingsbane) and (((v12(v25.ShivDebuff) or (v7(v25.Shiv)<6)) and (v11(v25.Envenom) or (v47>(563 -(334 + 228)))) and ((v7(v25.Deathmark)>=((168 -118) -((34 -19) * (((v28>=4) and IsPlayerSpell(v25.HandOfFateTalent) and (1 -0)) or (0 + 0))))) or v12(v25.Deathmark))) or (v18(60,v46)<=(251 -(141 + 95))))) then if ((aura_env.config[tostring(v25.Kingsbane)]==true) and aura_env.FlagKTrigCD) then v21("Kingsbane");elseif (aura_env.config[tostring(v25.Kingsbane)]~=true) then local v136=0 + 0 ;while true do if (v136==(0 -0)) then v20("Kingsbane");return true;end end end end v83=6 -3 ;end end end;if (v37 or v11(v25.IndiscriminateCarnageBuff) or v38 or (abs(v5("player",v25.MasterAssassinBuff))>(0 + 0))) then if v68() then return true;end end if v70() then return true;end if v65() then return true;end if  not (v47<(5 -3)) then if v64() then return true;end end if v66() then return true;end v20("Clear");end;