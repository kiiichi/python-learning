function(v1,v2,v3,v2,v4,v2,v2,v2,v5,v2,v2,v2,v6) local v7=0 -0 ;while true do if (v7==1) then if ((v3=="SPELL_AURA_APPLIED") or (v3=="SPELL_AURA_REFRESH")) then if (v6==aura_env.ids.Garrote) then local v9=931 -(857 + 74) ;local v10;while true do if (v9==(568 -(367 + 201))) then v10=((aura_env.PlayerHasBuff(393330 -(214 + 713) ) or aura_env.PlayerHasBuff(392401)) and 1.5) or (1 + 0) ;aura_env.GarroteSnapshots[v5]=v10;break;end end elseif (v6==aura_env.ids.CrimsonTempestDebuff) then aura_env.CrimsonTempestSnapshots[v5]=aura_env.LastCrimsonTempestCount;end end if (v3=="SPELL_AURA_REMOVED") then if (v6==aura_env.ids.Garrote) then aura_env.GarroteSnapshots[v5]=nil;end end break;end if (v7==(0 + 0)) then if (v4~=UnitGUID("player")) then return false;end if (v3=="SPELL_CAST_SUCCESS") then aura_env.PrevCast=v6;if (v6==aura_env.ids.Envenom) then if (IsPlayerSpell(aura_env.ids.TwistTheKnifeTalent) and (aura_env.Envenom1<GetTime())) then aura_env.Envenom1=aura_env.Envenom1;aura_env.Envenom2=aura_env.GetRemainingAuraDuration("player",aura_env.ids.Envenom) + GetTime() ;else aura_env.Envenom1=aura_env.GetRemainingAuraDuration("player",aura_env.ids.Envenom) + GetTime() ;end elseif (v6==aura_env.ids.CrimsonTempest) then local v17=0;for v20=878 -(282 + 595) ,1677 -(1523 + 114)  do local v21=0 + 0 ;local v22;while true do if (v21==0) then v22="nameplate"   .. v20 ;if (UnitExists(v22) and  not UnitIsFriend("player",v22) and WeakAuras.CheckRange(v22,10,"<=")) then v17=v17 + (1 -0) ;end break;end end end aura_env.LastCrimsonTempestCount=min(v17,1070 -(68 + 997) );end end v7=1271 -(226 + 1044) ;end end end;