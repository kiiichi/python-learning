function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.FullGCD;local v24=aura_env.ids;aura_env.OutOfRange=false;local v26={};local v27=WeakAuras.GetNumSetItemsEquipped(2594 -(821 + 86) );local v28=UnitPower("player",Enum.PowerType.ComboPoints);local v29=UnitPowerMax("player",Enum.PowerType.ComboPoints);local v30=UnitPower("player",Enum.PowerType.Energy);local v31=UnitPowerMax("player",Enum.PowerType.Energy);local v32=v28;local v33=((aura_env.Envenom1<v2) and (0 -0)) or (aura_env.Envenom1-v2) ;local v34=v11(v24.SubterfugeBuff) or v11(v24.StealthBuff) ;local v35=v11(392403) or v11(394284 -(1668 + 215) ) ;local v36=GetPowerRegen();local v37=(2 + 0)/((3 -2) + ((0.01 + 0) * UnitSpellHaste("player"))) ;local v38=518 -(114 + 404) ;local v39=0;local v40={703,4972 -3029 ,360826,360830};local v41={10024 -(1213 + 131) ,1655 + 1163 ,383414};local v42=function(v68) for v80,v81 in ipairs(v41) do if WA_GetUnitDebuff(v68,v81,"PLAYER") then return true;end end return false;end;local v43=10;local v44=0 -0 ;local v45=859 -(814 + 45) ;local v46=0 -0 ;local v47=0 + 0 ;local v48=0;local v49=0 + 0 ;local v50=885 -(261 + 624) ;for v69=1 -0 ,1120 -(1020 + 60)  do local v70=1423 -(630 + 793) ;local v71;while true do if (v70==(0 -0)) then v71="nameplate"   .. v69 ;if (UnitExists(v71) and  not UnitIsFriend("player",v71) and WeakAuras.CheckRange(v71,v43,"<=")) then v44=v44 + (4 -3) ;if WA_GetUnitDebuff(v71,v24.Garrote,"PLAYER") then v45=v45 + 1 + 0 ;end if WA_GetUnitDebuff(v71,v24.Rupture,"PLAYER") then v46=v46 + (3 -2) ;end if (v6(v71,v24.Garrote)<12) then v47=v47 + 1 ;end if (aura_env.GarroteSnapshots[UnitGUID(v71)]==nil) then aura_env.GarroteSnapshots[UnitGUID(v71)]=0;end if (aura_env.GarroteSnapshots[UnitGUID(v71)]<=(1748 -(760 + 987))) then v48=v48 + (1914 -(1789 + 124)) ;end if (v19(v24.Garrote,v71,"HARMFUL|PLAYER") and (aura_env.GarroteSnapshots[UnitGUID(v71)]<=(767 -(745 + 21)))) then v49=v49 + 1 + 0 ;end if v19(v24.Rupture,v71,"HARMFUL|PLAYER") then v50=v50 + (2 -1) ;end if v42(v71) then v38=v38 + (3 -2) ;for v116,v117 in ipairs(v40) do if WA_GetUnitDebuff(v71,v117,"PLAYER") then v39=v39 + 1 ;end end end end break;end end end if  not (v45<v44) then WeakAuras.ScanEvents("K_NEARBY_GARROTED_SAT");end if  not (v46<v44) then WeakAuras.ScanEvents("K_NEARBY_RUPTURED_SAT");end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v44);v36=v36 + ((v39 * (1 + 6))/v37) ;if IsPlayerSpell(v24.DashingScoundrelTalent) then v36=v36 + (((0.9 + 0) * v38 * (GetCritChance()/(1155 -(87 + 968))))/v37) ;end WeakAuras.ScanEvents("K_GARROTE_DATA",v45,v44);WeakAuras.ScanEvents("K_RUPTURE_DATA",v46,v44);if (C_Item.IsItemInRange(70932 -54818 ,"target")==false) then aura_env.OutOfRange=true;end v26.EffectiveSpendCp=max(v29-2 ,(5 + 0) * ((IsPlayerSpell(v24.HandOfFateTalent) and (2 -1)) or 0) );v26.SingleTarget=v44<2 ;v26.RegenSaturated=v36>(1443 -(447 + 966)) ;v26.InCooldowns=v12(v24.Deathmark) or v12(v24.Kingsbane) or v12(v24.ShivDebuff) ;v26.UpperLimitEnergy=((v30/v31) * (273 -173))>=(50 -(10 * ((IsPlayerSpell(v24.ViciousVenomsTalent) and (1819 -(1703 + 114))) or (701 -(376 + 325))))) ;v26.CdSoon=(v7(v24.Kingsbane)<(4 -1)) and  not v3(v24.Kingsbane) ;v26.NotPooling=v26.InCooldowns or ( not v26.CdSoon and v11(v24.DarkestNightBuff)) or v26.UpperLimitEnergy or (v18(184 -124 ,v43)<=(6 + 14)) ;v26.ScentEffectiveMaxStacks=min(v44 * ((IsPlayerSpell(v24.ScentOfBloodTalent) and (4 -2)) or (14 -(9 + 5))) * (378 -(85 + 291)) ,20);v26.ScentSaturation=v9(v24.ScentOfBloodBuff)>=v26.ScentEffectiveMaxStacks ;local v60={};if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then local v97=0;while true do if (v97==(1266 -(243 + 1022))) then v21("Clear",nil);return;end if (v97==(0 -0)) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v20("Clear",nil);v97=1 + 0 ;end end end end if (v3(v24.ThistleTea) and (( not v11(v24.ThistleTeaBuff) and (v6("target",v24.ShivDebuff)>=(1186 -(1123 + 57))) and  not v12(v24.KingsbaneDebuff)) or ( not v11(v24.ThistleTeaBuff) and v12(v24.KingsbaneDebuff) and (v6("target",v24.KingsbaneDebuff)<=(5 + 1))) or ( not v11(v24.ThistleTeaBuff) and (v18(314 -(163 + 91) ,v43)<=(C_Spell.GetSpellCharges(v24.ThistleTea).currentCharges * (1936 -(1869 + 61))))))) then v60.ThistleTea=true;end if (v3(v24.ColdBlood) and (v7(v24.Deathmark)>(3 + 7)) and  not v11(v24.DarkestNightBuff) and (v32>=v26.EffectiveSpendCp) and (v26.NotPooling or (v10(v24.AmplifyingPoisonDebuff)>=20) or  not (v44<(6 -4))) and  not v11(v24.VanishBuff) and ( not v3(v24.Kingsbane) or  not (v44<(2 -0))) and  not v3(v24.Deathmark)) then v60.ColdBlood=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v60,nil);local v61=function() if (v3(v24.CrimsonTempest) and (v44>=(1 + 1)) and v19(v24.CrimsonTempest) and (v32>=v26.EffectiveSpendCp) and (((v17(0 -0 ,57 + 3 ) -v6("target",v24.CrimsonTempest))>(1480 -(1329 + 145))) or IsPlayerSpell(v24.SuddenDemiseTalent))) then v20("Crimson Tempest");return true;end if (v3(v24.Garrote) and (aura_env.config['PerformanceMode']==true) and ((v29-v32)>=(972 -(140 + 831))) and (v49>(1850 -(1409 + 441))) and  not v26.RegenSaturated) then local v85=718 -(15 + 703) ;while true do if (v85==(0 + 0)) then v20("Garrote","TAB");return true;end end end if (v3(v24.Garrote) and ((v29-v32)>=1) and ( not v12(v24.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(439 -(262 + 176)))) and v19(v24.Garrote) and  not v26.RegenSaturated and (((v17(1721 -(345 + 1376) ,748 -(198 + 490) ) -v6("target",v24.Garrote))>(52 -40)) or IsPlayerSpell(v24.SuddenDemiseTalent))) then v20("Garrote");return true;end if (v3(v24.Rupture) and (aura_env.config['PerformanceMode']==true) and (v32>=v26.EffectiveSpendCp) and (v50>0) and ( not v12(v24.Kingsbane) or v11(v24.ColdBlood)) and  not v26.RegenSaturated and (IsPlayerSpell(v24.ScentOfBloodTalent) or v11(v24.IndiscriminateCarnageBuff) or true) and true and  not v11(v24.DarkestNightBuff)) then local v86=0 -0 ;while true do if (v86==(1206 -(696 + 510))) then v20("Rupture","TAB");return true;end end end if (v3(v24.Rupture) and (v32>=v26.EffectiveSpendCp) and v19(v24.Rupture) and ( not v12(v24.Kingsbane) or v11(v24.ColdBlood)) and  not v26.RegenSaturated and (IsPlayerSpell(v24.ScentOfBloodTalent) or v11(v24.IndiscriminateCarnageBuff) or ((v17(0 -0 ,60) -v6("target",v24.Rupture))>(1277 -(1091 + 171))) or IsPlayerSpell(v24.SuddenDemiseTalent)) and (((v17(0,10 + 50 ) -v6("target",v24.Rupture))>((21 -14) + (((IsPlayerSpell(v24.DashingScoundrelTalent) and (3 -2)) or 0) * 5) + (((v26.RegenSaturated and (375 -(123 + 251))) or 0) * (29 -23)))) or IsPlayerSpell(v24.SuddenDemiseTalent)) and  not v11(v24.DarkestNightBuff)) then v20("Rupture");return true;end if (v3(v24.Rupture) and (aura_env.config['PerformanceMode']==true) and (v32>=v26.EffectiveSpendCp) and (v50>0) and ( not v12(v24.Kingsbane) or v11(v24.ColdBlood)) and v26.RegenSaturated and  not v26.ScentSaturation and true and  not v11(v24.DarkestNightBuff)) then local v87=698 -(208 + 490) ;while true do if (v87==0) then v20("Rupture","TAB");return true;end end end if (v3(v24.Rupture) and (v32>=v26.EffectiveSpendCp) and v19(v24.Rupture) and ( not v12(v24.Kingsbane) or v11(v24.ColdBlood)) and v26.RegenSaturated and  not v26.ScentSaturation and (((v17(0,60) -v6("target",v24.Rupture))>(2 + 17)) or IsPlayerSpell(v24.SuddenDemiseTalent)) and  not v11(v24.DarkestNightBuff)) then local v88=0 + 0 ;while true do if (v88==(836 -(660 + 176))) then v20("Rupture");return true;end end end if (v3(v24.Garrote) and v19(v24.Garrote) and ((v29-v32)>=(1 + 0)) and ( not v12(v24.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(203 -(14 + 188))) or ((v6("target",v24.Garrote)<=(677 -(534 + 141))) and (v44>=3))) and (v6("target",v24.Garrote)<=(2 * (1 + 1))) and (v44>=(3 + 0)) and (((v17(0 + 0 ,126 -66 ) -v6("target",v24.Garrote))>(5 -1)) or IsPlayerSpell(v24.SuddenDemiseTalent)) and (abs(v5("player",v24.MasterAssassinBuff))==(0 -0))) then local v89=0 + 0 ;while true do if (v89==(0 + 0)) then v20("Garrote");return true;end end end end;local v62=function() local v72=0;while true do if (v72==0) then if (v3(v24.Garrote) and ((v29-v32)>=1) and ( not v12(v24.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(397 -(115 + 281)))) and v19(v24.Garrote) and (((v17(0 -0 ,60) -v6("target",v24.Garrote))>(10 + 2)) or IsPlayerSpell(v24.SuddenDemiseTalent))) then local v105=0 -0 ;while true do if ((0 -0)==v105) then v20("Garrote");return true;end end end if (v3(v24.Rupture) and (v32>=v26.EffectiveSpendCp) and v19(v24.Rupture) and (((v17(0,927 -(550 + 317) ) -v6("target",v24.Rupture))>((5 -1) + (((IsPlayerSpell(v24.DashingScoundrelTalent) and 1) or (0 -0)) * 5) + (((v26.RegenSaturated and 1) or (0 -0)) * 6))) or IsPlayerSpell(v24.SuddenDemiseTalent)) and ( not v11(v24.DarkestNightBuff) or (IsPlayerSpell(v24.CausticSpatterTalent) and  not v12(v24.CausticSpatterDebuff)))) then local v106=285 -(134 + 151) ;while true do if (v106==(1665 -(970 + 695))) then v20("Rupture");return true;end end end v72=1;end if (v72==(1 -0)) then if (v3(v24.CrimsonTempest) and (v32>=v26.EffectiveSpendCp) and v19(v24.CrimsonTempestDebuff) and  not v11(v24.DarkestNightBuff) and  not IsPlayerSpell(v24.AmplifyingPoisonTalent)) then v20("Crimson Tempest");return true;end break;end end end;local v63=function() if (v3(v24.Envenom) and  not v11(v24.DarkestNightBuff) and (v32>=v26.EffectiveSpendCp) and (v26.NotPooling or (v10(v24.AmplifyingPoisonDebuff)>=(2010 -(582 + 1408))) or  not (v44<(6 -4))) and  not v11(v24.VanishBuff)) then v20("Envenom");return true;end if (v3(v24.Envenom) and v11(v24.DarkestNightBuff) and (v32>=v29)) then v20("Envenom");return true;end v26.UseFiller=((v28<=v26.EffectiveSpendCp) and  not v26.CdSoon) or v26.NotPooling or  not (v44<(2 -0)) ;v26.FokTargetCount=(v11(v24.ClearTheWitnessesBuff) and (v44>=(2 -(((v11(v24.LingeringDarknessBuff) or  not IsPlayerSpell(v24.ViciousVenomsTalent)) and (3 -2)) or (1824 -(1195 + 629)))))) or (v44>=(((3 -0) -((IsPlayerSpell(v24.MomentumOfDespairTalent) and IsPlayerSpell(v24.ThrownPrecisionTalent) and 1) or 0)) + ((IsPlayerSpell(v24.ViciousVenomsTalent) and 1) or 0) + ((IsPlayerSpell(v24.BlindsideTalent) and (242 -(187 + 54))) or 0))) ;v26.UseCausticFiller=IsPlayerSpell(v24.CausticSpatterTalent) and v12(v24.Rupture) and ( not v12(v24.CausticSpatterDebuff) or (v6("target",v24.CausticSpatterDebuff)<=(783 -(162 + 618)))) and ((v29-v32)>(1 + 0)) and  not (v44<2) ;if (v3(v24.Mutilate) and v26.UseCausticFiller) then local v90=0 + 0 ;while true do if (v90==0) then v20("Mutilate");return true;end end end if (v3(v24.Ambush) and v26.UseCausticFiller) then v20("Ambush");return true;end if (v3(v24.FanOfKnives) and v11(v24.DarkestNightBuff) and (v32==(12 -6)) and ( not IsPlayerSpell(v24.ViciousVenomsTalent) or (v44>=2))) then local v91=0 -0 ;while true do if (v91==(0 + 0)) then v20("Fan of Knives");return true;end end end if (v3(v24.FanOfKnives) and v26.UseFiller and v26.FokTargetCount) then if v26.NotPooling then v20("Fan of Knives");return true;else v20("Fan of Knives","Not Good");return true;end end if (v3(v24.Ambush) and v26.UseFiller and (v11(v24.BlindsideBuff) or v34) and ( not v12(v24.Kingsbane) or (v12(v24.Deathmark)==false) or v11(v24.BlindsideBuff))) then if v26.NotPooling then v20("Ambush");return true;else v20("Ambush","Not Good");return true;end end if (v3(v24.Mutilate) and  not v12(v24.DeadlyPoisonDebuff) and  not v12(v24.AmplifyingPoisonDebuff) and v26.UseFiller and (v44==2)) then if v26.NotPooling then local v102=1636 -(1373 + 263) ;while true do if (v102==(1000 -(451 + 549))) then v20("Mutilate");return true;end end else v20("Mutilate","Not Good");return true;end end if (v3(v24.Mutilate) and v26.UseFiller) then if v26.NotPooling then local v103=0;while true do if (v103==(0 + 0)) then v20("Mutilate");return true;end end else local v104=0 -0 ;while true do if (v104==(0 -0)) then v20("Mutilate","Not Good");return true;end end end end end;local v64=function() v26.ShivCondition= not v12(v24.ShivDebuff) and v12(v24.Garrote) and v12(v24.Rupture) and (v44<=(1389 -(746 + 638))) ;v26.ShivKingsbaneCondition=IsPlayerSpell(v24.Kingsbane) and v11(v24.Envenom) and v26.ShivCondition ;if (v3(v24.Shiv) and IsPlayerSpell(v24.ArterialPrecisionTalent) and v26.ShivCondition and (v44>=(2 + 2)) and v12(v24.CrimsonTempest)) then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v24.Shiv)]~=true) then local v108=0;while true do if (v108==(0 -0)) then v20("Shiv");return true;end end end end if (v3(v24.Shiv) and  not IsPlayerSpell(v24.LightweightShivTalent) and v26.ShivKingsbaneCondition and ((v12(v24.Kingsbane) and (v6("target",v24.Kingsbane)<(349 -(218 + 123)))) or ( not v12(v24.Kingsbane) and (v7(v24.Kingsbane)>=20))) and ( not IsPlayerSpell(v24.CrimsonTempest) or (v44<(1583 -(1535 + 46))) or v12(v24.CrimsonTempest))) then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v24.Shiv)]~=true) then local v109=0;while true do if (v109==0) then v20("Shiv");return true;end end end end if (v3(v24.Shiv) and v11(v24.DarkestNightBuff) and (v32>=v26.EffectiveSpendCp) and v11(v24.LingeringDarknessBuff)) then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v24.Shiv)]~=true) then v20("Shiv");return true;end end if (v3(v24.Shiv) and IsPlayerSpell(v24.LightweightShivTalent) and v26.ShivKingsbaneCondition and ((v12(v24.Kingsbane) and (v6("target",v24.KingsbaneDebuff)<(8 + 0))) or ((v7(v24.Kingsbane)<=(1 + 0)) and (v14(v24.Shiv)>=(561.7 -(306 + 254)))))) then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v24.Shiv)]~=true) then local v110=0 + 0 ;while true do if (v110==(0 -0)) then v20("Shiv");return true;end end end end if (v3(v24.Shiv) and IsPlayerSpell(v24.ArterialPrecisionTalent) and  not v12(v24.ShivDebuff) and v12(v24.Garrote) and v12(v24.Rupture) and v12(v24.Deathmark)) then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v24.Shiv)]~=true) then v20("Shiv");return true;end end if (v3(v24.Shiv) and  not IsPlayerSpell(v24.Kingsbane) and  not IsPlayerSpell(v24.ArterialPrecisionTalent) and v26.ShivCondition and ( not IsPlayerSpell(v24.CrimsonTempest) or (v44<2) or v12(v24.CrimsonTempest))) then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v24.Shiv)]~=true) then local v111=1467 -(899 + 568) ;while true do if (v111==(0 + 0)) then v20("Shiv");return true;end end end end if (v3(v24.Shiv) and (v18(60,v43)<=(C_Spell.GetSpellCharges(v24.Shiv).currentCharges * (19 -11)))) then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v24.Shiv)]~=true) then v20("Shiv");return true;end end end;local v65=function() if (v3(v24.Ambush) and  not v12(v24.DeathstalkersMarkDebuff) and IsPlayerSpell(v24.DeathstalkersMarkTalent) and (v32<v26.EffectiveSpendCp) and (v12(v24.Rupture) or (v44<=(604 -(268 + 335))) or  not IsPlayerSpell(v24.SubterfugeTalent)) and  not v11(v24.DarkestNightBuff)) then v20("Ambush");return true;end if (v3(v24.Shiv) and IsPlayerSpell(v24.KingsbaneTalent) and v12(v24.KingsbaneDebuff) and (v6("target",v24.KingsbaneDebuff)<8) and ( not v12(v24.ShivDebuff) or (v6("target",v24.ShivDebuff)<(291 -(60 + 230)))) and v11(v24.EnvenomBuff)) then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v24.Shiv)]~=true) then v20("Shiv");return true;end end if (v3(v24.Envenom) and (v32>=v26.EffectiveSpendCp) and v12(v24.Kingsbane) and (v5("player",v24.Envenom)<=3) and (v12(v24.DeathstalkersMarkDebuff) or v11(v24.ColdBlood) or (v11(v24.DarkestNightBuff) and (v32==7)))) then local v92=572 -(426 + 146) ;while true do if (v92==(0 + 0)) then v20("Envenom");return true;end end end if (v3(v24.Envenom) and (v32>=v26.EffectiveSpendCp) and (v5("player",v24.MasterAssassinBuff)< -(1457 -(282 + 1174))) and (v44<(813 -(569 + 242))) and (v12(v24.DeathstalkersMarkDebuff) or v11(v24.ColdBlood) or (v11(v24.DarkestNightBuff) and (v32==(20 -13))))) then local v93=0 + 0 ;while true do if (v93==(1024 -(706 + 318))) then v20("Envenom");return true;end end end if (v3(v24.CrimsonTempest) and (v44>=(1258 -(721 + 530))) and (v32>=v26.EffectiveSpendCp) and (v6("target",v24.CrimsonTempest)<=2) and  not v11(v24.DarkestNightBuff) and v26.RegenSaturated and v26.ScentSaturation and (((v17(1271 -(945 + 326) ,60) -v6("target",v24.CrimsonTempest))>(14 -8)) or IsPlayerSpell(v24.SuddenDemiseTalent))) then v20("Crimson Tempest");return true;end v26.DeathmarkConditionInStealthed=v12(v24.Rupture) and (v26.DeathmarkKingsbaneCondition or ((v44>1) and (v32>=v26.EffectiveSpendCp) and v26.ScentSaturation) or ( not IsPlayerSpell(v24.KingsbaneTalent) and v12(v24.CrimsonTempest))) and  not v12(v24.Deathmark) and ( not IsPlayerSpell(v24.MasterAssassinTalent) or v12(v24.Garrote)) ;if (v3(v24.Deathmark) and ((v26.DeathmarkConditionInStealthed and (v17(0,54 + 6 )>=(710 -(271 + 429)))) or (v18(60,v43)<=(19 + 1)))) then if ((aura_env.config[tostring(v24.Deathmark)]==true) and aura_env.FlagKTrigCD) then v21("Deathmark","Quick");elseif (aura_env.config[tostring(v24.Deathmark)]~=true) then v20("Deathmark");return true;end end if v64() then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then elseif (aura_env.config[tostring(v24.Shiv)]~=true) then return true;end end if (v3(v24.Kingsbane) and (((v12(v24.ShivDebuff) or (v7(v24.Shiv)<6)) and (v11(v24.Envenom) or (v44>(1501 -(1408 + 92)))) and v12(v24.Deathmark)) or (v18(1146 -(461 + 625) ,v43)<=(1303 -(993 + 295))))) then if ((aura_env.config[tostring(v24.Kingsbane)]==true) and aura_env.FlagKTrigCD) then v21("Kingsbane");elseif (aura_env.config[tostring(v24.Kingsbane)]~=true) then v20("Kingsbane");return true;end end if (v3(v24.Kingsbane) and (((v12(v24.ShivDebuff) or (v7(v24.Shiv)<(1 + 5))) and (v11(v24.Envenom) or (v44>1)) and (v7(v24.Deathmark)>=(1221 -(418 + 753))) and  not v12(v24.Deathmark)) or (v18(60,v43)<=(6 + 9)))) then if ((aura_env.config[tostring(v24.Kingsbane)]==true) and aura_env.FlagKTrigCD) then v21("Kingsbane","Quick");elseif (aura_env.config[tostring(v24.Kingsbane)]~=true) then local v112=0 + 0 ;while true do if (v112==(0 + 0)) then v20("Kingsbane");return true;end end end end if (v3(v24.Rupture) and (v32>=v26.EffectiveSpendCp) and v11(v24.IndiscriminateCarnageBuff) and (v50>0) and ( not v26.RegenSaturated or  not v26.ScentSaturation or  not v12(v24.Rupture) or (v46<v44)) and ((v17(0 + 0 ,589 -(406 + 123) )>(1784 -(1749 + 20))) or IsPlayerSpell(v24.SuddenDemiseTalent))) then local v94=0;while true do if (v94==(0 + 0)) then v20("Rupture");return true;end end end if (v3(v24.Garrote) and v35 and ((v49>(1322 -(1249 + 73))) or  not v12(v24.Garrote) or (v48>(0 + 0)) or (v11(v24.IndiscriminateCarnageBuff) and (v45<v44))) and  not (v44<(1147 -(466 + 679))) and (((v17(0 -0 ,60) -v6("target",v24.Garrote))>2) or IsPlayerSpell(v24.SuddenDemiseTalent)) and ((v29-v32)>(2 -((v11(v24.DarkestNightBuff) and (5 -3)) or (1900 -(106 + 1794)))))) then local v95=0 + 0 ;while true do if (v95==(0 + 0)) then v20("Garrote");return true;end end end if (v3(v24.Garrote) and v35 and ( not v12(v24.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(2 -1)) or v19(v24.Garrote)) and ((v29-v32)>=(1 + ((5 -3) * ((IsPlayerSpell(v24.ShroudedSuffocationTalent) and 1) or 0))))) then local v96=114 -(4 + 110) ;while true do if ((584 -(57 + 527))==v96) then v20("Garrote");return true;end end end end;local v66=function() if (v3(v24.Vanish) and  not v11(v24.FateboundLuckyCoinBuff) and (v32>=v26.EffectiveSpendCp) and ((v9(v24.FateboundCoinTailsBuff)>=(1432 -(41 + 1386))) or (v9(v24.FateboundCoinHeadsBuff)>=5))) then if ((aura_env.config[tostring(v24.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v24.Vanish)]~=true) then v20("Vanish");return true;end end if (v3(v24.Vanish) and  not IsPlayerSpell(v24.MasterAssassinTalent) and  not IsPlayerSpell(v24.IndiscriminateCarnageTalent) and IsPlayerSpell(v24.ImprovedGarroteTalent) and v3(v24.Garrote) and ( not v12(v24.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(104 -(17 + 86))) or v19(v24.Garrote)) and (v12(v24.Deathmark) or (v7(v24.Deathmark)<(3 + 1))) and ((v29-v32)>=min(v44,8 -4 ))) then if ((aura_env.config[tostring(v24.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v24.Vanish)]~=true) then v20("Vanish");return true;end end if (v3(v24.Vanish) and IsPlayerSpell(v24.IndiscriminateCarnageTalent) and IsPlayerSpell(v24.ImprovedGarroteTalent) and v3(v24.Garrote) and ( not v12(v24.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(2 -1)) or v19(v24.Garrote)) and (v44>(168 -(122 + 44))) and ((v17(0,60) -v6("target",v24.Vanish))>15)) then if ((aura_env.config[tostring(v24.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v24.Vanish)]~=true) then v20("Vanish");return true;end end if (v3(v24.Vanish) and IsPlayerSpell(v24.MasterAssassinTalent) and v12(v24.Deathmark) and (v6("target",v24.Kingsbane)<=((10 -4) + (3 * ((IsPlayerSpell(v24.SubterfugeTalent) and (6 -4)) or (0 + 0)))))) then if ((aura_env.config[tostring(v24.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish","Quick");elseif (aura_env.config[tostring(v24.Vanish)]~=true) then local v113=0 + 0 ;while true do if (v113==(0 -0)) then v20("Vanish");return true;end end end end if (v3(v24.Vanish) and IsPlayerSpell(v24.ImprovedGarroteTalent) and v3(v24.Garrote) and ( not v12(v24.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(66 -(30 + 35))) or v19(v24.Garrote)) and (v12(v24.Deathmark) or (v7(v24.Deathmark)<(3 + 1)))) then if ((aura_env.config[tostring(v24.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v24.Vanish)]~=true) then local v114=0;while true do if (v114==(1257 -(1043 + 214))) then v20("Vanish");return true;end end end end end;local v67=function() local v79=0 -0 ;while true do if (v79==(1216 -(323 + 889))) then if (v3(v24.Kingsbane) and (((v12(v24.ShivDebuff) or (v7(v24.Shiv)<(15 -9))) and (v11(v24.Envenom) or (v44>(581 -(361 + 219)))) and ((v7(v24.Deathmark)>=50) or v12(v24.Deathmark))) or (v18(380 -(53 + 267) ,v43)<=(4 + 11)))) then if ((aura_env.config[tostring(v24.Kingsbane)]==true) and aura_env.FlagKTrigCD) then v21("Kingsbane");elseif (aura_env.config[tostring(v24.Kingsbane)]~=true) then local v118=413 -(15 + 398) ;while true do if (v118==(982 -(18 + 964))) then v20("Kingsbane");return true;end end end end if ( not v34 and (abs(v5("player",v24.MasterAssassinBuff))==(0 -0))) then if v66() then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then elseif (aura_env.config[tostring(v24.Shiv)]~=true) then return true;end end end break;end if (v79==(2 + 1)) then if (v3(v24.Deathmark) and ((v26.DeathmarkCondition and (v17(0 + 0 ,910 -(20 + 830) )>=10)) or (v18(47 + 13 ,v43)<=(146 -(116 + 10))))) then if ((aura_env.config[tostring(v24.Deathmark)]==true) and aura_env.FlagKTrigCD) then v21("Deathmark");elseif (aura_env.config[tostring(v24.Deathmark)]~=true) then v20("Deathmark");return true;end end if v64() then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then elseif (aura_env.config[tostring(v24.Shiv)]~=true) then return true;end end v79=4;end if (v79==(0 + 0)) then v26.DeathmarkMaCondition= not IsPlayerSpell(v24.MasterAssassinTalent) or v12(v24.Garrote) ;v26.DeathmarkKingsbaneCondition=v11(v24.EnvenomBuff) and (v7(v24.Kingsbane)<=(740 -(542 + 196))) ;v79=1;end if (v79==1) then v26.DeathmarkCondition=v12(v24.Rupture) and (v26.DeathmarkKingsbaneCondition or ((v44>(1 -0)) and (v5("player",v24.SliceAndDice)>5)) or ( not IsPlayerSpell(v24.KingsbaneTalent) and v12(v24.CrimsonTempest))) and  not v12(v24.Deathmark) and v26.DeathmarkMaCondition ;v26.UseCausticFillerInCDs=IsPlayerSpell(v24.CausticSpatterTalent) and v12(v24.Rupture) and ( not v12(v24.CausticSpatterDebuff) or (v6("target",v24.CausticSpatterDebuff)<=WeakAuras.gcdDuration())) and ((v29-v32)>1) and  not (v44<(1 + 1)) ;v79=2;end if ((2 + 0)==v79) then if (v3(v24.Mutilate) and v26.UseCausticFillerInCDs) then v20("Mutilate");return true;end if (v3(v24.Ambush) and v26.UseCausticFillerInCDs and  not v11(v24.DarkestNightBuff)) then local v107=0 + 0 ;while true do if (v107==(0 -0)) then v20("Ambush");return true;end end end v79=7 -4 ;end end end;if (v34 or v35 or (abs(v5("player",v24.MasterAssassinBuff))>(1551 -(1126 + 425)))) then if v65() then return true;end end if v67() then return true;end if v62() then return true;end if  not (v44<(407 -(118 + 287))) then if v61() then return true;end end if v63() then return true;end v20("Clear");end;