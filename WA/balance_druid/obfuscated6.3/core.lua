function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.ids;aura_env.OutOfRange=false;local v25={};local v26=WeakAuras.GetNumSetItemsEquipped(246 + 1448 );local v27=(v11(v23.EclipseSolarBuff) and v23.EclipseSolarBuff) or nil ;if (v27==nil) then v27=(v11(v23.EclipseLunarBuff) and v23.EclipseLunarBuff) or nil ;end local v28=UnitPower("player",Enum.PowerType.AstralPower);local v29=UnitPowerMax("player",Enum.PowerType.AstralPower);local v30,v30,v30,v30,v31=select(6 -1 ,UnitCastingInfo("player"));local v32=false;local v33=false;if (v31~=nil) then if (v31==v23.Wrath) then local v79=0 -0 ;while true do if (v79==(2 -1)) then if (C_Spell.GetSpellCastCount(v23.Wrath)==1) then v32=true;end break;end if (v79==(0 -0)) then v28=v28 + 3 + 3 ;if (IsPlayerSpell(v23.WildSurgesTalent)) then v28=v28 + (5 -3) ;end v79=1;end end elseif (v31==v23.Starfire) then local v81=0 -0 ;while true do if (v81==(0 + 0)) then v28=v28 + 10 ;if (IsPlayerSpell(v23.WildSurgesTalent)) then v28=v28 + 1 + 1 ;end v81=1;end if (v81==(1 + 0)) then if (C_Spell.GetSpellCastCount(v23.Starfire)==(1056 -(87 + 968))) then v33=true;end break;end end elseif (v31==v23.NewMoon) then v28=v28 + 10 ;elseif (v31==v23.HalfMoon) then v28=v28 + (773 -(239 + 514)) ;elseif (v31==v23.FullMoon) then v28=v28 + (176 -136) ;end end v23.CaInc=(IsPlayerSpell(v23.IncarnationTalent) and v23.Incarnation) or v23.CelestialAlignmentCooldown ;if IsPlayerSpell(v23.IncarnationTalent) then v23.CaIncBuff=(IsPlayerSpell(v23.OrbitalStrikeTalent) and v23.IncarnationOrbitalStrikeBuff) or v23.IncarnationBuff ;else v23.CaIncBuff=(IsPlayerSpell(v23.OrbitalStrikeTalent) and v23.CelestialAlignmentOrbitalStrikeBuff) or v23.CelestialAlignmentBuff ;end local v35=((v7(v23.CelestialAlignmentCooldown)==(0 + 0)) and aura_env.config[tostring(v23.CelestialAlignment)] and  not IsPlayerSpell(v23.Incarnation)) or ((v7(v23.Incarnation)==(0 -0)) and aura_env.config[tostring(v23.Incarnation)] and IsPlayerSpell(v23.Incarnation)) ;local v36=(C_Spell.GetSpellCharges(v23.NewMoon).currentCharges>2) or ((C_Spell.GetSpellCharges(v23.NewMoon).currentCharges==(1 + 0)) and  not v8(v23.NewMoon) and  not v8(v23.HalfMoon) and  not v8(v23.FullMoon)) ;local v37=v11(v23.EclipseLunarBuff) or v32 or v11(v23.EclipseSolarBuff) or v33 ;local v38=1458 -(447 + 966) ;local v39=0 -0 ;local v40=1817 -(1703 + 114) ;for v52=702 -(376 + 325) ,65 -25  do local v53=0 -0 ;local v54;while true do if (v53==0) then v54="nameplate"   .. v52 ;if (UnitExists(v54) and  not UnitIsFriend("player",v54) and WeakAuras.CheckRange(v54,v38,"<=") and (UnitAffectingCombat(v54) or aura_env.config['BypassCombatRequirement'])) then v39=v39 + (1131 -(369 + 761)) ;if WA_GetUnitDebuff(v54,v23.MoonfireDebuff,"PLAYER") then v40=v40 + 1 + 0 ;end end break;end end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v39);if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then local v80=0 -0 ;while true do if (v80==(14 -(9 + 5))) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v20("Clear",nil);v80=377 -(85 + 291) ;end if (v80==(1 + 0)) then v21("Clear",nil);return;end end end end v25.PassiveAsp=((1271 -(243 + 1022))/((3 -2) -(UnitSpellHaste("player")/(83 + 17)))) + ((IsPlayerSpell(v23.NaturesBalanceTalent) and (1181 -(1123 + 57))) or (0 + 0)) + (((IsPlayerSpell(v23.OrbitBreakerTalent) and (1 + 0)) or (254 -(163 + 91))) * ((v12(v23.MoonfireDebuff) and (1931 -(1869 + 61))) or (1580 -(1183 + 397))) * (((aura_env.OrbitBreakerBuffStacks>((8 + 19) -((6 -4) * ((v11(v23.SolsticeBuff) and (1 -0)) or (0 + 0))))) and (1976 -(1913 + 62))) or 0) * (32 -8)) ;v25.ConvokeCondition=(v18(57 + 3 ,v38)<(1479 -(1329 + 145))) or ((v11(v23.CaIncBuff) or (v7(v23.CaInc)>(1011 -(140 + 831)))) and ( not IsPlayerSpell(v23.DreamSurgeTalent) or v11(v23.HarmonyOfTheGroveBuff) or (v7(v23.ForceOfNature)>(56 -41)))) ;v25.EclipseRemains=max(v5("player",v23.EclipseLunarBuff),v5("player",v23.EclipseSolarBuff));v25.EnterLunar=IsPlayerSpell(v23.LunarCallingTalent) or (v39>((1853 -(1409 + 441)) -(((IsPlayerSpell(v23.UmbralEmbraceTalent) or IsPlayerSpell(v23.SoulOfTheForestTalent)) and (719 -(15 + 703))) or (0 + 0)))) ;v25.BoatStacks=v9(v23.BalanceOfAllThingsArcaneBuff) + v9(v23.BalanceOfAllThingsNatureBuff) ;v25.CaEffectiveCd=max(v7(v23.CaInc),v7(v23.ForceOfNature));v25.PreCdCondition=( not IsPlayerSpell(v23.WhirlingStarsTalent) or  not IsPlayerSpell(v23.ConvokeTheSpirits) or (v7(v23.ConvokeTheSpirits)<(max((857.5 -(564 + 292))/((439 -(262 + 176)) + ((1721.01 -(345 + 1376)) * UnitSpellHaste("player"))) ,304.75 -(244 + 60) ) * (690 -(198 + 490)))) or (v18(265 -205 ,v38)<(v7(v23.ConvokeTheSpirits) + (6 -3))) or (v7(v23.ConvokeTheSpirits)>(v16(v23.CaInc) + ((12 + 3) * ((IsPlayerSpell(v23.ControlOfTheDreamTalent) and 1) or (1206 -(696 + 510))))))) and (v7(v23.CaInc)<max((1.5 -0)/(1 + ((1613.01 -(1565 + 48)) * UnitSpellHaste("player"))) ,0.75 + 0 )) and  not v11(v23.CaIncBuff) ;v25.CdCondition=v25.PreCdCondition and ((v18(1322 -(1091 + 171) ,v38)<((3 + 12 + ((272 -(176 + 91)) * ((IsPlayerSpell(v23.IncarnationTalent) and 1) or (0 -0)))) * ((3 -2) -(((IsPlayerSpell(v23.WhirlingStarsTalent) and (375 -(123 + 251))) or (0 -0)) * (0.2 + 0))))) or ((v17(698 -(208 + 490) ,6 + 54 )>(5 + 5)) and ( not IsPlayerSpell(v23.DreamSurgeTalent) or v11(v23.HarmonyOfTheGroveBuff)))) ;local v49={};if (v3(v23.WarriorOfElune) and (v39<=(1019 -(697 + 321))) and (IsPlayerSpell(v23.LunarCallingTalent) or ( not IsPlayerSpell(v23.LunarCallingTalent) and (v25.EclipseRemains<=(843 -(660 + 176))))) and  not v11(v23.DreamstateBuff) and UnitAffectingCombat("player")) then v49.WarriorOfElune=true;end if (v3(v23.WarriorOfElune) and (v39>(2 -1)) and (( not IsPlayerSpell(v23.LunarCallingTalent) and (v5("player",v23.EclipseSolarBuff)<(1 + 6))) or (IsPlayerSpell(v23.LunarCallingTalent) and  not v11(v23.DreamstateBuff) and UnitAffectingCombat("player")))) then v49.WarriorOfElune=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v49,nil);local v50=function() if (v3(v23.Wrath) and v25.EnterLunar and v37 and (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Wrath).castTime/(1202 -(14 + 188)))) and  not v32) then local v60=675 -(534 + 141) ;while true do if ((0 + 0)==v60) then v20("Wrath");return true;end end end if (v3(v23.Starfire) and  not v25.EnterLunar and v37 and (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Starfire).castTime/(885 + 115))) and  not v33) then v20("Starfire");return true;end if (v3(v23.Starfall) and ((v29-v28)<=(v25.PassiveAsp + 6))) then if ((aura_env.config[tostring(v23.Starfall)]==true) and aura_env.FlagKTrigCD) then v21("Starfall");elseif (aura_env.config[tostring(v23.Starfall)]~=true) then local v82=0 + 0 ;while true do if (v82==0) then v20("Starfall");return true;end end end end if (v3(v23.Moonfire) and ((v19(v23.MoonfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.MoonfireDebuff)<(12.6 -6))) and ((v17(611 -(602 + 9) ,95 -35 ) -v6("target",v23.MoonfireDebuff))>(16 -10)) and ( not IsPlayerSpell(v23.TreantsOfTheMoonTalent) or ((v39-v40)>(4 + 2)) or ((v7(v23.ForceOfNature)>(2 + 1)) and  not v11(v23.HarmonyOfTheGroveBuff))) and (select(398 -(115 + 281) ,GetInstanceInfo())~="raid")) then v20("Moonfire");return true;end if (v3(v23.Sunfire) and ((v19(v23.SunfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.SunfireDebuff)<(11.4 -6))) and ((v17(0 + 0 ,145 -85 ) -v6("target",v23.SunfireDebuff))>((21 -15) -(v39/(1 + 1))))) then local v61=867 -(550 + 317) ;while true do if (v61==0) then v20("Sunfire");return true;end end end if (v3(v23.Moonfire) and ((v19(v23.MoonfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.MoonfireDebuff)<(8.6 -2))) and ((v17(0 -0 ,167 -107 ) -v6("target",v23.MoonfireDebuff))>(291 -(134 + 151))) and ( not IsPlayerSpell(v23.TreantsOfTheMoonTalent) or ((v39-v40)>(1671 -(970 + 695))) or ((v7(v23.ForceOfNature)>(5 -2)) and  not v11(v23.HarmonyOfTheGroveBuff))) and ( not select(2,GetInstanceInfo())~="raid")) then local v62=1990 -(582 + 1408) ;while true do if (v62==(0 -0)) then v20("Moonfire");return true;end end end if (v3(v23.Wrath) and v25.EnterLunar and ( not v37 or (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Wrath).castTime/1000))) and  not v32 and  not v25.PreCdCondition) then local v63=0 -0 ;while true do if (v63==(0 -0)) then v20("Wrath");return true;end end end if (v3(v23.Starfire) and  not v25.EnterLunar and ( not v37 or (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Starfire).castTime/(2824 -(1195 + 629))))) and  not v33) then local v64=0 -0 ;while true do if (v64==(0 -0)) then v20("Starfire");return true;end end end if (v3(v23.StellarFlare) and v19(v23.StellarFlare) and ((v17(1205 -(902 + 303) ,301 -(187 + 54) ) -v6("target",v23.StellarFlare))>((787 -(162 + 618)) + v39)) and (v39<((((1 + 10) -((IsPlayerSpell(v23.UmbralIntensityTalent) and (1691 -(1121 + 569))) or (0 + 0))) -((2 + 0) * ((IsPlayerSpell(v23.AstralSmolderTalent) and (1 -0)) or (0 -0)))) -((IsPlayerSpell(v23.LunarCallingTalent) and (1 -0)) or (765 -(468 + 297)))))) then if ((aura_env.config[tostring(v23.StellarFlare)]==true) and aura_env.FlagKTrigCD) then v21("Stellar Flare");elseif (aura_env.config[tostring(v23.StellarFlare)]~=true) then local v83=562 -(334 + 228) ;while true do if ((0 -0)==v83) then v20("Stellar Flare");return true;end end end end if (v3(v23.ForceOfNature) and (v25.PreCdCondition or (((v16(v23.CaInc) + 1 + 4 + ((1651 -(1373 + 263)) * ((IsPlayerSpell(v23.ControlOfTheDreamTalent) and 1) or (1000 -(451 + 549)))))>(GetSpellBaseCooldown(v23.ForceOfNature)/(316 + 684))) and ( not IsPlayerSpell(v23.ConvokeTheSpirits) or ((v7(v23.ConvokeTheSpirits) + (15 -5) + ((251 -(141 + 95)) * ((IsPlayerSpell(v23.ControlOfTheDreamTalent) and (1 -0)) or (1384 -(746 + 638)))))>(GetSpellBaseCooldown(v23.ForceOfNature)/(377 + 623))) or (v18(154 -94 ,v38)<(v7(v23.ConvokeTheSpirits) + C_Spell.GetSpellCooldown(v23.ConvokeTheSpirits).duration + (7 -2)))) and ((v18(144 -84 ,v38)>((GetSpellBaseCooldown(v23.ForceOfNature)/(235 + 765)) + (346 -(218 + 123)))) or (v18(1641 -(1535 + 46) ,v38)<(v7(v23.CaInc) + 7 + 0)))) or (IsPlayerSpell(v23.WhirlingStarsTalent) and IsPlayerSpell(v23.ConvokeTheSpirits) and (v7(v23.ConvokeTheSpirits)>(C_Spell.GetSpellCooldown(v23.ForceOfNature).duration-(2 + 8))) and (v18(620 -(306 + 254) ,v38)>(v7(v23.ConvokeTheSpirits) + 6))))) then if ((aura_env.config[tostring(v23.ForceOfNature)]==true) and aura_env.FlagKTrigCD) then v21("Force Of Nature");elseif (aura_env.config[tostring(v23.ForceOfNature)]~=true) then local v84=0 + 0 ;while true do if ((0 -0)==v84) then v20("Force Of Nature");return true;end end end end if (v3(v23.FuryOfElune) and v37) then if ((aura_env.config[tostring(v23.FuryOfElune)]==true) and aura_env.FlagKTrigCD) then v21("Fury Of Elune");elseif (aura_env.config[tostring(v23.FuryOfElune)]~=true) then v20("Fury Of Elune");return true;end end if ((v7(v23.CelestialAlignmentCooldown)==(1467 -(899 + 568))) and aura_env.config[tostring(v23.CelestialAlignment)] and  not IsPlayerSpell(v23.Incarnation) and v25.CdCondition) then if ((aura_env.config[tostring(v23.CelestialAlignment)]==true) and aura_env.FlagKTrigCD) then v21("Celestial Alignment");elseif (aura_env.config[tostring(v23.CelestialAlignment)]~=true) then v20("Celestial Alignment");return true;end end if ((v7(v23.Incarnation)==0) and aura_env.config[tostring(v23.Incarnation)] and IsPlayerSpell(v23.Incarnation) and v25.CdCondition) then if ((aura_env.config[tostring(v23.Incarnation)]==true) and aura_env.FlagKTrigCD) then v21("Incarnation");elseif (aura_env.config[tostring(v23.Incarnation)]~=true) then v20("Incarnation");return true;end end if (v3(v23.Starfire) and  not IsPlayerSpell(v23.LunarCallingTalent) and (v39<=1) and (((v11(v23.EclipseSolarBuff) or v33) and (v5("player",v23.EclipseSolarBuff)<(C_Spell.GetSpellInfo(v23.Starfire).castTime/(1408 -408)))) or (v27==nil))) then v20("Starfire");return true;end if (v3(v23.Starfall) and (v11(v23.StarweaversWarpBuff) or v11(v23.TouchTheCosmosBuff))) then if ((aura_env.config[tostring(v23.Starfall)]==true) and aura_env.FlagKTrigCD) then v21("Starfall");elseif (aura_env.config[tostring(v23.Starfall)]~=true) then local v85=0 + 0 ;while true do if (v85==(163 -(92 + 71))) then v20("Starfall");return true;end end end end if (v3(v23.Starsurge) and (v11(v23.StarweaversWeftBuff))) then local v65=0 -0 ;while true do if ((603 -(268 + 335))==v65) then v20("Starsurge");return true;end end end if v3(v23.Starfall) then if ((aura_env.config[tostring(v23.Starfall)]==true) and aura_env.FlagKTrigCD) then v21("Starfall");elseif (aura_env.config[tostring(v23.Starfall)]~=true) then local v86=0 -0 ;while true do if (v86==(290 -(60 + 230))) then v20("Starfall");return true;end end end end if (v3(v23.ConvokeTheSpirits) and (( not v11(v23.DreamstateBuff) and  not v11(v23.UmbralEmbraceBuff) and (v39<(579 -(426 + 146)))) or (v39<=(2 -1))) and ((v18(8 + 52 ,v38)<(1461 -(282 + 1174))) or ((v11(v23.CaIncBuff) or (v7(v23.CaInc)>(851 -(569 + 242)))) and ( not IsPlayerSpell(v23.DreamSurgeTalent) or v11(v23.HarmonyOfTheGroveBuff) or (v7(v23.ForceOfNature)>(43 -28)))))) then if ((aura_env.config[tostring(v23.ConvokeTheSpirits)]==true) and aura_env.FlagKTrigCD) then v21("Convoke The Spirits");elseif (aura_env.config[tostring(v23.ConvokeTheSpirits)]~=true) then local v87=0 + 0 ;while true do if (v87==(1024 -(706 + 318))) then v20("Convoke The Spirits");return true;end end end end if (v3(v23.NewMoon) and v36 and ((FindSpellOverrideByID(v23.NewMoon)==v23.NewMoon) or v8(v23.FullMoon))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("New Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then local v88=1251 -(721 + 530) ;while true do if (v88==(0 + 0)) then v20("New Moon");return true;end end end end if (v3(v23.NewMoon) and v36 and ((FindSpellOverrideByID(v23.NewMoon)==v23.HalfMoon) or v8(v23.NewMoon))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("Half Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then local v89=0 -0 ;while true do if (v89==(1271 -(945 + 326))) then v20("Half Moon");return true;end end end end if (v3(v23.NewMoon) and v36 and ((FindSpellOverrideByID(v23.NewMoon)==v23.FullMoon) or v8(v23.HalfMoon))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("Full Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then local v90=939 -(714 + 225) ;while true do if (v90==0) then v20("Full Moon");return true;end end end end if (v3(v23.WildMushroom) and (aura_env.PrevCast~=v23.WildMushroom) and  not v8(v23.WildMushroom) and  not v12(v23.FungalGrowthDebuff)) then if ((aura_env.config[tostring(v23.WildMushroom)]==true) and aura_env.FlagKTrigCD) then v21("Wild Mushroom");elseif (aura_env.config[tostring(v23.WildMushroom)]~=true) then v20("Wild Mushroom");return true;end end if (v3(v23.ForceOfNature) and  not IsPlayerSpell(v23.DreamSurgeTalent)) then if ((aura_env.config[tostring(v23.ForceOfNature)]==true) and aura_env.FlagKTrigCD) then v21("Force Of Nature");elseif (aura_env.config[tostring(v23.ForceOfNature)]~=true) then v20("Force Of Nature");return true;end end if (v3(v23.Starfire) and (IsPlayerSpell(v23.LunarCallingTalent) or ((v11(v23.EclipseLunarBuff) or v32) and (v39>((7 -4) -(((IsPlayerSpell(v23.UmbralEmbraceTalent) or IsPlayerSpell(v23.SoulOfTheForestTalent)) and (1 + 0)) or (700 -(271 + 429)))))))) then local v66=0 + 0 ;while true do if (v66==0) then v20("Starfire");return true;end end end if v3(v23.Wrath) then v20("Wrath");return true;end end;local v51=function() if (v3(v23.Wrath) and v25.EnterLunar and v37 and (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Wrath).castTime/1000)) and  not v32 and  not v25.CdCondition) then local v67=1500 -(1408 + 92) ;while true do if ((1086 -(461 + 625))==v67) then v20("Wrath");return true;end end end if (v3(v23.Starfire) and  not v25.EnterLunar and v37 and (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Starfire).castTime/(2288 -(993 + 295)))) and  not v33 and  not v25.CdCondition) then local v68=0;while true do if (v68==(0 + 0)) then v20("Starfire");return true;end end end if (v3(v23.Sunfire) and ((v6("target",v23.SunfireDebuff)<(1174 -(418 + 753))) or (((v19(v23.SunfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.SunfireDebuff)<(2.4000000000000004 + 3))) and ((IsPlayerSpell(v23.DreamSurgeTalent) and v3(v23.ForceOfNature)) or (IsPlayerSpell(v23.BoundlessMoonlightTalent) and v25.CdCondition))))) then local v69=0 + 0 ;while true do if ((0 + 0)==v69) then v20("Sunfire");return true;end end end if (v3(v23.Moonfire) and (v6("target",v23.MoonfireDebuff)<(1 + 2)) and ( not IsPlayerSpell(v23.TreantsOfTheMoonTalent) or ((v7(v23.ForceOfNature)>(735 -(16 + 716))) and  not v11(v23.HarmonyOfTheGroveBuff)))) then v20("Moonfire");return true;end if ((v7(v23.CelestialAlignmentCooldown)==(529 -(406 + 123))) and aura_env.config[tostring(v23.CelestialAlignment)] and  not IsPlayerSpell(v23.Incarnation) and v25.CdCondition) then if ((aura_env.config[tostring(v23.CelestialAlignment)]==true) and aura_env.FlagKTrigCD) then v21("Celestial Alignment");elseif (aura_env.config[tostring(v23.CelestialAlignment)]~=true) then local v91=1769 -(1749 + 20) ;while true do if (v91==0) then v20("Celestial Alignment");return true;end end end end if ((v7(v23.Incarnation)==(0 + 0)) and aura_env.config[tostring(v23.Incarnation)] and IsPlayerSpell(v23.Incarnation) and v25.CdCondition) then if ((aura_env.config[tostring(v23.Incarnation)]==true) and aura_env.FlagKTrigCD) then v21("Incarnation");elseif (aura_env.config[tostring(v23.Incarnation)]~=true) then local v92=97 -(11 + 86) ;while true do if (v92==(1322 -(1249 + 73))) then v20("Incarnation");return true;end end end end if (v3(v23.Wrath) and v25.EnterLunar and ( not v37 or ((v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Wrath).castTime/(357 + 643))) and  not v32))) then local v70=1145 -(466 + 679) ;while true do if (v70==0) then v20("Wrath");return true;end end end if (v3(v23.Starfire) and  not v25.EnterLunar and ( not v37 or ((v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Starfire).castTime/(2439 -1439))) and  not v33))) then local v71=0 -0 ;while true do if (v71==(0 -0)) then v20("Starfire");return true;end end end if (v3(v23.Starsurge) and v25.CdCondition and ((v29-v28)>(v25.PassiveAsp + (57 -37)))) then local v72=1900 -(106 + 1794) ;while true do if (0==v72) then v20("Starsurge");return true;end end end if (v3(v23.ForceOfNature) and (v25.PreCdCondition or (((v16(v23.CaInc) + 2 + 3 + ((4 + 11) * ((IsPlayerSpell(v23.ControlOfTheDreamTalent) and (1062 -(810 + 251))) or (0 -0))))>(GetSpellBaseCooldown(v23.ForceOfNature)/(2707 -1707))) and ( not IsPlayerSpell(v23.ConvokeTheSpirits) or ((v7(v23.ConvokeTheSpirits) + 10 + ((129 -(4 + 110)) * ((IsPlayerSpell(v23.ControlOfTheDreamTalent) and (585 -(57 + 527))) or 0)))>(GetSpellBaseCooldown(v23.ForceOfNature)/(2427 -(41 + 1386)))) or (v18(163 -(17 + 86) ,v38)<(v7(v23.ConvokeTheSpirits) + C_Spell.GetSpellCooldown(v23.ConvokeTheSpirits).duration + 4 + 1))) and ((v18(60,v38)>((GetSpellBaseCooldown(v23.ForceOfNature)/(1733 -(711 + 22))) + (19 -14))) or (v18(919 -(240 + 619) ,v38)<(v7(v23.CaInc) + (14 -7))))) or (IsPlayerSpell(v23.WhirlingStarsTalent) and IsPlayerSpell(v23.ConvokeTheSpirits) and (v7(v23.ConvokeTheSpirits)>(C_Spell.GetSpellCooldown(v23.ForceOfNature).duration-(28 -18))) and (v18(226 -(122 + 44) ,v38)>(v7(v23.ConvokeTheSpirits) + (10 -4)))))) then if ((aura_env.config[tostring(v23.ForceOfNature)]==true) and aura_env.FlagKTrigCD) then v21("Force Of Nature");elseif (aura_env.config[tostring(v23.ForceOfNature)]~=true) then local v93=0 -0 ;while true do if (v93==(0 + 0)) then v20("Force Of Nature");return true;end end end end if (v3(v23.FuryOfElune) and ((1 + 4 + v25.PassiveAsp)<(v29-v28))) then if ((aura_env.config[tostring(v23.FuryOfElune)]==true) and aura_env.FlagKTrigCD) then v21("Fury Of Elune");elseif (aura_env.config[tostring(v23.FuryOfElune)]~=true) then v20("Fury Of Elune");return true;end end if (v3(v23.Starfall) and (v11(v23.StarweaversWarpBuff))) then if ((aura_env.config[tostring(v23.Starfall)]==true) and aura_env.FlagKTrigCD) then v21("Starfall");elseif (aura_env.config[tostring(v23.Starfall)]~=true) then v20("Starfall");return true;end end if (v3(v23.Starsurge) and IsPlayerSpell(v23.StarlordTalent) and (v9(v23.StarlordBuff)<3)) then local v73=0;while true do if (v73==(0 -0)) then v20("Starsurge");return true;end end end if (v3(v23.Sunfire) and ((v19(v23.SunfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.SunfireDebuff)<(70.4 -(30 + 35))))) then local v74=0 + 0 ;while true do if (v74==(0 -0)) then v20("Sunfire");return true;end end end if (v3(v23.Moonfire) and ((v19(v23.MoonfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.MoonfireDebuff)<(5.6 + 1))) and ( not IsPlayerSpell(v23.TreantsOfTheMoonTalent) or ((v7(v23.ForceOfNature)>(1260 -(1043 + 214))) and  not v11(v23.HarmonyOfTheGroveBuff)))) then v20("Moonfire");return true;end if (v3(v23.Starsurge) and (v7(v23.ConvokeTheSpirits)<(max((3.5 -2)/((1213 -(323 + 889)) + ((0.01 -0) * UnitSpellHaste("player"))) ,580.75 -(361 + 219) ) * (339 -(10 + 327)))) and v25.ConvokeCondition and ((v29-v28)<50)) then v20("Starsurge");return true;end if (v3(v23.ConvokeTheSpirits) and v25.ConvokeCondition) then if ((aura_env.config[tostring(v23.ConvokeTheSpirits)]==true) and aura_env.FlagKTrigCD) then v21("Convoke The Spirits");elseif (aura_env.config[tostring(v23.ConvokeTheSpirits)]~=true) then v20("Convoke The Spirits");return true;end end if (v3(v23.StellarFlare) and v19(v23.StellarFlare) and ((v17(320 -(53 + 267) ,60) -v6("target",v23.StellarFlare))>(7 + v39))) then if ((aura_env.config[tostring(v23.StellarFlare)]==true) and aura_env.FlagKTrigCD) then v21("Stellar Flare");elseif (aura_env.config[tostring(v23.StellarFlare)]~=true) then local v94=0 + 0 ;while true do if (v94==(413 -(15 + 398))) then v20("Stellar Flare");return true;end end end end if (v3(v23.Starsurge) and (((v5("player",v23.StarlordBuff)>(342 -(118 + 220))) and (v25.BoatStacks>=(1 + 2))) or (v18(1042 -(18 + 964) ,v38)<(2 + 2)))) then local v75=0 -0 ;while true do if (v75==(0 -0)) then v20("Starsurge");return true;end end end if (v3(v23.NewMoon) and v36 and ((FindSpellOverrideByID(v23.NewMoon)==v23.NewMoon) or v8(v23.FullMoon)) and (((v29-v28)>(v25.PassiveAsp + 6 + 4)) or (v18(38 + 22 ,v38)<(870 -(20 + 830))) or (v7(v23.CaInc)>(28 -13)))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("New Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then local v95=0 + 0 ;while true do if (v95==(126 -(116 + 10))) then v20("New Moon");return true;end end end end if (v3(v23.NewMoon) and v36 and ((FindSpellOverrideByID(v23.NewMoon)==v23.HalfMoon) or v8(v23.NewMoon)) and ((((v29-v28)>(v25.PassiveAsp + (1839 -(580 + 1239)))) and ((v5("player",v23.EclipseLunarBuff)>max(C_Spell.GetSpellInfo(v23.HalfMoon).castTime/1000 ,WeakAuras.gcdDuration())) or (v5("player",v23.EclipseSolarBuff)>max(C_Spell.GetSpellInfo(v23.HalfMoon).castTime/(74 + 926) ,WeakAuras.gcdDuration())))) or (v18(58 + 2 ,v38)<(758 -(542 + 196))) or (v7(v23.CaInc)>(32 -17)))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("Half Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then local v96=0 + 0 ;while true do if (v96==(0 + 0)) then v20("Half Moon");return true;end end end end if (v3(v23.NewMoon) and v36 and ((FindSpellOverrideByID(v23.NewMoon)==v23.FullMoon) or v8(v23.HalfMoon)) and ((((v29-v28)>(v25.PassiveAsp + 21 + 19)) and ((v5("player",v23.EclipseLunarBuff)>max(C_Spell.GetSpellInfo(v23.FullMoon).castTime/(360 + 640) ,WeakAuras.gcdDuration())) or (v5("player",v23.EclipseSolarBuff)>max(C_Spell.GetSpellInfo(v23.FullMoon).castTime/(2635 -1635) ,WeakAuras.gcdDuration())))) or (v18(60,v38)<(51 -31)) or (v7(v23.CaInc)>(1566 -(1126 + 425))))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("Full Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then v20("Full Moon");return true;end end if (v3(v23.Starsurge) and (v11(v23.StarweaversWeftBuff) or v11(v23.TouchTheCosmosBuff))) then local v76=405 -(118 + 287) ;while true do if (v76==(0 -0)) then v20("Starsurge");return true;end end end if (v3(v23.Starsurge) and ((v29-v28)<(v25.PassiveAsp + (1127 -(118 + 1003)) + ((10 + v25.PassiveAsp) * (((v5("player",v23.EclipseSolarBuff)<(max((4.5 -3)/((2 -1) + ((377.01 -(142 + 235)) * UnitSpellHaste("player"))) ,0.75 -0 ) * (4 -1))) and (506 -(351 + 154))) or (0 + 0)))))) then local v77=977 -(553 + 424) ;while true do if (v77==(0 -0)) then v20("Starsurge");return true;end end end if (v3(v23.WildMushroom) and (aura_env.PrevCast~=v23.WildMushroom) and  not v8(v23.WildMushroom) and  not v12(v23.FungalGrowthDebuff)) then if ((aura_env.config[tostring(v23.WildMushroom)]==true) and aura_env.FlagKTrigCD) then v21("Wild Mushroom");elseif (aura_env.config[tostring(v23.WildMushroom)]~=true) then local v97=1559 -(1381 + 178) ;while true do if (v97==(0 -0)) then v20("Wild Mushroom");return true;end end end end if (v3(v23.Starfire) and (IsPlayerSpell(v23.LunarCallingTalent))) then local v78=0 + 0 ;while true do if (v78==(0 + 0)) then v20("Starfire");return true;end end end if v3(v23.Wrath) then v20("Wrath");return true;end end;if (v39>(1 + 0)) then local v59=0 + 0 ;while true do if ((0 + 0)==v59) then v50();return true;end end end if v51() then return true;end v20("Clear");end;