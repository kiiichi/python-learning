function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.ids;aura_env.OutOfRange=false;local v25={};local v26=WeakAuras.GetNumSetItemsEquipped(6404 -4710 );local v27=(v11(v23.EclipseSolarBuff) and v23.EclipseSolarBuff) or nil ;if (v27==nil) then v27=(v11(v23.EclipseLunarBuff) and v23.EclipseLunarBuff) or nil ;end local v28=UnitPower("player",Enum.PowerType.AstralPower);local v29=UnitPowerMax("player",Enum.PowerType.AstralPower);local v30,v30,v30,v30,v31=select(3 + 2 ,UnitCastingInfo("player"));local v32=false;local v33=false;if (v31~=nil) then if (v31==v23.Wrath) then local v74=0 -0 ;while true do if (v74==(19 -(10 + 8))) then if (C_Spell.GetSpellCastCount(v23.Wrath)==(3 -2)) then v32=true;end break;end if (v74==(442 -(416 + 26))) then v28=v28 + (19 -13) ;if (IsPlayerSpell(v23.WildSurgesTalent)) then v28=v28 + 1 + 1 ;end v74=1 -0 ;end end elseif (v31==v23.Starfire) then local v76=438 -(145 + 293) ;while true do if (v76==(431 -(44 + 386))) then if (C_Spell.GetSpellCastCount(v23.Starfire)==(1487 -(998 + 488))) then v33=true;end break;end if (v76==0) then v28=v28 + 7 + 3 ;if (IsPlayerSpell(v23.WildSurgesTalent)) then v28=v28 + 1 + 1 ;end v76=1;end end elseif (v31==v23.NewMoon) then v28=v28 + 9 + 1 ;elseif (v31==v23.HalfMoon) then v28=v28 + (792 -(201 + 571)) ;elseif (v31==v23.FullMoon) then v28=v28 + (1178 -(116 + 1022)) ;end end v23.CaInc=(IsPlayerSpell(v23.IncarnationTalent) and v23.Incarnation) or v23.CelestialAlignmentCooldown ;if IsPlayerSpell(v23.IncarnationTalent) then v23.CaIncBuff=(IsPlayerSpell(v23.OrbitalStrikeTalent) and v23.IncarnationOrbitalStrikeBuff) or v23.IncarnationBuff ;else v23.CaIncBuff=(IsPlayerSpell(v23.OrbitalStrikeTalent) and v23.CelestialAlignmentOrbitalStrikeBuff) or v23.CelestialAlignmentBuff ;end local v35=((v7(v23.CelestialAlignmentCooldown)==(0 + 0)) and aura_env.config[tostring(v23.CelestialAlignment)] and  not IsPlayerSpell(v23.Incarnation)) or ((v7(v23.Incarnation)==(0 -0)) and aura_env.config[tostring(v23.Incarnation)] and IsPlayerSpell(v23.Incarnation)) ;local v36=(C_Spell.GetSpellCharges(v23.NewMoon).currentCharges>2) or ((C_Spell.GetSpellCharges(v23.NewMoon).currentCharges==(1 + 0)) and  not v8(v23.NewMoon) and  not v8(v23.HalfMoon) and  not v8(v23.FullMoon)) ;local v37=v11(v23.EclipseLunarBuff) or v32 or v11(v23.EclipseSolarBuff) or v33 ;local v38=45;local v39=0 -0 ;local v40=0 -0 ;for v52=860 -(814 + 45) ,98 -58  do local v53=0 + 0 ;local v54;while true do if (v53==(0 + 0)) then v54="nameplate"   .. v52 ;if (UnitExists(v54) and  not UnitIsFriend("player",v54) and WeakAuras.CheckRange(v54,v38,"<=") and (UnitAffectingCombat(v54) or aura_env.config['BypassCombatRequirement'])) then v39=v39 + (886 -(261 + 624)) ;if WA_GetUnitDebuff(v54,v23.MoonfireDebuff,"PLAYER") then v40=v40 + (1 -0) ;end end break;end end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v39);if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then local v75=1080 -(1020 + 60) ;while true do if (v75==(1424 -(630 + 793))) then v21("Clear",nil);return;end if (v75==(0 -0)) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v20("Clear",nil);v75=4 -3 ;end end end end v25.PassiveAsp=((3 + 3)/((3 -2) -(UnitSpellHaste("player")/100))) + ((IsPlayerSpell(v23.NaturesBalanceTalent) and (4 -3)) or (1747 -(760 + 987))) + (((IsPlayerSpell(v23.OrbitBreakerTalent) and (1914 -(1789 + 124))) or (766 -(745 + 21))) * ((v12(v23.MoonfireDebuff) and (1 + 0)) or 0) * (((aura_env.OrbitBreakerBuffStacks>((50 -23) -((2 + 0) * ((v11(v23.SolsticeBuff) and (2 -1)) or (0 -0))))) and (1 + 0)) or (0 + 0)) * (14 + 10)) ;v25.ConvokeCondition=(v18(1115 -(87 + 968) ,v38)<(22 -17)) or ((v11(v23.CaIncBuff) or (v7(v23.CaInc)>(111 -71))) and ( not IsPlayerSpell(v23.DreamSurgeTalent) or v11(v23.HarmonyOfTheGroveBuff) or (v7(v23.ForceOfNature)>(33 -18)))) ;v25.EclipseRemains=max(v5("player",v23.EclipseLunarBuff),v5("player",v23.EclipseSolarBuff));v25.EnterLunar=IsPlayerSpell(v23.LunarCallingTalent) or (v39>((3 + 0) -(((IsPlayerSpell(v23.UmbralEmbraceTalent) or IsPlayerSpell(v23.SoulOfTheForestTalent)) and 1) or (0 -0)))) ;v25.BoatStacks=v9(v23.BalanceOfAllThingsArcaneBuff) + v9(v23.BalanceOfAllThingsNatureBuff) ;v25.CaEffectiveCd=max(v7(v23.CaInc),v7(v23.ForceOfNature));v25.PreCdCondition=( not IsPlayerSpell(v23.WhirlingStarsTalent) or  not IsPlayerSpell(v23.ConvokeTheSpirits) or (v7(v23.ConvokeTheSpirits)<(max((754.5 -(239 + 514))/((1414 -(447 + 966)) + ((0.01 -0) * UnitSpellHaste("player"))) ,1817.75 -(1703 + 114) ) * (703 -(376 + 325)))) or (v18(98 -38 ,v38)<(v7(v23.ConvokeTheSpirits) + (8 -5))) or (v7(v23.ConvokeTheSpirits)>(v16(v23.CaInc) + ((5 + 10) * ((IsPlayerSpell(v23.ControlOfTheDreamTalent) and (1203 -(373 + 829))) or (0 -0)))))) and (v7(v23.CaInc)<max((15.5 -(9 + 5))/((1131 -(369 + 761)) + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75)) and  not v11(v23.CaIncBuff) ;v25.CdCondition=v25.PreCdCondition and ((v18(108 -48 ,v38)<(((391 -(85 + 291)) + ((1270 -(243 + 1022)) * ((IsPlayerSpell(v23.IncarnationTalent) and (1 -0)) or (0 -0)))) * ((1 + 0) -(((IsPlayerSpell(v23.WhirlingStarsTalent) and (1 + 0)) or 0) * (1180.2 -(1123 + 57)))))) or ((v17(0 + 0 ,396 -(144 + 192) )>(264 -(163 + 91))) and ( not IsPlayerSpell(v23.DreamSurgeTalent) or v11(v23.HarmonyOfTheGroveBuff)))) ;local v49={};if (v3(v23.WarriorOfElune) and (v39<=(217 -(42 + 174))) and (IsPlayerSpell(v23.LunarCallingTalent) or ( not IsPlayerSpell(v23.LunarCallingTalent) and (v25.EclipseRemains<=(1937 -(1869 + 61))))) and  not v11(v23.DreamstateBuff) and UnitAffectingCombat("player")) then v49.WarriorOfElune=true;end if (v3(v23.WarriorOfElune) and (v39>1) and (( not IsPlayerSpell(v23.LunarCallingTalent) and (v5("player",v23.EclipseSolarBuff)<(6 + 1))) or (IsPlayerSpell(v23.LunarCallingTalent) and  not v11(v23.DreamstateBuff) and UnitAffectingCombat("player")))) then v49.WarriorOfElune=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v49,nil);local v50=function() if (v3(v23.Wrath) and v25.EnterLunar and v37 and (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Wrath).castTime/(425 + 575))) and  not v32) then local v60=0;while true do if (v60==(0 + 0)) then v20("Wrath");return true;end end end if (v3(v23.Starfire) and  not v25.EnterLunar and v37 and (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Starfire).castTime/1000)) and  not v33) then local v61=0 -0 ;while true do if (v61==(0 -0)) then v20("Starfire");return true;end end end if (v3(v23.Starfall) and ((v29-v28)<=(v25.PassiveAsp + (18 -12)))) then if ((aura_env.config[tostring(v23.Starfall)]==true) and aura_env.FlagKTrigCD) then v21("Starfall");elseif (aura_env.config[tostring(v23.Starfall)]~=true) then local v77=0 + 0 ;while true do if (v77==(0 + 0)) then v20("Starfall");return true;end end end end if (v3(v23.Moonfire) and ((v19(v23.MoonfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.MoonfireDebuff)<(7.6 -1))) and ((v17(0 + 0 ,1534 -(1329 + 145) ) -v6("target",v23.MoonfireDebuff))>(977 -(140 + 831))) and ( not IsPlayerSpell(v23.TreantsOfTheMoonTalent) or ((v39-v40)>6) or ((v7(v23.ForceOfNature)>(1853 -(1409 + 441))) and  not v11(v23.HarmonyOfTheGroveBuff))) and (select(2,GetInstanceInfo())~="raid")) then v20("Moonfire");return true;end if (v3(v23.Sunfire) and ((v19(v23.SunfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.SunfireDebuff)<5.4)) and ((v17(718 -(15 + 703) ,28 + 32 ) -v6("target",v23.SunfireDebuff))>((444 -(262 + 176)) -(v39/(2 -0))))) then local v62=1721 -(345 + 1376) ;while true do if ((688 -(198 + 490))==v62) then v20("Sunfire");return true;end end end if (v3(v23.Moonfire) and ((v19(v23.MoonfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.MoonfireDebuff)<(862.6 -(564 + 292)))) and ((v17(0 -0 ,265 -205 ) -v6("target",v23.MoonfireDebuff))>(14 -8)) and ( not IsPlayerSpell(v23.TreantsOfTheMoonTalent) or ((v39-v40)>(1212 -(696 + 510))) or ((v7(v23.ForceOfNature)>(5 -2)) and  not v11(v23.HarmonyOfTheGroveBuff))) and ( not select(1264 -(1091 + 171) ,GetInstanceInfo())~="raid")) then local v63=0 + 0 ;while true do if (v63==(0 -0)) then v20("Moonfire");return true;end end end if (v3(v23.Wrath) and v25.EnterLunar and ( not v37 or (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Wrath).castTime/(1476 -(41 + 435))))) and  not v32 and  not v25.PreCdCondition) then v20("Wrath");return true;end if (v3(v23.Starfire) and  not v25.EnterLunar and ( not v37 or (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Starfire).castTime/(3316 -2316)))) and  not v33) then v20("Starfire");return true;end if (v3(v23.StellarFlare) and v19(v23.StellarFlare) and ((v17(1001 -(938 + 63) ,434 -(123 + 251) ) -v6("target",v23.StellarFlare))>(6 + 1 + v39)) and (v39<((((54 -43) -((IsPlayerSpell(v23.UmbralIntensityTalent) and (699 -(208 + 490))) or (0 + 0))) -((1615 -(1565 + 48)) * ((IsPlayerSpell(v23.AstralSmolderTalent) and (1 + 0)) or (836 -(660 + 176))))) -((IsPlayerSpell(v23.LunarCallingTalent) and (1 + 0)) or (202 -(14 + 188)))))) then if ((aura_env.config[tostring(v23.StellarFlare)]==true) and aura_env.FlagKTrigCD) then v21("Stellar Flare");elseif (aura_env.config[tostring(v23.StellarFlare)]~=true) then v20("Stellar Flare");return true;end end if (v3(v23.ForceOfNature) and (v25.PreCdCondition or (((v16(v23.CaInc) + (1143 -(782 + 356)) + ((690 -(534 + 141)) * ((IsPlayerSpell(v23.ControlOfTheDreamTalent) and (1 + 0)) or 0)))>(GetSpellBaseCooldown(v23.ForceOfNature)/(885 + 115))) and ( not IsPlayerSpell(v23.ConvokeTheSpirits) or ((v7(v23.ConvokeTheSpirits) + 10 + 0 + ((31 -16) * ((IsPlayerSpell(v23.ControlOfTheDreamTalent) and (1 -0)) or (0 + 0))))>(GetSpellBaseCooldown(v23.ForceOfNature)/1000)) or (v18(212 -152 ,v38)<(v7(v23.ConvokeTheSpirits) + C_Spell.GetSpellCooldown(v23.ConvokeTheSpirits).duration + (14 -9)))) and ((v18(33 + 27 ,v38)>((GetSpellBaseCooldown(v23.ForceOfNature)/(2724 -1724)) + 5)) or (v18(39 + 21 ,v38)<(v7(v23.CaInc) + (403 -(115 + 281)))))) or (IsPlayerSpell(v23.WhirlingStarsTalent) and IsPlayerSpell(v23.ConvokeTheSpirits) and (v7(v23.ConvokeTheSpirits)>(C_Spell.GetSpellCooldown(v23.ForceOfNature).duration-(23 -13))) and (v18(112 -52 ,v38)>(v7(v23.ConvokeTheSpirits) + 5 + 1))))) then if ((aura_env.config[tostring(v23.ForceOfNature)]==true) and aura_env.FlagKTrigCD) then v21("Force Of Nature");elseif (aura_env.config[tostring(v23.ForceOfNature)]~=true) then local v78=0 -0 ;while true do if ((0 -0)==v78) then v20("Force Of Nature");return true;end end end end if (v3(v23.FuryOfElune) and v37) then if ((aura_env.config[tostring(v23.FuryOfElune)]==true) and aura_env.FlagKTrigCD) then v21("Fury Of Elune");elseif (aura_env.config[tostring(v23.FuryOfElune)]~=true) then v20("Fury Of Elune");return true;end end if (v3(v23.FuryOfElune) and v25.CdCondition) then if ((aura_env.config[tostring(v23.FuryOfElune)]==true) and aura_env.FlagKTrigCD) then v21("Fury Of Elune");elseif (aura_env.config[tostring(v23.FuryOfElune)]~=true) then local v79=1227 -(322 + 905) ;while true do if ((0 -0)==v79) then v20("Fury Of Elune");return true;end end end end if ((v7(v23.CelestialAlignmentCooldown)==(867 -(550 + 317))) and aura_env.config[tostring(v23.CelestialAlignment)] and  not IsPlayerSpell(v23.Incarnation) and v25.CdCondition) then if ((aura_env.config[tostring(v23.CelestialAlignment)]==true) and aura_env.FlagKTrigCD) then v21("Celestial Alignment");elseif (aura_env.config[tostring(v23.CelestialAlignment)]~=true) then local v80=0 -0 ;while true do if (v80==(0 -0)) then v20("Celestial Alignment");return true;end end end end if ((v7(v23.Incarnation)==(0 -0)) and aura_env.config[tostring(v23.Incarnation)] and IsPlayerSpell(v23.Incarnation) and v25.CdCondition) then if ((aura_env.config[tostring(v23.Incarnation)]==true) and aura_env.FlagKTrigCD) then v21("Incarnation");elseif (aura_env.config[tostring(v23.Incarnation)]~=true) then v20("Incarnation");return true;end end if (v3(v23.Starfire) and  not IsPlayerSpell(v23.LunarCallingTalent) and (v39<=(948 -(245 + 702))) and (((v11(v23.EclipseSolarBuff) or v33) and (v5("player",v23.EclipseSolarBuff)<(C_Spell.GetSpellInfo(v23.Starfire).castTime/(1285 -(134 + 151))))) or (v27==nil))) then v20("Starfire");return true;end if (v3(v23.Starfall) and (v11(v23.StarweaversWarpBuff) or v11(v23.TouchTheCosmosBuff))) then if ((aura_env.config[tostring(v23.Starfall)]==true) and aura_env.FlagKTrigCD) then v21("Starfall");elseif (aura_env.config[tostring(v23.Starfall)]~=true) then v20("Starfall");return true;end end if (v3(v23.Starsurge) and (v11(v23.StarweaversWeftBuff))) then v20("Starsurge");return true;end if v3(v23.Starfall) then if ((aura_env.config[tostring(v23.Starfall)]==true) and aura_env.FlagKTrigCD) then v21("Starfall");elseif (aura_env.config[tostring(v23.Starfall)]~=true) then v20("Starfall");return true;end end if (v3(v23.ConvokeTheSpirits) and (( not v11(v23.DreamstateBuff) and  not v11(v23.UmbralEmbraceBuff) and (v39<7)) or (v39<=(1666 -(970 + 695)))) and ((v18(114 -54 ,v38)<(1995 -(582 + 1408))) or ((v11(v23.CaIncBuff) or (v7(v23.CaInc)>(138 -98))) and ( not IsPlayerSpell(v23.DreamSurgeTalent) or v11(v23.HarmonyOfTheGroveBuff) or (v7(v23.ForceOfNature)>(18 -3)))))) then if ((aura_env.config[tostring(v23.ConvokeTheSpirits)]==true) and aura_env.FlagKTrigCD) then v21("Convoke The Spirits");elseif (aura_env.config[tostring(v23.ConvokeTheSpirits)]~=true) then local v81=1898 -(260 + 1638) ;while true do if (v81==(0 -0)) then v20("Convoke The Spirits");return true;end end end end if (v3(v23.NewMoon) and v36 and ((FindSpellOverrideByID(v23.NewMoon)==v23.NewMoon) or v8(v23.FullMoon))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("New Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then v20("New Moon");return true;end end if (v3(v23.NewMoon) and v36 and ((FindSpellOverrideByID(v23.NewMoon)==v23.HalfMoon) or v8(v23.NewMoon))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("Half Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then v20("Half Moon");return true;end end if (v3(v23.NewMoon) and v36 and ((FindSpellOverrideByID(v23.NewMoon)==v23.FullMoon) or v8(v23.HalfMoon))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("Full Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then v20("Full Moon");return true;end end if (v3(v23.WildMushroom) and (aura_env.PrevCast~=v23.WildMushroom) and  not v8(v23.WildMushroom) and  not v12(v23.FungalGrowthDebuff)) then if ((aura_env.config[tostring(v23.WildMushroom)]==true) and aura_env.FlagKTrigCD) then v21("Wild Mushroom");elseif (aura_env.config[tostring(v23.WildMushroom)]~=true) then v20("Wild Mushroom");return true;end end if (v3(v23.ForceOfNature) and  not IsPlayerSpell(v23.DreamSurgeTalent)) then if ((aura_env.config[tostring(v23.ForceOfNature)]==true) and aura_env.FlagKTrigCD) then v21("Force Of Nature");elseif (aura_env.config[tostring(v23.ForceOfNature)]~=true) then v20("Force Of Nature");return true;end end if (v3(v23.Starfire) and (IsPlayerSpell(v23.LunarCallingTalent) or ((v11(v23.EclipseLunarBuff) or v32) and (v39>((9 -6) -(((IsPlayerSpell(v23.UmbralEmbraceTalent) or IsPlayerSpell(v23.SoulOfTheForestTalent)) and (1825 -(1195 + 629))) or (0 -0))))))) then local v64=241 -(187 + 54) ;while true do if (v64==(780 -(162 + 618))) then v20("Starfire");return true;end end end if v3(v23.Wrath) then v20("Wrath");return true;end end;local v51=function() if (v3(v23.Wrath) and v25.EnterLunar and v37 and (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Wrath).castTime/(701 + 299))) and  not v32 and  not v25.CdCondition) then v20("Wrath");return true;end if (v3(v23.Starfire) and  not v25.EnterLunar and v37 and (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Starfire).castTime/(2066 -1066))) and  not v33 and  not v25.CdCondition) then v20("Starfire");return true;end if (v3(v23.Sunfire) and ((v6("target",v23.SunfireDebuff)<(8 -5)) or (((v19(v23.SunfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.SunfireDebuff)<5.4)) and ((IsPlayerSpell(v23.DreamSurgeTalent) and v3(v23.ForceOfNature)) or (IsPlayerSpell(v23.BoundlessMoonlightTalent) and v25.CdCondition))))) then local v65=0 + 0 ;while true do if (v65==(0 -0)) then v20("Sunfire");return true;end end end if (v3(v23.Moonfire) and (v6("target",v23.MoonfireDebuff)<(6 -3)) and ( not IsPlayerSpell(v23.TreantsOfTheMoonTalent) or ((v7(v23.ForceOfNature)>(4 -1)) and  not v11(v23.HarmonyOfTheGroveBuff)))) then v20("Moonfire");return true;end if ((v7(v23.CelestialAlignmentCooldown)==(0 + 0)) and aura_env.config[tostring(v23.CelestialAlignment)] and  not IsPlayerSpell(v23.Incarnation) and v25.CdCondition) then if ((aura_env.config[tostring(v23.CelestialAlignment)]==true) and aura_env.FlagKTrigCD) then v21("Celestial Alignment");elseif (aura_env.config[tostring(v23.CelestialAlignment)]~=true) then local v82=1636 -(1373 + 263) ;while true do if (v82==(1000 -(451 + 549))) then v20("Celestial Alignment");return true;end end end end if ((v7(v23.Incarnation)==(683 -(483 + 200))) and aura_env.config[tostring(v23.Incarnation)] and IsPlayerSpell(v23.Incarnation) and v25.CdCondition) then if ((aura_env.config[tostring(v23.Incarnation)]==true) and aura_env.FlagKTrigCD) then v21("Incarnation");elseif (aura_env.config[tostring(v23.Incarnation)]~=true) then local v83=0 + 0 ;while true do if (v83==(0 -0)) then v20("Incarnation");return true;end end end end if (v3(v23.Wrath) and v25.EnterLunar and ( not v37 or ((v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Wrath).castTime/(1680 -680))) and  not v32))) then v20("Wrath");return true;end if (v3(v23.Starfire) and  not v25.EnterLunar and ( not v37 or ((v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Starfire).castTime/(2384 -(746 + 638)))) and  not v33))) then local v66=0 -0 ;while true do if (v66==0) then v20("Starfire");return true;end end end if (v3(v23.Starsurge) and v25.CdCondition and ((v29-v28)>(v25.PassiveAsp + 8 + 12))) then local v67=0 -0 ;while true do if (v67==(341 -(218 + 123))) then v20("Starsurge");return true;end end end if (v3(v23.ForceOfNature) and (v25.PreCdCondition or (((v16(v23.CaInc) + 5 + ((34 -19) * ((IsPlayerSpell(v23.ControlOfTheDreamTalent) and (1582 -(1535 + 46))) or 0)))>(GetSpellBaseCooldown(v23.ForceOfNature)/(994 + 6))) and ( not IsPlayerSpell(v23.ConvokeTheSpirits) or ((v7(v23.ConvokeTheSpirits) + 2 + 8 + ((575 -(306 + 254)) * ((IsPlayerSpell(v23.ControlOfTheDreamTalent) and (1 + 0)) or (0 -0))))>(GetSpellBaseCooldown(v23.ForceOfNature)/(2467 -(899 + 568)))) or (v18(40 + 20 ,v38)<(v7(v23.ConvokeTheSpirits) + C_Spell.GetSpellCooldown(v23.ConvokeTheSpirits).duration + (12 -7)))) and ((v18(43 + 17 ,v38)>((GetSpellBaseCooldown(v23.ForceOfNature)/(1603 -(268 + 335))) + (295 -(60 + 230)))) or (v18(84 -24 ,v38)<(v7(v23.CaInc) + (579 -(426 + 146)))))) or (IsPlayerSpell(v23.WhirlingStarsTalent) and IsPlayerSpell(v23.ConvokeTheSpirits) and (v7(v23.ConvokeTheSpirits)>(C_Spell.GetSpellCooldown(v23.ForceOfNature).duration-(2 + 8))) and (v18(30 + 30 ,v38)>(v7(v23.ConvokeTheSpirits) + (1462 -(282 + 1174))))))) then if ((aura_env.config[tostring(v23.ForceOfNature)]==true) and aura_env.FlagKTrigCD) then v21("Force Of Nature");elseif (aura_env.config[tostring(v23.ForceOfNature)]~=true) then local v84=811 -(569 + 242) ;while true do if (v84==(0 -0)) then v20("Force Of Nature");return true;end end end end if (v3(v23.FuryOfElune) and ((1 + 4 + v25.PassiveAsp)<(v29-v28))) then if ((aura_env.config[tostring(v23.FuryOfElune)]==true) and aura_env.FlagKTrigCD) then v21("Fury Of Elune");elseif (aura_env.config[tostring(v23.FuryOfElune)]~=true) then local v85=1024 -(706 + 318) ;while true do if (v85==(0 -0)) then v20("Fury Of Elune");return true;end end end end if (v3(v23.Starfall) and (v11(v23.StarweaversWarpBuff))) then if ((aura_env.config[tostring(v23.Starfall)]==true) and aura_env.FlagKTrigCD) then v21("Starfall");elseif (aura_env.config[tostring(v23.Starfall)]~=true) then v20("Starfall");return true;end end if (v3(v23.Starsurge) and IsPlayerSpell(v23.StarlordTalent) and (v9(v23.StarlordBuff)<(1254 -(721 + 530)))) then local v68=0;while true do if (v68==(1271 -(945 + 326))) then v20("Starsurge");return true;end end end if (v3(v23.Sunfire) and ((v19(v23.SunfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.SunfireDebuff)<(12.4 -7)))) then v20("Sunfire");return true;end if (v3(v23.Moonfire) and ((v19(v23.MoonfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.MoonfireDebuff)<(6.6 + 0))) and ( not IsPlayerSpell(v23.TreantsOfTheMoonTalent) or ((v7(v23.ForceOfNature)>(703 -(271 + 429))) and  not v11(v23.HarmonyOfTheGroveBuff)))) then local v69=0 -0 ;while true do if (v69==0) then v20("Moonfire");return true;end end end if (v3(v23.Starsurge) and (v7(v23.ConvokeTheSpirits)<(max((1.5 + 0)/((1501 -(1408 + 92)) + (0.01 * UnitSpellHaste("player"))) ,1790.75 -(573 + 1217) ) * (1088 -(461 + 625)))) and v25.ConvokeCondition and ((v29-v28)<(1338 -(993 + 295)))) then v20("Starsurge");return true;end if (v3(v23.ConvokeTheSpirits) and v25.ConvokeCondition) then if ((aura_env.config[tostring(v23.ConvokeTheSpirits)]==true) and aura_env.FlagKTrigCD) then v21("Convoke The Spirits");elseif (aura_env.config[tostring(v23.ConvokeTheSpirits)]~=true) then v20("Convoke The Spirits");return true;end end if (v3(v23.StellarFlare) and v19(v23.StellarFlare) and ((v17(0 + 0 ,1231 -(418 + 753) ) -v6("target",v23.StellarFlare))>(3 + 4 + v39))) then if ((aura_env.config[tostring(v23.StellarFlare)]==true) and aura_env.FlagKTrigCD) then v21("Stellar Flare");elseif (aura_env.config[tostring(v23.StellarFlare)]~=true) then local v86=0 + 0 ;while true do if (v86==(939 -(714 + 225))) then v20("Stellar Flare");return true;end end end end if (v3(v23.Starsurge) and (((v5("player",v23.StarlordBuff)>(2 + 2)) and (v25.BoatStacks>=3)) or (v18(60,v38)<(2 + 2)))) then local v70=529 -(406 + 123) ;while true do if (v70==0) then v20("Starsurge");return true;end end end if (v3(v23.NewMoon) and v36 and ((FindSpellOverrideByID(v23.NewMoon)==v23.NewMoon) or v8(v23.FullMoon)) and (((v29-v28)>(v25.PassiveAsp + (1779 -(1749 + 20)))) or (v18(15 + 45 ,v38)<(1342 -(1249 + 73))) or (v7(v23.CaInc)>15))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("New Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then v20("New Moon");return true;end end if (v3(v23.NewMoon) and v36 and ((FindSpellOverrideByID(v23.NewMoon)==v23.HalfMoon) or v8(v23.NewMoon)) and ((((v29-v28)>(v25.PassiveAsp + 8 + 12)) and ((v5("player",v23.EclipseLunarBuff)>max(C_Spell.GetSpellInfo(v23.HalfMoon).castTime/(2145 -(466 + 679)) ,WeakAuras.gcdDuration())) or (v5("player",v23.EclipseSolarBuff)>max(C_Spell.GetSpellInfo(v23.HalfMoon).castTime/(3370 -2370) ,WeakAuras.gcdDuration())))) or (v18(144 -84 ,v38)<20) or (v7(v23.CaInc)>(42 -27)))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("Half Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then local v87=1900 -(106 + 1794) ;while true do if ((0 + 0)==v87) then v20("Half Moon");return true;end end end end if (v3(v23.NewMoon) and v36 and ((FindSpellOverrideByID(v23.NewMoon)==v23.FullMoon) or v8(v23.HalfMoon)) and ((((v29-v28)>(v25.PassiveAsp + 11 + 29)) and ((v5("player",v23.EclipseLunarBuff)>max(C_Spell.GetSpellInfo(v23.FullMoon).castTime/(2952 -1952) ,WeakAuras.gcdDuration())) or (v5("player",v23.EclipseSolarBuff)>max(C_Spell.GetSpellInfo(v23.FullMoon).castTime/(2707 -1707) ,WeakAuras.gcdDuration())))) or (v18(174 -(4 + 110) ,v38)<20) or (v7(v23.CaInc)>(599 -(57 + 527))))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("Full Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then v20("Full Moon");return true;end end if (v3(v23.Starsurge) and (v11(v23.StarweaversWeftBuff) or v11(v23.TouchTheCosmosBuff))) then local v71=1427 -(41 + 1386) ;while true do if ((103 -(17 + 86))==v71) then v20("Starsurge");return true;end end end if (v3(v23.Starsurge) and ((v29-v28)<(v25.PassiveAsp + 5 + 1 + ((10 + v25.PassiveAsp) * (((v5("player",v23.EclipseSolarBuff)<(max((1.5 -0)/((2 -1) + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75 -0 ) * (169 -(122 + 44)))) and (1797 -(503 + 1293))) or (0 -0)))))) then v20("Starsurge");return true;end if (v3(v23.WildMushroom) and (aura_env.PrevCast~=v23.WildMushroom) and  not v8(v23.WildMushroom) and  not v12(v23.FungalGrowthDebuff)) then if ((aura_env.config[tostring(v23.WildMushroom)]==true) and aura_env.FlagKTrigCD) then v21("Wild Mushroom");elseif (aura_env.config[tostring(v23.WildMushroom)]~=true) then local v88=0 -0 ;while true do if (v88==0) then v20("Wild Mushroom");return true;end end end end if (v3(v23.Starfire) and (IsPlayerSpell(v23.LunarCallingTalent))) then local v72=0 + 0 ;while true do if (v72==(0 + 0)) then v20("Starfire");return true;end end end if v3(v23.Wrath) then local v73=0 -0 ;while true do if (v73==(65 -(30 + 35))) then v20("Wrath");return true;end end end end;if (v39>(1 + 0)) then local v59=0 + 0 ;while true do if ((1257 -(1043 + 214))==v59) then v50();return true;end end end if v51() then return true;end v20("Clear");end;