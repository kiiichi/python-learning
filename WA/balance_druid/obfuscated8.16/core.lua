function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.ids;aura_env.OutOfRange=false;local v25={};local v26=WeakAuras.GetNumSetItemsEquipped(2687 -(745 + 21) );local v27=WeakAuras.GetNumSetItemsEquipped(583 + 1111 );local v28=(v11(v23.EclipseSolarBuff) and v23.EclipseSolarBuff) or nil ;if (v28==nil) then v28=(v11(v23.EclipseLunarBuff) and v23.EclipseLunarBuff) or nil ;end local v29=UnitPower("player",Enum.PowerType.AstralPower);local v30=UnitPowerMax("player",Enum.PowerType.AstralPower);local v31,v31,v31,v31,v32=select(13 -8 ,UnitCastingInfo("player"));local v33=false;local v34=false;if (v32~=nil) then if (v32==v23.Wrath) then local v98=0;while true do if (v98==1) then if (C_Spell.GetSpellCastCount(v23.Wrath)==(3 -2)) then v33=true;end break;end if (v98==0) then v29=v29 + 1 + 5 ;if (IsPlayerSpell(v23.WildSurgesTalent)) then v29=v29 + 2 ;end v98=1 + 0 ;end end elseif (v32==v23.Starfire) then local v99=1055 -(87 + 968) ;while true do if (v99==0) then v29=v29 + (44 -34) ;if (IsPlayerSpell(v23.WildSurgesTalent)) then v29=v29 + 2 + 0 ;end v99=2 -1 ;end if (v99==(1414 -(447 + 966))) then if (C_Spell.GetSpellCastCount(v23.Starfire)==(2 -1)) then v34=true;end break;end end elseif (v32==v23.NewMoon) then v29=v29 + (1827 -(1703 + 114)) ;elseif (v32==v23.HalfMoon) then v29=v29 + (721 -(376 + 325)) ;elseif (v32==v23.FullMoon) then v29=v29 + 40 ;end end v23.CaInc=(IsPlayerSpell(v23.IncarnationTalent) and v23.Incarnation) or v23.CelestialAlignmentCooldown ;if IsPlayerSpell(v23.IncarnationTalent) then v23.CaIncBuff=(IsPlayerSpell(v23.OrbitalStrikeTalent) and v23.IncarnationOrbitalStrikeBuff) or v23.IncarnationBuff ;else v23.CaIncBuff=(IsPlayerSpell(v23.OrbitalStrikeTalent) and v23.CelestialAlignmentOrbitalStrikeBuff) or v23.CelestialAlignmentBuff ;end local v36=((v7(v23.CelestialAlignmentCooldown)==0) and aura_env.config[tostring(v23.CelestialAlignment)] and  not IsPlayerSpell(v23.Incarnation)) or ((v7(v23.Incarnation)==0) and aura_env.config[tostring(v23.Incarnation)] and IsPlayerSpell(v23.Incarnation)) ;local v37=(C_Spell.GetSpellCharges(v23.NewMoon).currentCharges>(2 -0)) or ((C_Spell.GetSpellCharges(v23.NewMoon).currentCharges==1) and  not v8(v23.NewMoon) and  not v8(v23.HalfMoon) and  not v8(v23.FullMoon)) ;local v38=v11(v23.EclipseLunarBuff) or v33 or v11(v23.EclipseSolarBuff) or v34 ;local v39=138 -93 ;local v40=0 + 0 ;local v41=0 -0 ;for v59=15 -(9 + 5) ,40 do local v60=376 -(85 + 291) ;local v61;while true do if (v60==(1265 -(243 + 1022))) then v61="nameplate"   .. v59 ;if (UnitExists(v61) and  not UnitIsFriend("player",v61) and WeakAuras.CheckRange(v61,v39,"<=") and (UnitAffectingCombat(v61) or aura_env.config['BypassCombatRequirement'])) then v40=v40 + (3 -2) ;if WA_GetUnitDebuff(v61,v23.MoonfireDebuff,"PLAYER") then v41=v41 + 1 ;end end break;end end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v40);if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v20("Clear",nil);v21("Clear",nil);return;end end v25.PassiveAsp=(6/((1 + 0) -(UnitSpellHaste("player")/(1280 -(1123 + 57))))) + ((IsPlayerSpell(v23.NaturesBalanceTalent) and (1 + 0)) or (254 -(163 + 91))) + (((IsPlayerSpell(v23.BounteousBloomTalent) and ((v2-aura_env.LastForceOfNature)<(1940 -(1869 + 61))) and (1 + 0)) or (0 -0)) * 15) + (((IsPlayerSpell(v23.OrbitBreakerTalent) and (1 -0)) or (0 + 0)) * ((v12(v23.MoonfireDebuff) and (1 -0)) or (0 + 0)) * (((aura_env.OrbitBreakerBuffStacks>((1501 -(1329 + 145)) -((973 -(140 + 831)) * ((v11(v23.SolsticeBuff) and 1) or (1850 -(1409 + 441)))))) and (719 -(15 + 703))) or 0) * (12 + 12)) ;v25.ConvokeCondition=(v18(498 -(262 + 176) ,v39)<(1726 -(345 + 1376))) or ((v11(v23.CaIncBuff) or (v7(v23.CaInc)>(728 -(198 + 490)))) and ( not IsPlayerSpell(v23.DreamSurgeTalent) or v11(v23.HarmonyOfTheGroveBuff) or (v7(v23.ForceOfNature)>(66 -51)))) ;v25.EclipseRemains=max(v5("player",v23.EclipseLunarBuff),v5("player",v23.EclipseSolarBuff));v25.EnterLunar=IsPlayerSpell(v23.LunarCallingTalent) or (v40>((6 -3) -(((IsPlayerSpell(v23.UmbralEmbraceTalent) or IsPlayerSpell(v23.SoulOfTheForestTalent)) and (1207 -(696 + 510))) or (0 -0)))) ;v25.BoatStacks=v9(v23.BalanceOfAllThingsArcaneBuff) + v9(v23.BalanceOfAllThingsNatureBuff) ;v25.CaEffectiveCd=max(v7(v23.CaInc),v7(v23.ForceOfNature));v25.PreCdCondition=( not IsPlayerSpell(v23.WhirlingStarsTalent) or  not IsPlayerSpell(v23.ConvokeTheSpirits) or (v7(v23.ConvokeTheSpirits)<(max((1263.5 -(1091 + 171))/(1 + 0 + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75 -0 ) * (376 -(123 + 251)))) or (v18(60,v39)<(v7(v23.ConvokeTheSpirits) + (14 -11))) or (v7(v23.ConvokeTheSpirits)>(v16(v23.CaInc) + (15 * ((IsPlayerSpell(v23.ControlOfTheDreamTalent) and (699 -(208 + 490))) or 0))))) and (v7(v23.CaInc)<max(1.5/(1 + 0 + (0.01 * UnitSpellHaste("player"))) ,0.75 + 0 )) and  not v11(v23.CaIncBuff) ;v25.CdCondition=v25.PreCdCondition and ((v18(896 -(660 + 176) ,v39)<((15 + (5 * ((IsPlayerSpell(v23.IncarnationTalent) and (1 + 0)) or (202 -(14 + 188))))) * ((676 -(534 + 141)) -(((IsPlayerSpell(v23.WhirlingStarsTalent) and (1 + 0)) or (0 + 0)) * 0.2)))) or ((v17(0 + 0 ,126 -66 )>(15 -5)) and ( not IsPlayerSpell(v23.DreamSurgeTalent) or v11(v23.HarmonyOfTheGroveBuff)))) ;v25.Tww3Keeper4Pc=IsPlayerSpell(v23.DreamSurgeTalent) and (v26>4) ;v25.KotgCaCondition=(v25.Tww3Keeper4Pc and ((v30-v29)<=50) and (v7(v23.ForceOfNature)<(max(1.5/((2 -1) + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75) * (3 + 1))) and ((v16(v23.CaInc)<10) or ( not v11(v23.CaIncBuff) and ((v7(v23.ConvokeTheSpirits)<(max((397.5 -(115 + 281))/((2 -1) + (0.01 * UnitSpellHaste("player"))) ,0.75 + 0 ) * (9 -5))) or  not IsPlayerSpell(v23.ConvokeTheSpirits))))) or (v11(v23.HarmonyOfTheGroveBuff) and (((v5("player",v23.DryadBuff)<(max((3.5 -2)/(1 + ((867.01 -(550 + 317)) * UnitSpellHaste("player"))) ,0.75 -0 ) * (2 -0))) and v11(v23.DryadBuff)) or v11(v23.DryadsFavorBuff))) or (v18(167 -107 ,v39)<(301 -(134 + 151))) ;v25.KotgIncCondition=v25.Tww3Keeper4Pc and ((v30-v29)<=(1715 -(970 + 695))) and (v7(v23.ForceOfNature)<(max(1.5/(1 + ((0.01 -0) * UnitSpellHaste("player"))) ,1990.75 -(582 + 1408) ) * (6 -4))) and (v18(60,v39)<min(v16(v23.CaInc),v7(v23.ForceOfNature))) ;v25.PoolForCd=(v29<(36 * (3 -0))) and (v3(v23.ConvokeTheSpirits) or ( not IsPlayerSpell(v23.ConvokeTheSpirits) and  not v11(v23.CaIncBuff))) ;v25.PoolInCa=v11(v23.DryadBuff) and (((v29-C_Spell.GetSpellPowerCost(v23.Starsurge)[3 -2 ].cost) + ((max(1824 -(1195 + 629) ,v5("player",v23.DryadBuff) -max((1.5 -0)/((242 -(187 + 54)) + ((780.01 -(162 + 618)) * UnitSpellHaste("player"))) ,0.75 + 0 ) )) * ((6 + 2)/max(C_Spell.GetSpellInfo(v23.Wrath).castTime/1000 ,WeakAuras.gcdDuration()))) + v25.PassiveAsp)<(C_Spell.GetSpellPowerCost(v23.Starsurge)[1 -0 ].cost * 2)) ;local v55={};if (v3(v23.WarriorOfElune) and v25.Tww3Keeper4Pc and (v40<=(1 -0)) and (v25.EclipseRemains<=(1 + 6)) and  not v11(v23.DreamstateBuff) and UnitAffectingCombat("player")) then v55.WarriorOfElune=true;end if (v3(v23.WarriorOfElune) and  not v25.Tww3Keeper4Pc and (v40<=1) and (IsPlayerSpell(v23.LunarCallingTalent) or ( not IsPlayerSpell(v23.LunarCallingTalent) and (v25.EclipseRemains<=7))) and  not v11(v23.DreamstateBuff) and UnitAffectingCombat("player")) then v55.WarriorOfElune=true;end if (v3(v23.WarriorOfElune) and (v40>(1637 -(1373 + 263))) and (( not IsPlayerSpell(v23.LunarCallingTalent) and (v5("player",v23.EclipseSolarBuff)<(1007 -(451 + 549)))) or (IsPlayerSpell(v23.LunarCallingTalent) and  not v11(v23.DreamstateBuff) and UnitAffectingCombat("player")))) then v55.WarriorOfElune=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v55,nil);local v56=function() if (v3(v23.Starsurge) and (v11(v23.DryadsFavorBuff))) then v20("Starsurge");return true;end if (v3(v23.Wrath) and v25.EnterLunar and v38 and (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Wrath).castTime/1000)) and  not v33) then local v68=0 + 0 ;while true do if (v68==0) then v20("Wrath");return true;end end end if (v3(v23.Starfire) and  not v25.EnterLunar and v38 and (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Starfire).castTime/(1556 -556))) and  not v34) then local v69=0;while true do if (v69==(0 -0)) then v20("Starfire");return true;end end end if (v3(v23.Starfall) and ((v30-v29)<=(v25.PassiveAsp + (1390 -(746 + 638))))) then if ((aura_env.config[tostring(v23.Starfall)]==true) and aura_env.FlagKTrigCD) then v21("Starfall");elseif (aura_env.config[tostring(v23.Starfall)]~=true) then local v100=0 + 0 ;while true do if (v100==(0 -0)) then v20("Starfall");return true;end end end end if (v3(v23.Moonfire) and ((v19(v23.MoonfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.MoonfireDebuff)<(347.6 -(218 + 123)))) and ((v17(0,1641 -(1535 + 46) ) -v6("target",v23.MoonfireDebuff))>(6 + 0)) and ( not IsPlayerSpell(v23.TreantsOfTheMoonTalent) or ((v40-v41)>6) or ((v7(v23.ForceOfNature)>(1 + 2)) and  not v11(v23.HarmonyOfTheGroveBuff))) and (select(2,GetInstanceInfo())~="raid")) then v20("Moonfire");return true;end if (v3(v23.Sunfire) and ((v19(v23.SunfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.SunfireDebuff)<(565.4 -(306 + 254)))) and ((v17(0 + 0 ,60) -v6("target",v23.SunfireDebuff))>((11 -5) -(v40/(1469 -(899 + 568)))))) then local v70=0;while true do if (v70==0) then v20("Sunfire");return true;end end end if (v3(v23.Moonfire) and ((v19(v23.MoonfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.MoonfireDebuff)<(4.6 + 2))) and ((v17(0,145 -85 ) -v6("target",v23.MoonfireDebuff))>6) and ( not IsPlayerSpell(v23.TreantsOfTheMoonTalent) or ((v40-v41)>(609 -(268 + 335))) or ((v7(v23.ForceOfNature)>3) and  not v11(v23.HarmonyOfTheGroveBuff))) and ( not select(2,GetInstanceInfo())~="raid")) then local v71=290 -(60 + 230) ;while true do if (v71==0) then v20("Moonfire");return true;end end end if (v3(v23.Wrath) and v25.EnterLunar and ( not v38 or (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Wrath).castTime/1000))) and  not v33 and  not v25.PreCdCondition) then v20("Wrath");return true;end if (v3(v23.Starfire) and  not v25.EnterLunar and ( not v38 or (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Starfire).castTime/(1572 -(426 + 146))))) and  not v34) then v20("Starfire");return true;end if (v3(v23.StellarFlare) and v19(v23.StellarFlare) and ((v17(0 + 0 ,1516 -(282 + 1174) ) -v6("target",v23.StellarFlare))>((818 -(569 + 242)) + v40)) and (v40<((((31 -20) -((IsPlayerSpell(v23.UmbralIntensityTalent) and 1) or (0 + 0))) -((1026 -(706 + 318)) * ((IsPlayerSpell(v23.AstralSmolderTalent) and 1) or 0))) -((IsPlayerSpell(v23.LunarCallingTalent) and (1252 -(721 + 530))) or (1271 -(945 + 326)))))) then if ((aura_env.config[tostring(v23.StellarFlare)]==true) and aura_env.FlagKTrigCD) then v21("Stellar Flare");elseif (aura_env.config[tostring(v23.StellarFlare)]~=true) then local v101=0 -0 ;while true do if (v101==(0 + 0)) then v20("Stellar Flare");return true;end end end end if (v3(v23.ForceOfNature) and (v25.PreCdCondition or (((v16(v23.CaInc) + (705 -(271 + 429)) + ((14 + 1) * ((IsPlayerSpell(v23.ControlOfTheDreamTalent) and (1501 -(1408 + 92))) or (1086 -(461 + 625)))))>(GetSpellBaseCooldown(v23.ForceOfNature)/(2288 -(993 + 295)))) and ( not IsPlayerSpell(v23.ConvokeTheSpirits) or ((v7(v23.ConvokeTheSpirits) + 10 + ((1 + 14) * ((IsPlayerSpell(v23.ControlOfTheDreamTalent) and 1) or (1171 -(418 + 753)))))>(GetSpellBaseCooldown(v23.ForceOfNature)/(381 + 619))) or (v18(60,v39)<(v7(v23.ConvokeTheSpirits) + C_Spell.GetSpellCooldown(v23.ConvokeTheSpirits).duration + 1 + 4))) and ((v18(18 + 42 ,v39)>((GetSpellBaseCooldown(v23.ForceOfNature)/(253 + 747)) + (534 -(406 + 123)))) or (v18(1829 -(1749 + 20) ,v39)<(v7(v23.CaInc) + 7)))) or (IsPlayerSpell(v23.WhirlingStarsTalent) and IsPlayerSpell(v23.ConvokeTheSpirits) and (v7(v23.ConvokeTheSpirits)>(C_Spell.GetSpellCooldown(v23.ForceOfNature).duration-(3 + 7))) and (v18(1382 -(1249 + 73) ,v39)>(v7(v23.ConvokeTheSpirits) + 3 + 3))))) then if ((aura_env.config[tostring(v23.ForceOfNature)]==true) and aura_env.FlagKTrigCD) then v21("Force Of Nature");elseif (aura_env.config[tostring(v23.ForceOfNature)]~=true) then v20("Force Of Nature");return true;end end if (v3(v23.FuryOfElune) and v38) then if ((aura_env.config[tostring(v23.FuryOfElune)]==true) and aura_env.FlagKTrigCD) then v21("Fury Of Elune");elseif (aura_env.config[tostring(v23.FuryOfElune)]~=true) then local v102=0;while true do if (v102==(1145 -(466 + 679))) then v20("Fury Of Elune");return true;end end end end if (v3(v23.FuryOfElune) and v25.CdCondition) then if ((aura_env.config[tostring(v23.FuryOfElune)]==true) and aura_env.FlagKTrigCD) then v21("Fury Of Elune");elseif (aura_env.config[tostring(v23.FuryOfElune)]~=true) then v20("Fury Of Elune");return true;end end if ((v7(v23.CelestialAlignmentCooldown)==0) and aura_env.config[tostring(v23.CelestialAlignment)] and  not IsPlayerSpell(v23.Incarnation) and v25.CdCondition) then if ((aura_env.config[tostring(v23.CelestialAlignment)]==true) and aura_env.FlagKTrigCD) then v21("Celestial Alignment");elseif (aura_env.config[tostring(v23.CelestialAlignment)]~=true) then v20("Celestial Alignment");return true;end end if ((v7(v23.Incarnation)==(0 -0)) and aura_env.config[tostring(v23.Incarnation)] and IsPlayerSpell(v23.Incarnation) and v25.CdCondition) then if ((aura_env.config[tostring(v23.Incarnation)]==true) and aura_env.FlagKTrigCD) then v21("Incarnation");elseif (aura_env.config[tostring(v23.Incarnation)]~=true) then local v103=0 -0 ;while true do if (v103==(1900 -(106 + 1794))) then v20("Incarnation");return true;end end end end if (v3(v23.Starfire) and  not IsPlayerSpell(v23.LunarCallingTalent) and (v40<=(1 + 0)) and (((v11(v23.EclipseSolarBuff) or v34) and (v5("player",v23.EclipseSolarBuff)<(C_Spell.GetSpellInfo(v23.Starfire).castTime/(253 + 747)))) or (v28==nil))) then local v72=0;while true do if (v72==0) then v20("Starfire");return true;end end end if (v3(v23.Starfall) and (v11(v23.StarweaversWarpBuff) or v11(v23.TouchTheCosmosBuff))) then if ((aura_env.config[tostring(v23.Starfall)]==true) and aura_env.FlagKTrigCD) then v21("Starfall");elseif (aura_env.config[tostring(v23.Starfall)]~=true) then v20("Starfall");return true;end end if (v3(v23.Starsurge) and (v11(v23.StarweaversWeftBuff))) then v20("Starsurge");return true;end if v3(v23.Starfall) then if ((aura_env.config[tostring(v23.Starfall)]==true) and aura_env.FlagKTrigCD) then v21("Starfall");elseif (aura_env.config[tostring(v23.Starfall)]~=true) then local v104=0 -0 ;while true do if (v104==0) then v20("Starfall");return true;end end end end if (v3(v23.ConvokeTheSpirits) and (( not v11(v23.DreamstateBuff) and  not v11(v23.UmbralEmbraceBuff) and (v40<(18 -11))) or (v40<=1)) and ((v18(174 -(4 + 110) ,v39)<5) or ((v11(v23.CaIncBuff) or (v7(v23.CaInc)>(624 -(57 + 527)))) and ( not IsPlayerSpell(v23.DreamSurgeTalent) or v11(v23.HarmonyOfTheGroveBuff) or (v7(v23.ForceOfNature)>(1442 -(41 + 1386))))))) then if ((aura_env.config[tostring(v23.ConvokeTheSpirits)]==true) and aura_env.FlagKTrigCD) then v21("Convoke The Spirits");elseif (aura_env.config[tostring(v23.ConvokeTheSpirits)]~=true) then v20("Convoke The Spirits");return true;end end if (v3(v23.NewMoon) and v37 and ((FindSpellOverrideByID(v23.NewMoon)==v23.NewMoon) or v8(v23.FullMoon))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("New Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then v20("New Moon");return true;end end if (v3(v23.NewMoon) and v37 and ((FindSpellOverrideByID(v23.NewMoon)==v23.HalfMoon) or v8(v23.NewMoon))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("Half Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then local v105=103 -(17 + 86) ;while true do if (v105==(0 + 0)) then v20("Half Moon");return true;end end end end if (v3(v23.NewMoon) and v37 and ((FindSpellOverrideByID(v23.NewMoon)==v23.FullMoon) or v8(v23.HalfMoon))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("Full Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then local v106=0;while true do if (v106==(0 -0)) then v20("Full Moon");return true;end end end end if (v3(v23.WildMushroom) and (aura_env.PrevCast~=v23.WildMushroom) and  not v8(v23.WildMushroom) and  not v12(v23.FungalGrowthDebuff)) then if ((aura_env.config[tostring(v23.WildMushroom)]==true) and aura_env.FlagKTrigCD) then v21("Wild Mushroom");elseif (aura_env.config[tostring(v23.WildMushroom)]~=true) then v20("Wild Mushroom");return true;end end if (v3(v23.ForceOfNature) and  not IsPlayerSpell(v23.DreamSurgeTalent)) then if ((aura_env.config[tostring(v23.ForceOfNature)]==true) and aura_env.FlagKTrigCD) then v21("Force Of Nature");elseif (aura_env.config[tostring(v23.ForceOfNature)]~=true) then local v107=0;while true do if (v107==0) then v20("Force Of Nature");return true;end end end end if (v3(v23.Starfire) and (IsPlayerSpell(v23.LunarCallingTalent) or ((v11(v23.EclipseLunarBuff) or v33) and (v40>((8 -5) -(((IsPlayerSpell(v23.UmbralEmbraceTalent) or IsPlayerSpell(v23.SoulOfTheForestTalent)) and (167 -(122 + 44))) or (0 -0))))))) then v20("Starfire");return true;end if v3(v23.Wrath) then local v73=0;while true do if (v73==0) then v20("Wrath");return true;end end end end;local v57=function() if (v3(v23.Wrath) and v25.EnterLunar and v38 and (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Wrath).castTime/(3317 -2317))) and  not v33 and  not v25.CdCondition) then local v74=0 + 0 ;while true do if (v74==(0 + 0)) then v20("Wrath");return true;end end end if (v3(v23.Starfire) and  not v25.EnterLunar and v38 and (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Starfire).castTime/(2025 -1025))) and  not v34 and  not v25.CdCondition) then local v75=0;while true do if (v75==0) then v20("Starfire");return true;end end end if (v3(v23.Sunfire) and ((v6("target",v23.SunfireDebuff)<(68 -(30 + 35))) or (((v19(v23.SunfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.SunfireDebuff)<(4.4 + 1))) and ((IsPlayerSpell(v23.DreamSurgeTalent) and v3(v23.ForceOfNature)) or (IsPlayerSpell(v23.BoundlessMoonlightTalent) and v25.CdCondition))))) then local v76=1257 -(1043 + 214) ;while true do if (v76==(0 -0)) then v20("Sunfire");return true;end end end if (v3(v23.Moonfire) and (v6("target",v23.MoonfireDebuff)<3) and ( not IsPlayerSpell(v23.TreantsOfTheMoonTalent) or ((v7(v23.ForceOfNature)>(1215 -(323 + 889))) and  not v11(v23.HarmonyOfTheGroveBuff)))) then local v77=0 -0 ;while true do if (v77==(580 -(361 + 219))) then v20("Moonfire");return true;end end end if ((v7(v23.CelestialAlignmentCooldown)==0) and aura_env.config[tostring(v23.CelestialAlignment)] and  not IsPlayerSpell(v23.Incarnation) and v25.CdCondition) then if ((aura_env.config[tostring(v23.CelestialAlignment)]==true) and aura_env.FlagKTrigCD) then v21("Celestial Alignment");elseif (aura_env.config[tostring(v23.CelestialAlignment)]~=true) then v20("Celestial Alignment");return true;end end if ((v7(v23.Incarnation)==0) and aura_env.config[tostring(v23.Incarnation)] and IsPlayerSpell(v23.Incarnation) and v25.CdCondition) then if ((aura_env.config[tostring(v23.Incarnation)]==true) and aura_env.FlagKTrigCD) then v21("Incarnation");elseif (aura_env.config[tostring(v23.Incarnation)]~=true) then v20("Incarnation");return true;end end if (v3(v23.Wrath) and v25.EnterLunar and ( not v38 or ((v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Wrath).castTime/(1320 -(53 + 267)))) and  not v33))) then local v78=0 + 0 ;while true do if (v78==(413 -(15 + 398))) then v20("Wrath");return true;end end end if (v3(v23.Starfire) and  not v25.EnterLunar and ( not v38 or ((v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Starfire).castTime/(1982 -(18 + 964)))) and  not v34))) then local v79=0;while true do if (v79==(0 -0)) then v20("Starfire");return true;end end end if (v3(v23.Starsurge) and v25.CdCondition and ((v30-v29)>(v25.PassiveAsp + 20))) then local v80=0 + 0 ;while true do if (v80==0) then v20("Starsurge");return true;end end end if (v3(v23.ForceOfNature) and (v25.PreCdCondition or (((v16(v23.CaInc) + 4 + 1 + ((865 -(20 + 830)) * ((IsPlayerSpell(v23.ControlOfTheDreamTalent) and (1 + 0)) or (126 -(116 + 10)))))>(GetSpellBaseCooldown(v23.ForceOfNature)/(74 + 926))) and ( not IsPlayerSpell(v23.ConvokeTheSpirits) or ((v7(v23.ConvokeTheSpirits) + (748 -(542 + 196)) + ((32 -17) * ((IsPlayerSpell(v23.ControlOfTheDreamTalent) and (1 + 0)) or 0)))>(GetSpellBaseCooldown(v23.ForceOfNature)/1000)) or (v18(31 + 29 ,v39)<(v7(v23.ConvokeTheSpirits) + C_Spell.GetSpellCooldown(v23.ConvokeTheSpirits).duration + 2 + 3))) and ((v18(158 -98 ,v39)>((GetSpellBaseCooldown(v23.ForceOfNature)/1000) + (12 -7))) or (v18(60,v39)<(v7(v23.CaInc) + (1558 -(1126 + 425)))))) or (IsPlayerSpell(v23.WhirlingStarsTalent) and IsPlayerSpell(v23.ConvokeTheSpirits) and (v7(v23.ConvokeTheSpirits)>(C_Spell.GetSpellCooldown(v23.ForceOfNature).duration-(415 -(118 + 287)))) and (v18(235 -175 ,v39)>(v7(v23.ConvokeTheSpirits) + (1127 -(118 + 1003))))))) then if ((aura_env.config[tostring(v23.ForceOfNature)]==true) and aura_env.FlagKTrigCD) then v21("Force Of Nature");elseif (aura_env.config[tostring(v23.ForceOfNature)]~=true) then local v108=0;while true do if (v108==(0 -0)) then v20("Force Of Nature");return true;end end end end if (v3(v23.FuryOfElune) and (((382 -(142 + 235)) + v25.PassiveAsp)<(v30-v29))) then if ((aura_env.config[tostring(v23.FuryOfElune)]==true) and aura_env.FlagKTrigCD) then v21("Fury Of Elune");elseif (aura_env.config[tostring(v23.FuryOfElune)]~=true) then v20("Fury Of Elune");return true;end end if (v3(v23.Starfall) and (v11(v23.StarweaversWarpBuff))) then if ((aura_env.config[tostring(v23.Starfall)]==true) and aura_env.FlagKTrigCD) then v21("Starfall");elseif (aura_env.config[tostring(v23.Starfall)]~=true) then v20("Starfall");return true;end end if (v3(v23.Starsurge) and IsPlayerSpell(v23.StarlordTalent) and (v9(v23.StarlordBuff)<3)) then local v81=0 -0 ;while true do if (0==v81) then v20("Starsurge");return true;end end end if (v3(v23.Sunfire) and ((v19(v23.SunfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.SunfireDebuff)<(2.4000000000000004 + 3)))) then v20("Sunfire");return true;end if (v3(v23.Moonfire) and ((v19(v23.MoonfireDebuff) and  not IsPlayerSpell(v23.AetherialKindlingTalent)) or (v6("target",v23.MoonfireDebuff)<(983.6 -(553 + 424)))) and ( not IsPlayerSpell(v23.TreantsOfTheMoonTalent) or ((v7(v23.ForceOfNature)>3) and  not v11(v23.HarmonyOfTheGroveBuff)))) then local v82=0 -0 ;while true do if (0==v82) then v20("Moonfire");return true;end end end if (v3(v23.Starsurge) and (v7(v23.ConvokeTheSpirits)<(max(1.5/(1 + 0 + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75 + 0 ) * 2)) and v25.ConvokeCondition and ((v30-v29)<50)) then local v83=0 + 0 ;while true do if (v83==0) then v20("Starsurge");return true;end end end if (v3(v23.ConvokeTheSpirits) and v25.ConvokeCondition) then if ((aura_env.config[tostring(v23.ConvokeTheSpirits)]==true) and aura_env.FlagKTrigCD) then v21("Convoke The Spirits");elseif (aura_env.config[tostring(v23.ConvokeTheSpirits)]~=true) then v20("Convoke The Spirits");return true;end end if (v3(v23.StellarFlare) and v19(v23.StellarFlare) and ((v17(0 + 0 ,60) -v6("target",v23.StellarFlare))>((14 -7) + v40))) then if ((aura_env.config[tostring(v23.StellarFlare)]==true) and aura_env.FlagKTrigCD) then v21("Stellar Flare");elseif (aura_env.config[tostring(v23.StellarFlare)]~=true) then local v109=0 -0 ;while true do if (v109==(0 -0)) then v20("Stellar Flare");return true;end end end end if (v3(v23.Starsurge) and (((v5("player",v23.StarlordBuff)>(2 + 2)) and (v25.BoatStacks>=3)) or (v18(60,v39)<(19 -15)))) then v20("Starsurge");return true;end if (v3(v23.NewMoon) and v37 and ((FindSpellOverrideByID(v23.NewMoon)==v23.NewMoon) or v8(v23.FullMoon)) and (((v30-v29)>(v25.PassiveAsp + 10)) or (v18(813 -(239 + 514) ,v39)<20) or (v7(v23.CaInc)>15))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("New Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then local v110=0 + 0 ;while true do if (v110==(1329 -(797 + 532))) then v20("New Moon");return true;end end end end if (v3(v23.NewMoon) and v37 and ((FindSpellOverrideByID(v23.NewMoon)==v23.HalfMoon) or v8(v23.NewMoon)) and ((((v30-v29)>(v25.PassiveAsp + 20)) and ((v5("player",v23.EclipseLunarBuff)>max(C_Spell.GetSpellInfo(v23.HalfMoon).castTime/1000 ,WeakAuras.gcdDuration())) or (v5("player",v23.EclipseSolarBuff)>max(C_Spell.GetSpellInfo(v23.HalfMoon).castTime/(727 + 273) ,WeakAuras.gcdDuration())))) or (v18(21 + 39 ,v39)<20) or (v7(v23.CaInc)>(34 -19)))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("Half Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then local v111=0;while true do if (0==v111) then v20("Half Moon");return true;end end end end if (v3(v23.NewMoon) and v37 and ((FindSpellOverrideByID(v23.NewMoon)==v23.FullMoon) or v8(v23.HalfMoon)) and ((((v30-v29)>(v25.PassiveAsp + (1242 -(373 + 829)))) and ((v5("player",v23.EclipseLunarBuff)>max(C_Spell.GetSpellInfo(v23.FullMoon).castTime/(1731 -(476 + 255)) ,WeakAuras.gcdDuration())) or (v5("player",v23.EclipseSolarBuff)>max(C_Spell.GetSpellInfo(v23.FullMoon).castTime/(2130 -(369 + 761)) ,WeakAuras.gcdDuration())))) or (v18(35 + 25 ,v39)<(36 -16)) or (v7(v23.CaInc)>(28 -13)))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("Full Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then local v112=238 -(64 + 174) ;while true do if (0==v112) then v20("Full Moon");return true;end end end end if (v3(v23.Starsurge) and (v11(v23.StarweaversWeftBuff) or v11(v23.TouchTheCosmosBuff))) then local v84=0;while true do if (v84==0) then v20("Starsurge");return true;end end end if (v3(v23.Starsurge) and ((v30-v29)<(v25.PassiveAsp + 1 + 5 + ((10 + v25.PassiveAsp) * (((v5("player",v23.EclipseSolarBuff)<(max((1.5 -0)/((337 -(144 + 192)) + (0.01 * UnitSpellHaste("player"))) ,216.75 -(42 + 174) ) * (3 + 0))) and (1 + 0)) or (0 + 0)))))) then local v85=1504 -(363 + 1141) ;while true do if (v85==(1580 -(1183 + 397))) then v20("Starsurge");return true;end end end if (v3(v23.WildMushroom) and (aura_env.PrevCast~=v23.WildMushroom) and  not v8(v23.WildMushroom) and  not v12(v23.FungalGrowthDebuff)) then if ((aura_env.config[tostring(v23.WildMushroom)]==true) and aura_env.FlagKTrigCD) then v21("Wild Mushroom");elseif (aura_env.config[tostring(v23.WildMushroom)]~=true) then v20("Wild Mushroom");return true;end end if (v3(v23.Starfire) and (IsPlayerSpell(v23.LunarCallingTalent))) then local v86=0;while true do if (v86==0) then v20("Starfire");return true;end end end if v3(v23.Wrath) then local v87=0 -0 ;while true do if (v87==(0 + 0)) then v20("Wrath");return true;end end end end;local v58=function() if (v3(v23.Wrath) and ((v25.EnterLunar and v38 and (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Wrath).castTime/(748 + 252)))) or ((v25.KotgCaCondition or v25.KotgIncCondition) and v11(v23.PartingSkiesBuff) and ((v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Wrath).castTime/(2975 -(1913 + 62)))) or (v28==nil))))) then v20("Wrath");return true;end if (v3(v23.Starfire) and  not v25.EnterLunar and v38 and (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Starfire).castTime/(630 + 370))) and  not v11(v23.DryadsFavorBuff) and  not (v25.KotgCaCondition or  not v25.KotgIncCondition)) then local v88=0;while true do if (v88==0) then v20("Starfire");return true;end end end if (v3(v23.Moonfire) and (((v6("target",v23.MoonfireDebuff)<3) and ( not IsPlayerSpell(v23.TreantsOfTheMoonTalent) or ((v7(v23.ForceOfNature)>(7 -4)) and  not v11(v23.HarmonyOfTheGroveBuff)))) or  not v12(v23.MoonfireDebuff))) then local v89=1933 -(565 + 1368) ;while true do if (v89==(0 -0)) then v20("Moonfire");return true;end end end if (v3(v23.Sunfire) and ((v6("target",v23.SunfireDebuff)<3) or ((v6("target",v23.SunfireDebuff)<min(12,(v11(v23.CaIncBuff) and select(1666 -(1477 + 184) ,WA_GetUnitAura("player",v23.CaIncBuff))) or (0 -0) )) and v25.KotgCaCondition and  not v11(v23.CaIncBuff)))) then local v90=0 + 0 ;while true do if (v90==(856 -(564 + 292))) then v20("Sunfire");return true;end end end if (v3(v23.FuryOfElune) and (( not v11(v23.CaIncBuff) and v25.KotgCaCondition) or (v7(v23.ConvokeTheSpirits)>C_Spell.GetSpellCooldown(v23.FuryOfElune).duration))) then if ((aura_env.config[tostring(v23.FuryOfElune)]==true) and aura_env.FlagKTrigCD) then v21("Fury Of Elune");elseif (aura_env.config[tostring(v23.FuryOfElune)]~=true) then local v113=0 -0 ;while true do if (v113==(0 -0)) then v20("Fury Of Elune");return true;end end end end if ((v7(v23.CelestialAlignmentCooldown)==0) and aura_env.config[tostring(v23.CelestialAlignment)] and  not IsPlayerSpell(v23.Incarnation) and v25.KotgCaCondition) then if ((aura_env.config[tostring(v23.CelestialAlignment)]==true) and aura_env.FlagKTrigCD) then v21("Celestial Alignment");elseif (aura_env.config[tostring(v23.CelestialAlignment)]~=true) then v20("Celestial Alignment");return true;end end if ((v7(v23.Incarnation)==(304 -(244 + 60))) and aura_env.config[tostring(v23.Incarnation)] and IsPlayerSpell(v23.Incarnation) and v25.KotgIncCondition) then if ((aura_env.config[tostring(v23.Incarnation)]==true) and aura_env.FlagKTrigCD) then v21("Incarnation");elseif (aura_env.config[tostring(v23.Incarnation)]~=true) then v20("Incarnation");return true;end end if (v3(v23.Starsurge) and v11(v23.DryadsFavorBuff) and v11(v23.CaIncBuff)) then v20("Starsurge");return true;end if (v3(v23.Wrath) and v25.EnterLunar and ((v28==nil) or (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Wrath).castTime/(769 + 231))))) then v20("Wrath");return true;end if (v3(v23.Starfire) and  not v25.EnterLunar and ((v28==nil) or (v25.EclipseRemains<(C_Spell.GetSpellInfo(v23.Starfire).castTime/(1476 -(41 + 435)))))) then local v91=0;while true do if (v91==0) then v20("Starfire");return true;end end end if (v3(v23.StellarFlare) and (((v6("target",v23.StellarFlareDebuff)<=((v11(v23.CaIncBuff) and select(5,WA_GetUnitAura("player",v23.CaIncBuff))) or 0)) and v25.PoolForCd) or ((v6("target",v23.StellarFlareDebuff)<=((v11(v23.CaIncBuff) and 1) or 0)) and  not v11(v23.DryadsFavorBuff)))) then if ((aura_env.config[tostring(v23.StellarFlare)]==true) and aura_env.FlagKTrigCD) then v21("Stellar Flare");elseif (aura_env.config[tostring(v23.StellarFlare)]~=true) then local v114=1001 -(938 + 63) ;while true do if (v114==0) then v20("Stellar Flare");return true;end end end end if (v3(v23.Wrath) and v25.PoolForCd) then local v92=0;while true do if (v92==(0 + 0)) then v20("Wrath");return true;end end end if (v3(v23.Starsurge) and (v5("player",v23.DryadBuff)>8) and v11(v23.DryadBuff)) then v20("Starsurge");return true;end if (v3(v23.ForceOfNature) and ((v11(v23.DryadBuff) and (((v11(v23.HarmonyOfTheGroveBuff) and select(5,WA_GetUnitAura("player",v23.HarmonyOfTheGroveBuff))) or (1125 -(936 + 189)))>(v5("player",v23.DryadBuff) + 2))) or ( not v11(v23.CaIncBuff) and (C_Spell.GetSpellCooldown(v23.ForceOfNature).duration<(5 + v7(v23.ConvokeTheSpirits) + (15 * ((IsPlayerSpell(v23.ControlOfTheDreamTalent) and 1) or (0 + 0)))))) or (v18(1673 -(1565 + 48) ,v39)<(13 + 7)))) then if ((aura_env.config[tostring(v23.ForceOfNature)]==true) and aura_env.FlagKTrigCD) then v21("Force Of Nature");elseif (aura_env.config[tostring(v23.ForceOfNature)]~=true) then local v115=1138 -(782 + 356) ;while true do if (v115==(267 -(176 + 91))) then v20("Force Of Nature");return true;end end end end if (v3(v23.FuryOfElune) and ((((5 + v25.PassiveAsp)<(v30-v29)) and ((v7(v23.ConvokeTheSpirits)>(20 -12)) or  not IsPlayerSpell(v23.ConvokeTheSpirits))) or (v18(60,v39)<((11 -3) + max((1093.5 -(975 + 117))/((1876 -(157 + 1718)) + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75 -0 ))))) then if ((aura_env.config[tostring(v23.FuryOfElune)]==true) and aura_env.FlagKTrigCD) then v21("Fury Of Elune");elseif (aura_env.config[tostring(v23.FuryOfElune)]~=true) then local v116=0 -0 ;while true do if (v116==(1018 -(697 + 321))) then v20("Fury Of Elune");return true;end end end end if (v3(v23.Starfall) and (v11(v23.StarweaversWarpBuff))) then v20("Starfall");return true;end if (v3(v23.Starsurge) and IsPlayerSpell(v23.StarlordTalent) and (v9(v23.StarlordBuff)<(7 -4)) and  not v25.PoolInCa and  not (v25.ConvokeCondition and v3(v23.ConvokeTheSpirits))) then v20("Starsurge");return true;end if (v3(v23.Sunfire) and (v19(v23.SunfireDebuff))) then v20("Sunfire");return true;end if (v3(v23.Moonfire) and v19(v23.MoonfireDebuff) and ( not IsPlayerSpell(v23.TreantsOfTheMoonTalent) or ((v7(v23.ForceOfNature)>(5 -2)) and  not v11(v23.HarmonyOfTheGroveBuff)))) then local v93=0;while true do if (v93==(0 -0)) then v20("Moonfire");return true;end end end if (v3(v23.Starsurge) and (v7(v23.ConvokeTheSpirits)<(max(1.5/(1 + 0 + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75 -0 ) * 2)) and v25.ConvokeCondition and (v29>(1263 -(322 + 905))) and (v5("player",v23.DryadBuff)>((615 -(602 + 9)) + max((1190.5 -(449 + 740))/(1 + ((872.01 -(826 + 46)) * UnitSpellHaste("player"))) ,947.75 -(245 + 702) ))) and v11(v23.DryadBuff) and (v18(60,0)>(15 -10))) then local v94=0 + 0 ;while true do if (v94==0) then v20("Starsurge");return true;end end end if (v3(v23.ConvokeTheSpirits) and v25.ConvokeCondition and v11(v23.HarmonyOfTheGroveBuff)) then if ((aura_env.config[tostring(v23.ConvokeTheSpirits)]==true) and aura_env.FlagKTrigCD) then v21("Convoke The Spirits");elseif (aura_env.config[tostring(v23.ConvokeTheSpirits)]~=true) then local v117=0;while true do if (v117==(1898 -(260 + 1638))) then v20("Convoke The Spirits");return true;end end end end if (v3(v23.StellarFlare) and v19(v23.StellarFlare) and ((v17(440 -(382 + 58) ,192 -132 ) -v6("target",v23.StellarFlare))>(6 + 1 + v40)) and  not v11(v23.CaIncBuff)) then if ((aura_env.config[tostring(v23.StellarFlare)]==true) and aura_env.FlagKTrigCD) then v21("Stellar Flare");elseif (aura_env.config[tostring(v23.StellarFlare)]~=true) then local v118=0;while true do if ((0 -0)==v118) then v20("Stellar Flare");return true;end end end end if (v3(v23.Starsurge) and (((v5("player",v23.StarlordBuff)>4) and (v25.BoatStacks>=(20 -13))) or (v18(1265 -(902 + 303) ,v39)<4)) and  not v25.PoolInCa) then local v95=0 -0 ;while true do if (v95==(0 -0)) then v20("Starsurge");return true;end end end if (v3(v23.NewMoon) and v37 and ((FindSpellOverrideByID(v23.NewMoon)==v23.NewMoon) or v8(v23.FullMoon)) and ((((v30-v29)>(v25.PassiveAsp + 10)) and ((v11(v23.HarmonyOfTheGroveBuff) and  not v11(v23.CaIncBuff)) or (v11(v23.CaIncBuff) and  not v3(v23.CaInc)) or (v16(v23.NewMoon)<v7(v23.ConvokeTheSpirits)))) or (v18(60,v39)<(2 + 18)))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("New Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then local v119=0;while true do if (v119==(1690 -(1121 + 569))) then v20("New Moon");return true;end end end end if (v3(v23.NewMoon) and v37 and ((FindSpellOverrideByID(v23.NewMoon)==v23.HalfMoon) or v8(v23.NewMoon)) and ((((v30-v29)>(v25.PassiveAsp + 20)) and ((v11(v23.HarmonyOfTheGroveBuff) and  not v11(v23.CaIncBuff)) or (v11(v23.CaIncBuff) and  not v3(v23.CaInc)) or (v16(v23.NewMoon)<v7(v23.ConvokeTheSpirits)))) or (v18(274 -(22 + 192) ,v39)<(703 -(483 + 200))))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("Half Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then local v120=0;while true do if (v120==(1463 -(1404 + 59))) then v20("Half Moon");return true;end end end end if (v3(v23.NewMoon) and v37 and ((FindSpellOverrideByID(v23.NewMoon)==v23.FullMoon) or v8(v23.HalfMoon)) and ((((v30-v29)>(v25.PassiveAsp + (109 -69))) and ((v11(v23.HarmonyOfTheGroveBuff) and  not v11(v23.CaIncBuff)) or (v11(v23.CaIncBuff) and  not v3(v23.CaInc)) or (v16(v23.NewMoon)<v7(v23.ConvokeTheSpirits)))) or (v18(80 -20 ,v39)<(785 -(468 + 297))))) then if ((aura_env.config[tostring(v23.NewMoon)]==true) and aura_env.FlagKTrigCD) then v21("Full Moon");elseif (aura_env.config[tostring(v23.NewMoon)]~=true) then v20("Full Moon");return true;end end if (v3(v23.Starsurge) and (v11(v23.StarweaversWeftBuff) or v11(v23.TouchTheCosmosBuff))) then v20("Starsurge");return true;end if (v3(v23.Starsurge) and ((v30-v29)<(v25.PassiveAsp + (568 -(334 + 228)) + (((33 -23) + v25.PassiveAsp) * (((v5("player",v23.EclipseSolarBuff)<(max(1.5/((2 -1) + ((0.01 -0) * UnitSpellHaste("player"))) ,0.75 + 0 ) * (238 -(141 + 95)))) and (1 + 0)) or (0 -0))))) and  not v25.PoolInCa) then local v96=0 -0 ;while true do if (0==v96) then v20("Starsurge");return true;end end end if (v3(v23.WildMushroom) and (aura_env.PrevCast~=v23.WildMushroom) and  not v8(v23.WildMushroom) and (v5("target",v23.FungalGrowthDebuff)<(1 + 1))) then if ((aura_env.config[tostring(v23.WildMushroom)]==true) and aura_env.FlagKTrigCD) then v21("Wild Mushroom");elseif (aura_env.config[tostring(v23.WildMushroom)]~=true) then local v121=0 -0 ;while true do if ((0 + 0)==v121) then v20("Wild Mushroom");return true;end end end end if v3(v23.Wrath) then local v97=0 + 0 ;while true do if (0==v97) then v20("Wrath");return true;end end end end;if (v40>1) then local v67=0;while true do if (v67==(0 -0)) then v56();return true;end end end if ( not v25.Tww3Keeper4Pc and (v40<=1)) then if v57() then return true;end end if (v25.Tww3Keeper4Pc and (v40<=(1 + 0))) then if v58() then return true;end end v20("Clear");end;