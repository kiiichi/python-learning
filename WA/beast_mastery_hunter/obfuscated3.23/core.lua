function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.FullGCD;local v24=aura_env.ids;aura_env.OutOfRange=false;local v26=WeakAuras.GetNumSetItemsEquipped(1871);local v27=UnitPower("player",Enum.PowerType.Focus);local v28=UnitPowerMax("player",Enum.PowerType.Focus);local v29=v11(v24.HowlBearBuff) or v11(v24.HowlBoarBuff) or v11(v24.HowlWyvernBuff) ;local v30=0;local v31=1178 -(116 + 1022) ;for v35=351 -(87 + 263) ,220 -(67 + 113)  do local v36="nameplate"   .. v35 ;if (UnitExists(v36) and  not UnitIsFriend("player",v36) and WeakAuras.CheckRange(v36,v31,"<=") and (UnitAffectingCombat(v36) or aura_env.config['BypassCombatRequirement'])) then v30=v30 + 1 + 0 ;end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v30);WeakAuras.ScanEvents("K_NEARBY_Wounds",TargetsWithFesteringWounds);if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then local v45=0 -0 ;while true do if (v45==1) then v21("Clear",nil);return;end if (v45==0) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v20("Clear",nil);v45=1 + 0 ;end end end end local v32={};if (v3(v24.CallOfTheWild) and (v14(v24.BarbedShot)<(3 -2)) and  not v3(v24.BestialWrath)) then v32.CallOfTheWild=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v32,nil);local v33=function() if v3(v24.BestialWrath) then if ((aura_env.config[tostring(v24.BestialWrath)]==true) and aura_env.FlagKTrigCD) then v21("Bestial Wrath");elseif (aura_env.config[tostring(v24.BestialWrath)]~=true) then v20("Bestial Wrath");return true;end end if (v3(v24.DireBeast) and IsPlayerSpell(v24.HuntmastersCallTalent) and (v9(v24.HuntmastersCallBuff)==(7 -5))) then if ((aura_env.config[tostring(v24.DireBeast)]==true) and aura_env.FlagKTrigCD) then v21("Dire Beast");elseif (aura_env.config[tostring(v24.DireBeast)]~=true) then v20("Dire Beast");return true;end end if (v3(v24.KillShot) and (FindSpellOverrideByID(v24.KillShot)==v24.BlackArrow) and v5("player",v24.BeastCleaveBuff) and v11(v24.WitheringFireBuff)) then local v39=952 -(802 + 150) ;while true do if (v39==0) then v20("Black Arrow");return true;end end end if (v3(v24.BarbedShot) and ((v16(v24.BarbedShot)<=WeakAuras.gcdDuration()) or (math.floor(v14(v24.BarbedShot))>math.floor(v14(v24.KillCommand))) or (IsPlayerSpell(v24.CallOfTheWild) and v3(v24.CallOfTheWild)) or (v29 and (v16(v24.BarbedShot)<(21 -13))))) then local v40=0;while true do if (v40==(0 + 0)) then v20("Barbed Shot");return true;end end end if (v3(v24.Multishot) and  not (v5("pet",v24.BeastCleavePetBuff)>WeakAuras.gcdDuration()) and ( not IsPlayerSpell(v24.BloodyFrenzyTalent) or true)) then local v41=0 -0 ;while true do if (v41==(0 + 0)) then v20("Multishot");return true;end end end if (v3(v24.KillShot) and (FindSpellOverrideByID(v24.KillShot)==v24.BlackArrow) and (v5("player",v24.BeastCleaveBuff))) then local v42=997 -(915 + 82) ;while true do if (v42==(0 -0)) then v20("Black Arrow");return true;end end end if v3(v24.Bloodshed) then if ((aura_env.config[tostring(v24.Bloodshed)]==true) and aura_env.FlagKTrigCD) then v21("Bloodshed");elseif (aura_env.config[tostring(v24.Bloodshed)]~=true) then local v47=0 + 0 ;while true do if (v47==(0 -0)) then v20("Bloodshed");return true;end end end end if (v3(v24.KillCommandSummon) and v29) then if ((aura_env.config[tostring(v24.KillCommandSummon)]==true) and aura_env.FlagKTrigCD) then v21("Kill Command Summon");elseif (aura_env.config[tostring(v24.KillCommandSummon)]~=true) then v20("Kill Command Summon");return true;end end if (v3(v24.ExplosiveShot) and (IsPlayerSpell(v24.ThunderingHoovesTalent))) then v20("Explosive Shot");return true;end if (v3(v24.KillCommand) and  not v29) then v20("Kill Command");return true;end if (v3(v24.CobraShot) and (((((v28-v27)/GetPowerRegen()) * WeakAuras.gcdDuration())<(WeakAuras.gcdDuration() + (v23() * (1425 -(630 + 793))))) or (v9(v24.HogstriderBuff)>3))) then local v43=0 -0 ;while true do if (v43==(1187 -(1069 + 118))) then v20("Cobra Shot");return true;end end end if v3(v24.DireBeast) then if ((aura_env.config[tostring(v24.DireBeast)]==true) and aura_env.FlagKTrigCD) then v21("Dire Beast");elseif (aura_env.config[tostring(v24.DireBeast)]~=true) then v20("Dire Beast");return true;end end if v3(v24.ExplosiveShot) then local v44=0 -0 ;while true do if (v44==(0 -0)) then v20("Explosive Shot");return true;end end end end;local v34=function() local v37=0 + 0 ;while true do if (v37==(3 -2)) then if (v3(v24.BarbedShot) and ((v16(v24.BarbedShot)<=WeakAuras.gcdDuration()) or (math.floor(v14(v24.BarbedShot))>math.floor(v14(v24.KillCommand))) or (IsPlayerSpell(v24.CallOfTheWild) and v3(v24.CallOfTheWild)) or (v29 and (v16(v24.BarbedShot)<(13 -5))))) then v20("Barbed Shot");return true;end if v3(v24.Bloodshed) then if ((aura_env.config[tostring(v24.Bloodshed)]==true) and aura_env.FlagKTrigCD) then v21("Bloodshed");elseif (aura_env.config[tostring(v24.Bloodshed)]~=true) then local v48=0 + 0 ;while true do if (v48==(791 -(368 + 423))) then v20("Bloodshed");return true;end end end end if (v3(v24.KillCommandSummon) and v29) then if ((aura_env.config[tostring(v24.KillCommandSummon)]==true) and aura_env.FlagKTrigCD) then v21("Kill Command Summon");elseif (aura_env.config[tostring(v24.KillCommandSummon)]~=true) then v20("Kill Command Summon");return true;end end v37=6 -4 ;end if (v37==(21 -(10 + 8))) then if v3(v24.CobraShot) then v20("Cobra Shot");return true;end if v3(v24.DireBeast) then if ((aura_env.config[tostring(v24.DireBeast)]==true) and aura_env.FlagKTrigCD) then v21("Dire Beast");elseif (aura_env.config[tostring(v24.DireBeast)]~=true) then local v49=0 -0 ;while true do if (v49==(442 -(416 + 26))) then v20("Dire Beast");return true;end end end end break;end if (v37==(1 + 1)) then if (v3(v24.KillCommand) and  not v29) then local v46=0 + 0 ;while true do if (v46==(0 -0)) then v20("Kill Command");return true;end end end if (v3(v24.KillShot) and (FindSpellOverrideByID(v24.KillShot)==v24.BlackArrow)) then v20("Black Arrow");return true;end if (v3(v24.ExplosiveShot) and (IsPlayerSpell(v24.ThunderingHoovesTalent))) then v20("Explosive Shot");return true;end v37=2 + 1 ;end if (v37==0) then if (v3(v24.DireBeast) and (IsPlayerSpell(v24.HuntmastersCallTalent))) then if ((aura_env.config[tostring(v24.DireBeast)]==true) and aura_env.FlagKTrigCD) then v21("Dire Beast");elseif (aura_env.config[tostring(v24.DireBeast)]~=true) then local v50=0 -0 ;while true do if ((438 -(145 + 293))==v50) then v20("Dire Beast");return true;end end end end if v3(v24.BestialWrath) then if ((aura_env.config[tostring(v24.BestialWrath)]==true) and aura_env.FlagKTrigCD) then v21("Bestial Wrath");elseif (aura_env.config[tostring(v24.BestialWrath)]~=true) then local v51=0 -0 ;while true do if (v51==(430 -(44 + 386))) then v20("Bestial Wrath");return true;end end end end if (v3(v24.KillShot) and (FindSpellOverrideByID(v24.KillShot)==v24.BlackArrow) and (v11(v24.WitheringFireBuff))) then v20("Black Arrow");return true;end v37=1487 -(998 + 488) ;end end end;if ((v30<(1 + 1)) or ( not IsPlayerSpell(v24.BeastCleaveTalent) and (v30<(3 + 0)))) then if v34() then return true;end end if ((v30>(2 -0)) or (IsPlayerSpell(v24.BeastCleaveTalent) and (v30>(773 -(201 + 571))))) then if v33() then return true;end end v20("Clear");end;