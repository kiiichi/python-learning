function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.FullGCD;local v24=aura_env.ids;aura_env.OutOfRange=false;local v26=WeakAuras.GetNumSetItemsEquipped(6620 -4697 );local v27=UnitPower("player",Enum.PowerType.Focus);local v28=UnitPowerMax("player",Enum.PowerType.Focus);local v29=v11(v24.HowlBearBuff) or v11(v24.HowlBoarBuff) or v11(v24.HowlWyvernBuff) ;local v30=0 -0 ;local v31=1787 -(760 + 987) ;for v36=3 -2 ,992 -(802 + 150)  do local v37=0;local v38;while true do if (v37==(0 -0)) then v38="nameplate"   .. v36 ;if (UnitExists(v38) and  not UnitIsFriend("player",v38) and WeakAuras.CheckRange(v38,v31,"<=") and (UnitAffectingCombat(v38) or aura_env.config['BypassCombatRequirement'])) then v30=v30 + (1 -0) ;end break;end end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v30);if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then local v46=0 + 0 ;while true do if (v46==1) then v21("Clear",nil);return;end if (v46==0) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v20("Clear",nil);v46=998 -(915 + 82) ;end end end end local v32={};if (v3(v24.CallOfTheWild) and (v14(v24.BarbedShot)<(767 -(745 + 21))) and  not v3(v24.BestialWrath)) then v32.CallOfTheWild=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v32,nil);local v33=function() if v3(v24.BestialWrath) then if ((aura_env.config[tostring(v24.BestialWrath)]==true) and aura_env.FlagKTrigCD) then v21("Bestial Wrath");elseif (aura_env.config[tostring(v24.BestialWrath)]~=true) then local v51=0 -0 ;while true do if (v51==(0 + 0)) then v20("Bestial Wrath");return true;end end end end if (v3(v24.DireBeast) and IsPlayerSpell(v24.HuntmastersCallTalent) and (v9(v24.HuntmastersCallBuff)==(2 -0))) then if ((aura_env.config[tostring(v24.DireBeast)]==true) and aura_env.FlagKTrigCD) then v21("Dire Beast");elseif (aura_env.config[tostring(v24.DireBeast)]~=true) then v20("Dire Beast");return true;end end if (v3(v24.KillShot) and (FindSpellOverrideByID(v24.KillShot)==v24.BlackArrow) and v5("player",v24.BeastCleaveBuff) and v11(v24.WitheringFireBuff)) then v20("Black Arrow");return true;end if (v3(v24.BarbedShot) and ((v16(v24.BarbedShot)<=WeakAuras.gcdDuration()) or (math.floor(v14(v24.BarbedShot))>math.floor(v14(v24.KillCommand))) or (IsPlayerSpell(v24.CallOfTheWild) and v3(v24.CallOfTheWild)) or (v29 and (v16(v24.BarbedShot)<(31 -23))))) then v20("Barbed Shot");return true;end if (v3(v24.Multishot) and  not (v5("pet",v24.BeastCleavePetBuff)>WeakAuras.gcdDuration()) and ( not IsPlayerSpell(v24.BloodyFrenzyTalent) or true)) then local v42=0 + 0 ;while true do if (v42==(1187 -(1069 + 118))) then v20("Multishot");return true;end end end if (v3(v24.KillShot) and (FindSpellOverrideByID(v24.KillShot)==v24.BlackArrow) and (v5("player",v24.BeastCleaveBuff))) then v20("Black Arrow");return true;end if v3(v24.Bloodshed) then if ((aura_env.config[tostring(v24.Bloodshed)]==true) and aura_env.FlagKTrigCD) then v21("Bloodshed");elseif (aura_env.config[tostring(v24.Bloodshed)]~=true) then v20("Bloodshed");return true;end end if (v3(v24.KillCommandSummon) and v29) then if ((aura_env.config[tostring(v24.KillCommandSummon)]==true) and aura_env.FlagKTrigCD) then v21("Kill Command Summon");elseif (aura_env.config[tostring(v24.KillCommandSummon)]~=true) then v20("Kill Command Summon");return true;end end if (v3(v24.ExplosiveShot) and (IsPlayerSpell(v24.ThunderingHoovesTalent))) then local v43=0 -0 ;while true do if (v43==(0 -0)) then v20("Explosive Shot");return true;end end end if (v3(v24.KillCommand) and  not v29) then local v44=0 + 0 ;while true do if (v44==(0 -0)) then v20("Kill Command");return true;end end end if (v3(v24.CobraShot) and (((((v28-v27)/GetPowerRegen()) * WeakAuras.gcdDuration())<(WeakAuras.gcdDuration() + (v23() * (2 + 0)))) or (v9(v24.HogstriderBuff)>(3 + 0)))) then v20("Cobra Shot");return true;end if v3(v24.DireBeast) then if ((aura_env.config[tostring(v24.DireBeast)]==true) and aura_env.FlagKTrigCD) then v21("Dire Beast");elseif (aura_env.config[tostring(v24.DireBeast)]~=true) then v20("Dire Beast");return true;end end if v3(v24.ExplosiveShot) then local v45=0 -0 ;while true do if (v45==(791 -(368 + 423))) then v20("Explosive Shot");return true;end end end end;local v34=function() local v39=0 -0 ;while true do if (v39==(20 -(10 + 8))) then if v3(v24.KillCommand) then v20("Kill Command");return true;end if v3(v24.BarbedShot) then v20("Barbed Shot");return true;end v39=11 -8 ;end if ((1820 -(1703 + 114))==v39) then if v3(v24.CobraShot) then local v47=442 -(416 + 26) ;while true do if ((0 -0)==v47) then v20("Cobra Shot");return true;end end end break;end if (v39==(1 + 0)) then if (v3(v24.BarbedShot) and (v16(v24.BarbedShot)<WeakAuras.gcdDuration())) then v20("Barbed Shot");return true;end if v3(v24.Bloodshed) then if ((aura_env.config[tostring(v24.Bloodshed)]==true) and aura_env.FlagKTrigCD) then v21("Bloodshed");elseif (aura_env.config[tostring(v24.Bloodshed)]~=true) then v20("Bloodshed");return true;end end v39=5 -3 ;end if (v39==(0 -0)) then if v3(v24.KillShot) then v20("Kill Shot");return true;end if (v3(v24.BestialWrath) and ((v7(v24.CallOfTheWild)>(458 -(145 + 293))) or  not IsPlayerSpell(v24.CallOfTheWild))) then if ((aura_env.config[tostring(v24.BestialWrath)]==true) and aura_env.FlagKTrigCD) then v21("Bestial Wrath");elseif (aura_env.config[tostring(v24.BestialWrath)]~=true) then local v52=0;while true do if (v52==(430 -(44 + 386))) then v20("Bestial Wrath");return true;end end end end v39=1487 -(998 + 488) ;end end end;local v35=function() local v40=1265 -(243 + 1022) ;while true do if ((0 + 0)==v40) then if (v3(v24.BestialWrath) and (((v5("player",v24.HowlOfThePackLeaderCooldownBuff) -v5("player",v24.LeadFromTheFrontBuff))<(((10 + 2)/max((1.5 + 0)/((773 -(201 + 571)) + ((0.01 + 0) * UnitSpellHaste("player"))) ,0.75)) * (254.5 -(163 + 91)))) or (v26<(1934 -(1869 + 61))))) then if ((aura_env.config[tostring(v24.BestialWrath)]==true) and aura_env.FlagKTrigCD) then v21("Bestial Wrath");elseif (aura_env.config[tostring(v24.BestialWrath)]~=true) then local v53=0;while true do if (v53==(0 + 0)) then v20("Bestial Wrath");return true;end end end end if (v3(v24.BarbedShot) and (v16(v24.BarbedShot)<WeakAuras.gcdDuration())) then v20("Barbed Shot");return true;end v40=1139 -(116 + 1022) ;end if (v40==(4 -3)) then if v3(v24.Bloodshed) then if ((aura_env.config[tostring(v24.Bloodshed)]==true) and aura_env.FlagKTrigCD) then v21("Bloodshed");elseif (aura_env.config[tostring(v24.Bloodshed)]~=true) then local v54=0 + 0 ;while true do if (v54==(0 -0)) then v20("Bloodshed");return true;end end end end if (v3(v24.KillCommand) and (v14(v24.KillCommand)>=v14(v24.BarbedShot)) and  not ((v5("player",v24.LeadFromTheFrontBuff)>WeakAuras.gcdDuration()) and (v5("player",v24.LeadFromTheFrontBuff)<(WeakAuras.gcdDuration() * (7 -5))) and  not v29 and (v16(v24.KillCommand)>WeakAuras.gcdDuration()))) then local v48=859 -(814 + 45) ;while true do if (v48==(0 -0)) then v20("Kill Command");return true;end end end v40=1 + 1 ;end if (v40==(1 + 1)) then if v3(v24.BarbedShot) then local v49=0;while true do if (v49==(885 -(261 + 624))) then v20("Barbed Shot");return true;end end end if v3(v24.CobraShot) then local v50=0 -0 ;while true do if (v50==(1080 -(1020 + 60))) then v20("Cobra Shot");return true;end end end break;end end end;if (IsPlayerSpell(v24.BlackArrowTalent) and ((v30<(1425 -(630 + 793))) or ( not IsPlayerSpell(v24.BeastCleaveTalent) and (v30<(9 -6))))) then if v34() then return true;end end if ( not IsPlayerSpell(v24.BlackArrowTalent) and ((v30<(1723 -(345 + 1376))) or ( not IsPlayerSpell(v24.BeastCleaveTalent) and (v30<(691 -(198 + 490)))))) then if v35() then return true;end end if ((v30<(9 -7)) or ( not IsPlayerSpell(v24.BeastCleaveTalent) and (v30<(6 -3)))) then if v35() then return true;end end if ((v30>(1208 -(696 + 510))) or (IsPlayerSpell(v24.BeastCleaveTalent) and (v30>(1 + 0)))) then if v33() then return true;end end v20("Clear");end;