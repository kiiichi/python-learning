function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.FullGCD;local v24=aura_env.ids;aura_env.OutOfRange=false;local v26=WeakAuras.GetNumSetItemsEquipped(1121 + 802 );local v27=UnitPower("player",Enum.PowerType.Focus);local v28=UnitPowerMax("player",Enum.PowerType.Focus);local v29=v11(v24.HowlBearBuff) or v11(v24.HowlBoarBuff) or v11(v24.HowlWyvernBuff) ;local v30=0 -0 ;local v31=1227 -(1069 + 118) ;for v37=1,90 -50  do local v38="nameplate"   .. v37 ;if (UnitExists(v38) and  not UnitIsFriend("player",v38) and WeakAuras.CheckRange(v38,v31,"<=") and (UnitAffectingCombat(v38) or aura_env.config['BypassCombatRequirement'])) then v30=v30 + (1 -0) ;end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v30);if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v20("Clear",nil);v21("Clear",nil);return;end end local v32={};if ( not IsPlayerSpell(v24.BlackArrowTalent) and v3(v24.CallOfTheWild) and (v14(v24.BarbedShot)<(1 + 0)) and  not v3(v24.BestialWrath)) then v32.CallOfTheWild=true;end if (IsPlayerSpell(v24.BlackArrowTalent) and v3(v24.CallOfTheWild) and  not v3(v24.Bloodshed) and v12(468572)) then v32.CallOfTheWild=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v32,nil);local v33=function() local v39=0 -0 ;while true do if (v39==(0 + 0)) then if (v3(v24.BestialWrath) and ((((v5("player",v24.HowlOfThePackLeaderCooldownBuff) -12)<(((803 -(368 + 423))/max((3.5 -2)/((19 -(10 + 8)) + ((0.01 -0) * UnitSpellHaste("player"))) ,442.75 -(416 + 26) )) * (0.5 -0))) and (v5("player",v24.HowlOfThePackLeaderCooldownBuff)>(0 + 0))) or (v26<4) or IsPlayerSpell(v24.Multishot))) then if ((aura_env.config[tostring(v24.BestialWrath)]==true) and aura_env.FlagKTrigCD) then v21("Bestial Wrath");elseif (aura_env.config[tostring(v24.BestialWrath)]~=true) then local v55=0;while true do if (v55==0) then v20("Bestial Wrath");return true;end end end end if (v3(v24.BarbedShot) and ((v16(v24.BarbedShot)<v23()) or (v14(v24.BarbedShot)>=v14(v24.KillCommand)) or (IsPlayerSpell(v24.CallOfTheWild) and v3(v24.CallOfTheWild)) or (v29 and (v16(v24.BarbedShot)<(13 -5))))) then local v47=438 -(145 + 293) ;while true do if (v47==(430 -(44 + 386))) then v20("Barbed Shot");return true;end end end v39=1487 -(998 + 488) ;end if (v39==(1 + 2)) then if (v3(v24.KillCommand) and  not v29) then v20("Kill Command");return true;end if (v3(v24.CobraShot) and ((((v28-v27)/GetPowerRegen())<(v23() * (2 + 0))) or (v9(v24.HogstriderBuff)>(775 -(201 + 571))) or  not IsPlayerSpell(v24.Multishot))) then v20("Cobra Shot");return true;end break;end if (v39==(1140 -(116 + 1022))) then if (v3(v24.ExplosiveShot) and (IsPlayerSpell(v24.ThunderingHoovesTalent))) then local v48=0;while true do if ((0 -0)==v48) then v20("Explosive Shot");return true;end end end if (v3(v24.KillCommandSummon) and v29) then if ((aura_env.config[tostring(v24.KillCommandSummon)]==true) and aura_env.FlagKTrigCD) then v21("Kill Command Summon");elseif (aura_env.config[tostring(v24.KillCommandSummon)]~=true) then local v56=0;while true do if ((0 + 0)==v56) then v20("Kill Command Summon");return true;end end end end v39=10 -7 ;end if (v39==1) then if v3(v24.Bloodshed) then if ((aura_env.config[tostring(v24.Bloodshed)]==true) and aura_env.FlagKTrigCD) then v21("Bloodshed");elseif (aura_env.config[tostring(v24.Bloodshed)]~=true) then local v57=0 -0 ;while true do if (v57==(859 -(814 + 45))) then v20("Bloodshed");return true;end end end end if (v3(v24.Multishot) and  not WA_GetUnitBuff("pet",v24.BeastCleavePetBuff) and ( not IsPlayerSpell(v24.BloodyFrenzyTalent) or (v7(v24.CallOfTheWild)>0))) then v20("Multishot");return true;end v39=4 -2 ;end end end;local v34=function() local v40=0 + 0 ;while true do if (v40==4) then if (v3(v24.CobraShot) and (((v28-v27)/GetPowerRegen())<(v23() * 2))) then v20("Cobra Shot");return true;end if v3(v24.ExplosiveShot) then local v49=0 + 0 ;while true do if (v49==(885 -(261 + 624))) then v20("Explosive Shot");return true;end end end break;end if (v40==1) then if (v3(v24.BarbedShot) and (v16(v24.BarbedShot)<v23())) then v20("Barbed Shot");return true;end if v3(v24.Bloodshed) then if ((aura_env.config[tostring(v24.Bloodshed)]==true) and aura_env.FlagKTrigCD) then v21("Bloodshed");elseif (aura_env.config[tostring(v24.Bloodshed)]~=true) then local v58=0 -0 ;while true do if (v58==0) then v20("Bloodshed");return true;end end end end v40=1082 -(1020 + 60) ;end if ((1425 -(630 + 793))==v40) then if (v3(v24.Multishot) and  not WA_GetUnitBuff("pet",v24.BeastCleavePetBuff) and ( not IsPlayerSpell(v24.BloodyFrenzyTalent) or v7(v24.CallOfTheWild))) then local v50=0;while true do if (v50==(0 -0)) then v20("Multishot");return true;end end end if (v3(v24.ExplosiveShot) and (IsPlayerSpell(v24.ThunderingHoovesTalent))) then local v51=0 -0 ;while true do if (v51==(0 + 0)) then v20("Explosive Shot");return true;end end end v40=3;end if (v40==(0 -0)) then if v3(v24.KillShot) then local v52=1747 -(760 + 987) ;while true do if ((1913 -(1789 + 124))==v52) then v20("Kill Shot");return true;end end end if (v3(v24.BestialWrath) and ((v7(v24.CallOfTheWild)>20) or  not IsPlayerSpell(v24.CallOfTheWild))) then if ((aura_env.config[tostring(v24.BestialWrath)]==true) and aura_env.FlagKTrigCD) then v21("Bestial Wrath");elseif (aura_env.config[tostring(v24.BestialWrath)]~=true) then v20("Bestial Wrath");return true;end end v40=1;end if (v40==(769 -(745 + 21))) then if (v3(v24.BarbedShot) and (v14(v24.BarbedShot)>=v14(v24.KillCommand))) then v20("Barbed Shot");return true;end if v3(v24.KillCommand) then v20("Kill Command");return true;end v40=4;end end end;local v35=function() if v3(v24.KillShot) then local v44=0 + 0 ;while true do if (v44==(0 -0)) then v20("Kill Shot");return true;end end end if (v3(v24.BestialWrath) and ((v7(v24.CallOfTheWild)>(78 -58)) or  not IsPlayerSpell(v24.CallOfTheWild))) then if ((aura_env.config[tostring(v24.BestialWrath)]==true) and aura_env.FlagKTrigCD) then v21("Bestial Wrath");elseif (aura_env.config[tostring(v24.BestialWrath)]~=true) then local v54=0 + 0 ;while true do if (v54==(0 + 0)) then v20("Bestial Wrath");return true;end end end end if (v3(v24.BarbedShot) and (v16(v24.BarbedShot)<v23())) then v20("Barbed Shot");return true;end if v3(v24.Bloodshed) then if ((aura_env.config[tostring(v24.Bloodshed)]==true) and aura_env.FlagKTrigCD) then v21("Bloodshed");elseif (aura_env.config[tostring(v24.Bloodshed)]~=true) then v20("Bloodshed");return true;end end if v3(v24.KillCommand) then v20("Kill Command");return true;end if v3(v24.BarbedShot) then local v45=1055 -(87 + 968) ;while true do if (v45==(0 -0)) then v20("Barbed Shot");return true;end end end if v3(v24.CobraShot) then local v46=0 + 0 ;while true do if (v46==(0 -0)) then v20("Cobra Shot");return true;end end end end;local v36=function() local v41=1413 -(447 + 966) ;while true do if (v41==(5 -3)) then if (v3(v24.KillCommand) and  not v29 and (v14(v24.KillCommand)>=v14(v24.BarbedShot)) and  not ((v5("player",v24.LeadFromTheFrontBuff)>v23()) and (v5("player",v24.LeadFromTheFrontBuff)<(v23() * (1819 -(1703 + 114)))) and  not v29 and (v16(v24.KillCommand)>v23()))) then v20("Kill Command");return true;end if v3(v24.BarbedShot) then local v53=0;while true do if (v53==(701 -(376 + 325))) then v20("Barbed Shot");return true;end end end v41=3;end if (v41==3) then if v3(v24.CobraShot) then v20("Cobra Shot");return true;end break;end if (v41==0) then if (v3(v24.BestialWrath) and ((((v5("player",v24.HowlOfThePackLeaderCooldownBuff) -(18 -6))<(((36 -24)/max(1.5/(1 + 0 + ((0.01 -0) * UnitSpellHaste("player"))) ,14.75 -(9 + 5) )) * (376.5 -(85 + 291)))) and (v5("player",v24.HowlOfThePackLeaderCooldownBuff)>(1265 -(243 + 1022)))) or (v26<4))) then if ((aura_env.config[tostring(v24.BestialWrath)]==true) and aura_env.FlagKTrigCD) then v21("Bestial Wrath");elseif (aura_env.config[tostring(v24.BestialWrath)]~=true) then v20("Bestial Wrath");return true;end end if (v3(v24.BarbedShot) and (v16(v24.BarbedShot)<v23())) then v20("Barbed Shot");return true;end v41=1;end if (v41==(3 -2)) then if v3(v24.Bloodshed) then if ((aura_env.config[tostring(v24.Bloodshed)]==true) and aura_env.FlagKTrigCD) then v21("Bloodshed");elseif (aura_env.config[tostring(v24.Bloodshed)]~=true) then local v59=0;while true do if (v59==0) then v20("Bloodshed");return true;end end end end if (v3(v24.KillCommand) and v29 and (v14(v24.KillCommand)>=v14(v24.BarbedShot)) and  not ((v5("player",v24.LeadFromTheFrontBuff)>v23()) and (v5("player",v24.LeadFromTheFrontBuff)<(v23() * (2 + 0))) and  not v29 and (v16(v24.KillCommand)>v23()))) then if ((aura_env.config[tostring(v24.KillCommandSummon)]==true) and aura_env.FlagKTrigCD) then v21("Kill Command Summon");elseif (aura_env.config[tostring(v24.KillCommandSummon)]~=true) then local v60=1180 -(1123 + 57) ;while true do if (v60==(0 + 0)) then v20("Kill Command Summon");return true;end end end end v41=2;end end end;if (IsPlayerSpell(v24.BlackArrowTalent) and ((v30<(256 -(163 + 91))) or ( not IsPlayerSpell(v24.BeastCleaveTalent) and (v30<3)))) then if v35() then return true;end end if (IsPlayerSpell(v24.BlackArrowTalent) and ((v30>2) or (IsPlayerSpell(v24.BeastCleaveTalent) and (v30>1)))) then if v34() then return true;end end if ( not IsPlayerSpell(v24.BlackArrowTalent) and ((v30<(1932 -(1869 + 61))) or ( not IsPlayerSpell(v24.BeastCleaveTalent) and (v30<3)))) then if v36() then return true;end end if ( not IsPlayerSpell(v24.BlackArrowTalent) and ((v30>2) or (IsPlayerSpell(v24.BeastCleaveTalent) and (v30>(1 + 0))))) then if v33() then return true;end end v20("Clear");v21("Clear");end;