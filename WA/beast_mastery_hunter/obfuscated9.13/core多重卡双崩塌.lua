function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.FullGCD;local v24=aura_env.ids;aura_env.OutOfRange=false;local v26=WeakAuras.GetNumSetItemsEquipped(1923);local v27=UnitPower("player",Enum.PowerType.Focus);local v28=UnitPowerMax("player",Enum.PowerType.Focus);local v29=v11(v24.HowlBearBuff) or v11(v24.HowlBoarBuff) or v11(v24.HowlWyvernBuff) ;local v30=0 + 0 ;local v31=90 -50 ;for v37=1,40 do local v38="nameplate"   .. v37 ;if (UnitExists(v38) and  not UnitIsFriend("player",v38) and WeakAuras.CheckRange(v38,v31,"<=") and (UnitAffectingCombat(v38) or aura_env.config['BypassCombatRequirement'])) then v30=v30 + 1 ;end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v30);if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then local v47=0 -0 ;while true do if (v47==1) then v21("Clear",nil);return;end if (v47==0) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v20("Clear",nil);v47=1 + 0 ;end end end end local v32={};if ( not IsPlayerSpell(v24.BlackArrowTalent) and v3(v24.CallOfTheWild) and (v14(v24.BarbedShot)<(1 -0)) and  not v3(v24.BestialWrath)) then v32.CallOfTheWild=true;end if (IsPlayerSpell(v24.BlackArrowTalent) and v3(v24.CallOfTheWild) and  not v3(v24.Bloodshed) and v12(468572)) then v32.CallOfTheWild=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v32,nil);local v33=function() if (v3(v24.BestialWrath) and ((((v5("player",v24.HowlOfThePackLeaderCooldownBuff) -12)<(((12 + 0)/max((792.5 -(368 + 423))/((3 -2) + ((18.01 -(10 + 8)) * UnitSpellHaste("player"))) ,0.75 -0 )) * (442.5 -(416 + 26)))) and (v5("player",v24.HowlOfThePackLeaderCooldownBuff)>(0 -0))) or (v26<(2 + 2)) or false)) then if ((aura_env.config[tostring(v24.BestialWrath)]==true) and aura_env.FlagKTrigCD) then v21("Bestial Wrath");elseif (aura_env.config[tostring(v24.BestialWrath)]~=true) then local v57=0 -0 ;while true do if (v57==0) then v20("Bestial Wrath");return true;end end end end if (v3(v24.BarbedShot) and ((v16(v24.BarbedShot)<v23()) or (v14(v24.BarbedShot)>=v14(v24.KillCommand)) or (IsPlayerSpell(v24.CallOfTheWild) and v3(v24.CallOfTheWild)) or (v29 and (v16(v24.BarbedShot)<(446 -(145 + 293)))))) then local v44=430 -(44 + 386) ;while true do if (v44==0) then v20("Barbed Shot");return true;end end end if v3(v24.Bloodshed) then if ((aura_env.config[tostring(v24.Bloodshed)]==true) and aura_env.FlagKTrigCD) then v21("Bloodshed");elseif (aura_env.config[tostring(v24.Bloodshed)]~=true) then local v58=0;while true do if (v58==(1486 -(998 + 488))) then v20("Bloodshed");return true;end end end end if (v3(v24.Multishot) and  not WA_GetUnitBuff("pet",v24.BeastCleavePetBuff) and ( not IsPlayerSpell(v24.BloodyFrenzyTalent) or (v7(v24.CallOfTheWild)>(0 + 0)))) then v20("Multishot");return true;end if (v3(v24.ExplosiveShot) and (IsPlayerSpell(v24.ThunderingHoovesTalent))) then local v45=0 + 0 ;while true do if (v45==0) then v20("Explosive Shot");return true;end end end if (v3(v24.KillCommandSummon) and v29) then if ((aura_env.config[tostring(v24.KillCommandSummon)]==true) and aura_env.FlagKTrigCD) then v21("Kill Command Summon");elseif (aura_env.config[tostring(v24.KillCommandSummon)]~=true) then local v59=772 -(201 + 571) ;while true do if (v59==0) then v20("Kill Command Summon");return true;end end end end if (v3(v24.KillCommand) and  not v29) then v20("Kill Command");return true;end if (v3(v24.CobraShot) and ((((v28-v27)/GetPowerRegen())<(v23() * (1140 -(116 + 1022)))) or (v9(v24.HogstriderBuff)>(12 -9)) or  not IsPlayerSpell(v24.Multishot))) then local v46=0;while true do if (v46==(0 + 0)) then v20("Cobra Shot");return true;end end end end;local v34=function() local v39=0 -0 ;while true do if (v39==(7 -5)) then if (v3(v24.Multishot) and  not WA_GetUnitBuff("pet",v24.BeastCleavePetBuff) and ( not IsPlayerSpell(v24.BloodyFrenzyTalent) or v7(v24.CallOfTheWild))) then local v48=0;while true do if (v48==0) then v20("Multishot");return true;end end end if (v3(v24.ExplosiveShot) and (IsPlayerSpell(v24.ThunderingHoovesTalent))) then v20("Explosive Shot");return true;end v39=862 -(814 + 45) ;end if (1==v39) then if (v3(v24.BarbedShot) and (v16(v24.BarbedShot)<v23())) then v20("Barbed Shot");return true;end if v3(v24.Bloodshed) then if ((aura_env.config[tostring(v24.Bloodshed)]==true) and aura_env.FlagKTrigCD) then v21("Bloodshed");elseif (aura_env.config[tostring(v24.Bloodshed)]~=true) then v20("Bloodshed");return true;end end v39=4 -2 ;end if (v39==4) then if (v3(v24.CobraShot) and (((v28-v27)/GetPowerRegen())<(v23() * (1 + 1)))) then v20("Cobra Shot");return true;end if v3(v24.ExplosiveShot) then local v49=0 + 0 ;while true do if (v49==(885 -(261 + 624))) then v20("Explosive Shot");return true;end end end break;end if (v39==0) then if v3(v24.KillShot) then v20("Kill Shot");return true;end if (v3(v24.BestialWrath) and ((v7(v24.CallOfTheWild)>20) or  not IsPlayerSpell(v24.CallOfTheWild))) then if ((aura_env.config[tostring(v24.BestialWrath)]==true) and aura_env.FlagKTrigCD) then v21("Bestial Wrath");elseif (aura_env.config[tostring(v24.BestialWrath)]~=true) then v20("Bestial Wrath");return true;end end v39=1 -0 ;end if (v39==(1083 -(1020 + 60))) then if (v3(v24.BarbedShot) and (v14(v24.BarbedShot)>=v14(v24.KillCommand))) then v20("Barbed Shot");return true;end if v3(v24.KillCommand) then local v50=0;while true do if (v50==(1423 -(630 + 793))) then v20("Kill Command");return true;end end end v39=13 -9 ;end end end;local v35=function() local v40=0;while true do if (v40==(0 -0)) then if v3(v24.KillShot) then v20("Kill Shot");return true;end if (v3(v24.BestialWrath) and ((v7(v24.CallOfTheWild)>(8 + 12)) or  not IsPlayerSpell(v24.CallOfTheWild))) then if ((aura_env.config[tostring(v24.BestialWrath)]==true) and aura_env.FlagKTrigCD) then v21("Bestial Wrath");elseif (aura_env.config[tostring(v24.BestialWrath)]~=true) then v20("Bestial Wrath");return true;end end v40=3 -2 ;end if (v40==(1749 -(760 + 987))) then if v3(v24.KillCommand) then local v51=1913 -(1789 + 124) ;while true do if (v51==(766 -(745 + 21))) then v20("Kill Command");return true;end end end if v3(v24.BarbedShot) then local v52=0;while true do if (v52==(0 + 0)) then v20("Barbed Shot");return true;end end end v40=7 -4 ;end if (v40==(3 -2)) then if (v3(v24.BarbedShot) and (v16(v24.BarbedShot)<v23())) then local v53=0 + 0 ;while true do if (v53==0) then v20("Barbed Shot");return true;end end end if v3(v24.Bloodshed) then if ((aura_env.config[tostring(v24.Bloodshed)]==true) and aura_env.FlagKTrigCD) then v21("Bloodshed");elseif (aura_env.config[tostring(v24.Bloodshed)]~=true) then v20("Bloodshed");return true;end end v40=2 + 0 ;end if (v40==(1058 -(87 + 968))) then if v3(v24.CobraShot) then v20("Cobra Shot");return true;end break;end end end;local v36=function() local v41=0;while true do if (v41==(4 -3)) then if v3(v24.Bloodshed) then if ((aura_env.config[tostring(v24.Bloodshed)]==true) and aura_env.FlagKTrigCD) then v21("Bloodshed");elseif (aura_env.config[tostring(v24.Bloodshed)]~=true) then local v60=0 + 0 ;while true do if (v60==0) then v20("Bloodshed");return true;end end end end if (v3(v24.KillCommand) and v29 and (v14(v24.KillCommand)>=v14(v24.BarbedShot)) and  not ((v5("player",v24.LeadFromTheFrontBuff)>v23()) and (v5("player",v24.LeadFromTheFrontBuff)<(v23() * (4 -2))) and  not v29 and (v16(v24.KillCommand)>v23()))) then if ((aura_env.config[tostring(v24.KillCommandSummon)]==true) and aura_env.FlagKTrigCD) then v21("Kill Command Summon");elseif (aura_env.config[tostring(v24.KillCommandSummon)]~=true) then local v61=1413 -(447 + 966) ;while true do if (v61==0) then v20("Kill Command Summon");return true;end end end end v41=2;end if (v41==(5 -3)) then if (v3(v24.KillCommand) and  not v29 and (v14(v24.KillCommand)>=v14(v24.BarbedShot)) and  not ((v5("player",v24.LeadFromTheFrontBuff)>v23()) and (v5("player",v24.LeadFromTheFrontBuff)<(v23() * (1819 -(1703 + 114)))) and  not v29 and (v16(v24.KillCommand)>v23()))) then local v54=701 -(376 + 325) ;while true do if (0==v54) then v20("Kill Command");return true;end end end if v3(v24.BarbedShot) then local v55=0 -0 ;while true do if (v55==(0 -0)) then v20("Barbed Shot");return true;end end end v41=3;end if (v41==0) then if (v3(v24.BestialWrath) and ((((v5("player",v24.HowlOfThePackLeaderCooldownBuff) -(4 + 8))<((12/max(1.5/(1 + ((0.01 -0) * UnitSpellHaste("player"))) ,14.75 -(9 + 5) )) * (376.5 -(85 + 291)))) and (v5("player",v24.HowlOfThePackLeaderCooldownBuff)>(1265 -(243 + 1022)))) or (v26<(14 -10)))) then if ((aura_env.config[tostring(v24.BestialWrath)]==true) and aura_env.FlagKTrigCD) then v21("Bestial Wrath");elseif (aura_env.config[tostring(v24.BestialWrath)]~=true) then local v62=0 + 0 ;while true do if (v62==(1180 -(1123 + 57))) then v20("Bestial Wrath");return true;end end end end if (v3(v24.BarbedShot) and (v16(v24.BarbedShot)<v23())) then v20("Barbed Shot");return true;end v41=1 + 0 ;end if ((257 -(163 + 91))==v41) then if v3(v24.CobraShot) then local v56=0;while true do if ((1930 -(1869 + 61))==v56) then v20("Cobra Shot");return true;end end end break;end end end;if (IsPlayerSpell(v24.BlackArrowTalent) and ((v30<(1 + 1)) or ( not IsPlayerSpell(v24.BeastCleaveTalent) and (v30<(10 -7))))) then if v35() then return true;end end if (IsPlayerSpell(v24.BlackArrowTalent) and ((v30>2) or (IsPlayerSpell(v24.BeastCleaveTalent) and (v30>(1 -0))))) then if v34() then return true;end end if ( not IsPlayerSpell(v24.BlackArrowTalent) and ((v30<(1 + 1)) or ( not IsPlayerSpell(v24.BeastCleaveTalent) and (v30<(3 -0))))) then if v36() then return true;end end if ( not IsPlayerSpell(v24.BlackArrowTalent) and ((v30>2) or (IsPlayerSpell(v24.BeastCleaveTalent) and (v30>(1 + 0))))) then if v33() then return true;end end v20("Clear");v21("Clear");end;