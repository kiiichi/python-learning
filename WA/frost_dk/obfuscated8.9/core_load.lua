WeakAuras.WatchGCD();aura_env.DamageTaken={};aura_env.LastSec=355 -(87 + 263) ;aura_env.BasePercentage=180.25 -(67 + 113) ;aura_env.MinHealPercentage=0.07 + 0 ;aura_env.exclude={[243237]=true};aura_env.ids={AbominationLimb=383471 -(14 + 188) ,BreathOfSindragosa=1250333 -(534 + 141) ,ChainsOfIce=18302 + 27222 ,ChillStreak=270133 + 35259 ,DeathAndDecay=43265,EmpowerRuneWeapon=116787 -69219 ,FrostStrike=36143 + 13000 ,Frostscythe=823632 -616402 ,FrostwyrmsFury=280254 -(802 + 150) ,GlacialAdvance=524771 -329858 ,HornOfWinter=160813 -103483 ,HowlingBlast=49184,Obliterate=88920 -39900 ,PillarOfFrost=37320 + 13951 ,RaiseDead=29662 + 16923 ,ReapersMark=440840 -(915 + 82) ,RemorselessWinter=197166 -(115 + 281) ,SoulReaper=972062 -628768 ,AFeastOfSoulsTalent=367666 + 76406 ,ApocalypseNowTalent=258674 + 185366 ,ArcticAssaultTalent=600007 -143777 ,AvalancheTalent=208329 -(1069 + 118) ,BindInDarknessTalent=635748 -195717 ,BitingColdTalent=855430 -478374 ,BonegrinderTalent=377098,BreathOfSindragosaTalent=1249658,CleavingStrikesTalent=693244 -376328 ,ColdHeartTalent=48888 + 232320 ,DarkTalonsTalent=775904 -339217 ,EmpowerRuneWeaponTalent=47188 + 380 ,EnduringStrengthTalent=377190,FrigidExecutionerTalent=377864 -(368 + 423) ,FrostbaneTalent=1433039 -977046 ,FrostboundWillTalent=1238698 -(10 + 8) ,FrostwyrmsFuryTalent=1074400 -795098 ,FrozenDominionTalent=377226,GatheringStormTalent=195354 -(416 + 26) ,GlacialAdvanceTalent=734501 -539588 ,IcebreakerTalent=392950,IcyOnslaughtTalent=3928158 -2697886 ,IcyTalonsTalent=83633 + 111245 ,ImprovedDeathStrikeTalent=662258 -287981 ,KillingStreakTalent=1230591 -(145 + 293) ,ObliterationTalent=281668 -(44 + 386) ,RageOfTheFrozenChampionTalent=377317 -(187 + 54) ,ReaperOfSoulsTalent=440002,ReapersMarkTalent=441329 -(998 + 488) ,RidersChampionTalent=141057 + 302948 ,ShatteredFrostTalent=373377 + 82616 ,ShatteringBladeTalent=441590 -234533 ,SmotheringOffenseTalent=435777 -(201 + 571) ,TheLongWinterTalent=457378 -(116 + 1022) ,UnholyGroundTalent=374265,UnleashedFrenzyTalent=1569156 -1192251 ,WitherAwayTalent=259381 + 182513 ,AFeastOfSoulsBuff=139163 + 301698 ,BonegrinderFrostBuff=377103,BreathOfSindragosaBuff=4562114 -3312456 ,ColdHeartBuff=998597 -717388 ,DeathAndDecayBuff=189674 -(746 + 638) ,ExterminateBuff=442275 -(814 + 45) ,ExterminatePainfulDeathBuff=1103742 -655788 ,FrostbaneBuff=66241 + 1163069 ,FrostFeverDebuff=19468 + 35627 ,GatheringStormBuff=211805,IcyOnslaughtBuff=1231854 -(1535 + 46) ,IcyTalonsBuff=195764 -(261 + 624) ,KillingMachineBuff=50797 + 327 ,MograinesMightBuff=789928 -345423 ,PillarOfFrostBuff=52351 -(1020 + 60) ,RazoriceDebuff=53137 -(630 + 793) ,ReaperOfSoulsBuff=1589867 -1120695 ,ReapersMarkDebuff=2058507 -1623742 ,RemorselessWinterBuff1=77495 + 119275 ,RemorselessWinterBuff2=4245796 -3012644 ,RimeBuff=60799 -(760 + 987) ,UnholyStrengthBuff=55278 -(1789 + 124) ,UnleashedFrenzyBuff=377673 -(745 + 21) };aura_env.OutOfRange=false;aura_env.KTrig=function(v28,...) WeakAuras.ScanEvents("K_TRIGED",v28,...);WeakAuras.ScanEvents("K_OUT_OF_RANGE",aura_env.OutOfRange);if aura_env.FlagKTrigCD then WeakAuras.ScanEvents("K_TRIGED_CD","Clear",...);end aura_env.FlagKTrigCD=flase;end;aura_env.KTrigCD=function(v30,...) WeakAuras.ScanEvents("K_TRIGED_CD",v30,...);WeakAuras.ScanEvents("K_OUT_OF_RANGE",aura_env.OutOfRange);aura_env.FlagKTrigCD=false;end;aura_env.OffCooldown=function(v32) local v33=603 -(268 + 335) ;local v34;local v35;local v36;local v37;local v38;local v39;local v40;while true do if (v33==(291 -(60 + 230))) then v36=C_Spell.GetSpellCooldown(v32).duration;v37=(v36==nil) or (v36==(0 + 0)) or (v36==WeakAuras.gcdDuration()) ;if  not v37 then return false;end v38,v39=C_SpellBook.FindSpellBookSlotForSpell(v32);v33=5 -3 ;end if (v33==(0 -0)) then if (v32==nil) then local v111=a<b ;end if  not IsPlayerSpell(v32) then return false;end v34,v35=C_Spell.IsSpellUsable(v32);if  not v34 then return false;end v33=1 + 0 ;end if (v33==(2 + 0)) then v40=v38 and C_SpellBook.IsSpellBookItemInRange(v38,v39,"target") ;if (v40==false) then aura_env.OutOfRange=true;end return true;end end end;aura_env.IsCasting=function(v41) return select(1064 -(87 + 968) ,UnitCastingInfo("player"))==v41 ;end;aura_env.OffCooldownNotCasting=function(v42) return aura_env.OffCooldown(v42) and  not aura_env.IsCasting(v42) ;end;aura_env.GetStacks=function(v43,v44,v45) local v46,v46,v47=WA_GetUnitAura(v43,v44,v45);if (v47==nil) then v47=0 -0 ;end return v47;end;aura_env.GetPlayerStacks=function(v48) return aura_env.GetStacks("player",v48);end;aura_env.GetTargetStacks=function(v49) return aura_env.GetStacks("target",v49,"PLAYER|HARMFUL");end;aura_env.GetRemainingAuraDuration=function(v50,v51,v52) local v53=0 + 0 ;local v54;local v55;while true do if (v53==(6 -3)) then return v55-GetTime() ;end if (v53==(1415 -(447 + 966))) then v55=select(16 -10 ,WA_GetUnitAura(v50,v51,v52));if (v55==nil) then return 1817 -(1703 + 114) ;end v53=1254 -(721 + 530) ;end if (v53==1) then v54=WA_GetUnitAura(v50,v51,v52);if (v54==nil) then return 0;end v53=703 -(376 + 325) ;end if (v53==(0 -0)) then if (v51==nil) then local v113=a<b ;end if (v52==nil) then v52="PLAYER";end v53=1;end end end;aura_env.GetRemainingDebuffDuration=function(v56,v57) return aura_env.GetRemainingAuraDuration(v56,v57,"HARMFUL|PLAYER");end;aura_env.GetSpellChargesFractional=function(v58) local v59=0 -0 ;local v60;local v61;local v62;while true do if (v59==(702 -(271 + 429))) then return v61 + v62 ;end if (v59==(0 + 0)) then v60=C_Spell.GetSpellCharges(v58);v61=v60.currentCharges;v59=2 -1 ;end if ((15 -(9 + 5))==v59) then if (v60.cooldownStartTime==(376 -(85 + 291))) then return v61;end v62=(GetTime() -v60.cooldownStartTime)/v60.cooldownDuration ;v59=1267 -(243 + 1022) ;end end end;aura_env.GetTimeToNextCharge=function(v63) local v64=0 + 0 ;local v65;local v66;local v67;while true do if (v64==(1173 -(418 + 753))) then return v67;end if ((0 -0)==v64) then v65=C_Spell.GetSpellCharges(v63);v66=v65.maxCharges-v65.currentCharges ;v64=1 + 0 ;end if (v64==(1 + 0)) then if (v66==0) then return 0 + 0 ;end v67=(v65.cooldownStartTime + v65.cooldownDuration) -GetTime() ;v64=531 -(406 + 123) ;end end end;aura_env.GetTimeToFullCharges=function(v68) local v69=1180 -(1123 + 57) ;local v70;local v71;local v72;while true do if (v69==(1 + 1)) then if (v71>(1 + 0)) then v72=v72 + (v70.cooldownDuration * (v71-(255 -(163 + 91)))) ;end return v72;end if ((1931 -(1869 + 61))==v69) then if (v71==(0 + 0)) then return 0 -0 ;end v72=(v70.cooldownStartTime + v70.cooldownDuration) -GetTime() ;v69=6 -4 ;end if (v69==(0 -0)) then v70=C_Spell.GetSpellCharges(v68);v71=v70.maxCharges-v70.currentCharges ;v69=1 + 0 ;end end end;aura_env.TargetTimeToXPct=function(v73,v74) if (v74==nil) then local v103=a<b ;end if (HeroLib==nil) then return v74;end return HeroLib.Unit.Target:TimeToX(v73);end;aura_env.FightRemains=function(v75,v76) if (v75==nil) then local v104=a<b ;end if (HeroLib==nil) then return v75;end return HeroLib.FightRemains(HeroLib.Unit.Player:GetEnemiesInRange(v76));end;aura_env.IsAuraRefreshable=function(v77,v78) local v79="";if (v78==nil) then local v105=0 -0 ;while true do if (v105==(0 + 0)) then v78="target";v79="HARMFUL|PLAYER";break;end end end local v80,v80,v80,v80,v81,v82=WA_GetUnitAura(v78,v77,v79);if (v81==nil) then return true;end local v83=v82-GetTime() ;return (v83/v81)<(1474.3 -(1329 + 145)) ;end;aura_env.GetRemainingSpellCooldown=function(v84) if (v84==nil) then local v106=a<b ;end local v85=C_Spell.GetSpellCharges(v84);if (v85 and (C_Spell.GetSpellCharges(v84).currentCharges>=(972 -(140 + 831)))) then return 0 + 0 ;end local v86=C_Spell.GetSpellCooldown(v84);local v87=(v86.startTime + v86.duration) -GetTime() ;if ((v86.duration==(1850 -(1409 + 441))) or (v86.duration==WeakAuras.gcdDuration())) then v87=718 -(15 + 703) ;end return v87;end;aura_env.CalcDeathStrikeHeal=function() local v88=2 -1 ;local v89=GetTime();local v90=0;while aura_env.DamageTaken[v88] do local v100=114 -(4 + 110) ;local v101;local v102;while true do if (v100==(584 -(57 + 527))) then v101=aura_env.DamageTaken[v88][1 + 0 ];v102=aura_env.DamageTaken[v88][440 -(262 + 176) ];v100=104 -(17 + 86) ;end if (v100==(1722 -(345 + 1376))) then if (v89>(v101 + aura_env.LastSec)) then table.remove(aura_env.DamageTaken,v88);else local v114=688 -(198 + 490) ;while true do if (v114==(0 -0)) then v90=v90 + v102 ;v88=v88 + (2 -1) ;break;end end end break;end end end local v91=aura_env.BasePercentage;local v92=aura_env.MinHealPercentage;if IsPlayerSpell(aura_env.ids.ImprovedDeathStrikeTalent) then v91=v91 * 1.05 ;v92=v92 * 1.05 ;end local v93=(1207 -(696 + 510)) + ((GetCombatRatingBonus(60 -31 ) + GetVersatilityBonus(25 + 5 ))/(15 + 85)) ;local v94=1 + ((select(16,WA_GetUnitBuff("player",49050 -(1091 + 171) )) or (0 + 0))/(314 -214)) ;local v95=1 + ((0.04 -0) * (select(1260 -(1043 + 214) ,WA_GetUnitBuff("player",245152 -180308 )) or (374 -(123 + 251)))) ;local v96=v90 * v91 ;local v97=v96/UnitHealthMax("player") ;v97=math.max(v92,v97);v97=v97 * v93 * v94 * v95 ;v96=v97 * UnitHealthMax("player") ;return v96;end;aura_env.HasBloodlust=function() return WA_GetUnitBuff("player",14037 -11212 ) or WA_GetUnitBuff("player",265365 -(208 + 490) ) or WA_GetUnitBuff("player",80673 -(53 + 267) ) or WA_GetUnitBuff("player",2716 + 29466 ) or WA_GetUnitBuff("player",173896 + 216490 ) or WA_GetUnitBuff("player",386953 -(15 + 398) ) ;end;aura_env.PlayerHasBuff=function(v98) return WA_GetUnitBuff("player",v98)~=nil ;end;aura_env.TargetHasDebuff=function(v99) return WA_GetUnitDebuff("target",v99,"PLAYER|HARMFUL")~=nil ;end;