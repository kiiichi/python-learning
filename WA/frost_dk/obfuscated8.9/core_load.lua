WeakAuras.WatchGCD();aura_env.DamageTaken={};aura_env.LastSec=591 -(103 + 483) ;aura_env.BasePercentage=0.25;aura_env.MinHealPercentage=235.07 -(23 + 212) ;aura_env.exclude={[98749 + 144488 ]=true};aura_env.ids={AbominationLimb=385115 -(1228 + 618) ,BreathOfSindragosa=2517159 -1267501 ,ChainsOfIce=45524,ChillStreak=1213776 -908384 ,DeathAndDecay=44217 -(802 + 150) ,EmpowerRuneWeapon=47568,FrostStrike=132309 -83166 ,Frostscythe=375907 -168677 ,FrostwyrmsFury=203301 + 76001 ,GlacialAdvance=195910 -(915 + 82) ,HornOfWinter=162334 -105004 ,HowlingBlast=28652 + 20532 ,Obliterate=49020,PillarOfFrost=67428 -16157 ,RaiseDead=46585,ReapersMark=439843,RemorselessWinter=197957 -(1069 + 118) ,SoulReaper=778834 -435540 ,AFeastOfSoulsTalent=444072,ApocalypseNowTalent=444040,ArcticAssaultTalent=456230,AvalancheTalent=453117 -245975 ,BindInDarknessTalent=440031,BitingColdTalent=65551 + 311505 ,BonegrinderTalent=670027 -292929 ,BreathOfSindragosaTalent=1249658,CleavingStrikesTalent=314381 + 2535 ,ColdHeartTalent=281999 -(368 + 423) ,DarkTalonsTalent=436687,EmpowerRuneWeaponTalent=47568,EnduringStrengthTalent=377190,FrigidExecutionerTalent=1185019 -807946 ,FrostbaneTalent=455993,FrostboundWillTalent=1238698 -(10 + 8) ,FrostwyrmsFuryTalent=1074400 -795098 ,FrozenDominionTalent=377668 -(416 + 26) ,GatheringStormTalent=622338 -427426 ,GlacialAdvanceTalent=83648 + 111265 ,IcebreakerTalent=695298 -302348 ,IcyOnslaughtTalent=1230272,IcyTalonsTalent=195316 -(145 + 293) ,ImprovedDeathStrikeTalent=374277,KillingStreakTalent=1230583 -(44 + 386) ,ObliterationTalent=282724 -(998 + 488) ,RageOfTheFrozenChampionTalent=119795 + 257281 ,ReaperOfSoulsTalent=360283 + 79719 ,ReapersMarkTalent=440615 -(201 + 571) ,RidersChampionTalent=445143 -(116 + 1022) ,ShatteredFrostTalent=1898420 -1442427 ,ShatteringBladeTalent=121538 + 85519 ,SmotheringOffenseTalent=1588068 -1153063 ,TheLongWinterTalent=1620148 -1163908 ,UnholyGroundTalent=374265,UnleashedFrenzyTalent=377764 -(814 + 45) ,WitherAwayTalent=1088811 -646917 ,AFeastOfSoulsBuff=440861,BonegrinderFrostBuff=20321 + 356782 ,BreathOfSindragosaBuff=441551 + 808107 ,ColdHeartBuff=282094 -(261 + 624) ,DeathAndDecayBuff=334609 -146319 ,ExterminateBuff=441416,ExterminatePainfulDeathBuff=449034 -(1020 + 60) ,FrostbaneBuff=1229310,FrostFeverDebuff=55095,GatheringStormBuff=213228 -(630 + 793) ,IcyOnslaughtBuff=4168985 -2938712 ,IcyTalonsBuff=922704 -727825 ,KillingMachineBuff=20135 + 30989 ,MograinesMightBuff=444505,PillarOfFrostBuff=51271,RazoriceDebuff=51714,ReaperOfSoulsBuff=1615379 -1146207 ,ReapersMarkDebuff=434765,RemorselessWinterBuff=196770,RimeBuff=60799 -(760 + 987) ,UnholyStrengthBuff=55278 -(1789 + 124) ,UnleashedFrenzyBuff=376907};aura_env.OutOfRange=false;aura_env.KTrig=function(v28,...) local v29=766 -(745 + 21) ;while true do if (v29==(1 + 0)) then if aura_env.FlagKTrigCD then WeakAuras.ScanEvents("K_TRIGED_CD","Clear",...);end aura_env.FlagKTrigCD=flase;break;end if (v29==(0 -0)) then WeakAuras.ScanEvents("K_TRIGED",v28,...);WeakAuras.ScanEvents("K_OUT_OF_RANGE",aura_env.OutOfRange);v29=3 -2 ;end end end;aura_env.KTrigCD=function(v30,...) local v31=0 + 0 ;while true do if (v31==(0 + 0)) then WeakAuras.ScanEvents("K_TRIGED_CD",v30,...);WeakAuras.ScanEvents("K_OUT_OF_RANGE",aura_env.OutOfRange);v31=1056 -(87 + 968) ;end if (v31==(4 -3)) then aura_env.FlagKTrigCD=false;break;end end end;aura_env.OffCooldown=function(v32) if (v32==nil) then local v102=a<b ;end if  not IsPlayerSpell(v32) then return false;end local v33,v34=C_Spell.IsSpellUsable(v32);if  not v33 then return false;end local v35=C_Spell.GetSpellCooldown(v32).duration;local v36=(v35==nil) or (v35==(0 + 0)) or (v35==WeakAuras.gcdDuration()) ;if  not v36 then return false;end local v37,v38=C_SpellBook.FindSpellBookSlotForSpell(v32);local v39=v37 and C_SpellBook.IsSpellBookItemInRange(v37,v38,"target") ;if (v39==false) then aura_env.OutOfRange=true;end return true;end;aura_env.IsCasting=function(v40) return select(19 -10 ,UnitCastingInfo("player"))==v40 ;end;aura_env.OffCooldownNotCasting=function(v41) return aura_env.OffCooldown(v41) and  not aura_env.IsCasting(v41) ;end;aura_env.GetStacks=function(v42,v43,v44) local v45=0;local v46;local v47;while true do if ((1414 -(447 + 966))==v45) then return v47;end if (v45==(0 -0)) then v46,v46,v47=WA_GetUnitAura(v42,v43,v44);if (v47==nil) then v47=0;end v45=1;end end end;aura_env.GetPlayerStacks=function(v48) return aura_env.GetStacks("player",v48);end;aura_env.GetTargetStacks=function(v49) return aura_env.GetStacks("target",v49,"PLAYER|HARMFUL");end;aura_env.GetRemainingAuraDuration=function(v50,v51,v52) local v53=1817 -(1703 + 114) ;local v54;local v55;while true do if (v53==1) then v54=WA_GetUnitAura(v50,v51,v52);if (v54==nil) then return 701 -(376 + 325) ;end v53=2;end if (v53==0) then if (v51==nil) then local v109=a<b ;end if (v52==nil) then v52="PLAYER";end v53=1 -0 ;end if (v53==3) then return v55-GetTime() ;end if (v53==2) then v55=select(18 -12 ,WA_GetUnitAura(v50,v51,v52));if (v55==nil) then return 0 + 0 ;end v53=6 -3 ;end end end;aura_env.GetRemainingDebuffDuration=function(v56,v57) return aura_env.GetRemainingAuraDuration(v56,v57,"HARMFUL|PLAYER");end;aura_env.GetSpellChargesFractional=function(v58) local v59=C_Spell.GetSpellCharges(v58);local v60=v59.currentCharges;if (v59.cooldownStartTime==(14 -(9 + 5))) then return v60;end local v61=(GetTime() -v59.cooldownStartTime)/v59.cooldownDuration ;return v60 + v61 ;end;aura_env.GetTimeToNextCharge=function(v62) local v63=C_Spell.GetSpellCharges(v62);local v64=v63.maxCharges-v63.currentCharges ;if (v64==(376 -(85 + 291))) then return 1265 -(243 + 1022) ;end local v65=(v63.cooldownStartTime + v63.cooldownDuration) -GetTime() ;return v65;end;aura_env.GetTimeToFullCharges=function(v66) local v67=0;local v68;local v69;local v70;while true do if (v67==2) then if (v69>(3 -2)) then v70=v70 + (v68.cooldownDuration * (v69-(1 + 0))) ;end return v70;end if (v67==(1181 -(1123 + 57))) then if (v69==0) then return 0 + 0 ;end v70=(v68.cooldownStartTime + v68.cooldownDuration) -GetTime() ;v67=256 -(163 + 91) ;end if (v67==(1930 -(1869 + 61))) then v68=C_Spell.GetSpellCharges(v66);v69=v68.maxCharges-v68.currentCharges ;v67=1 + 0 ;end end end;aura_env.TargetTimeToXPct=function(v71,v72) if (v72==nil) then local v104=a<b ;end if (HeroLib==nil) then return v72;end return HeroLib.Unit.Target:TimeToX(v71);end;aura_env.FightRemains=function(v73,v74) local v75=0;while true do if (v75==(3 -2)) then return HeroLib.FightRemains(HeroLib.Unit.Player:GetEnemiesInRange(v74));end if (0==v75) then if (v73==nil) then local v110=a<b ;end if (HeroLib==nil) then return v73;end v75=1 -0 ;end end end;aura_env.IsAuraRefreshable=function(v76,v77) local v78=0 + 0 ;local v79;local v80;local v81;local v82;local v83;while true do if (v78==(2 -0)) then v83=v82-GetTime() ;return (v83/v81)<(0.3 + 0) ;end if ((1475 -(1329 + 145))==v78) then v80,v80,v80,v80,v81,v82=WA_GetUnitAura(v77,v76,v79);if (v81==nil) then return true;end v78=2;end if (v78==(971 -(140 + 831))) then v79="";if (v77==nil) then local v111=0;while true do if (v111==0) then v77="target";v79="HARMFUL|PLAYER";break;end end end v78=1851 -(1409 + 441) ;end end end;aura_env.GetRemainingSpellCooldown=function(v84) if (v84==nil) then local v105=a<b ;end local v85=C_Spell.GetSpellCharges(v84);if (v85 and (C_Spell.GetSpellCharges(v84).currentCharges>=(719 -(15 + 703)))) then return 0 + 0 ;end local v86=C_Spell.GetSpellCooldown(v84);local v87=(v86.startTime + v86.duration) -GetTime() ;if ((v86.duration==(438 -(262 + 176))) or (v86.duration==WeakAuras.gcdDuration())) then v87=1721 -(345 + 1376) ;end return v87;end;aura_env.CalcDeathStrikeHeal=function() local v88=1;local v89=GetTime();local v90=0;while aura_env.DamageTaken[v88] do local v100=aura_env.DamageTaken[v88][689 -(198 + 490) ];local v101=aura_env.DamageTaken[v88][8 -6 ];if (v89>(v100 + aura_env.LastSec)) then table.remove(aura_env.DamageTaken,v88);else v90=v90 + v101 ;v88=v88 + (2 -1) ;end end local v91=aura_env.BasePercentage;local v92=aura_env.MinHealPercentage;if IsPlayerSpell(aura_env.ids.ImprovedDeathStrikeTalent) then local v106=0;while true do if (v106==(1206 -(696 + 510))) then v91=v91 * (1.05 -0) ;v92=v92 * (1263.05 -(1091 + 171)) ;break;end end end local v93=1 + 0 + ((GetCombatRatingBonus(91 -62 ) + GetVersatilityBonus(30))/100) ;local v94=(3 -2) + ((select(390 -(123 + 251) ,WA_GetUnitBuff("player",237456 -189668 )) or 0)/(798 -(208 + 490))) ;local v95=1 + (0.04 * (select(1 + 2 ,WA_GetUnitBuff("player",64844)) or (0 + 0))) ;local v96=v90 * v91 ;local v97=v96/UnitHealthMax("player") ;v97=math.max(v92,v97);v97=v97 * v93 * v94 * v95 ;v96=v97 * UnitHealthMax("player") ;return v96;end;aura_env.HasBloodlust=function() return WA_GetUnitBuff("player",3661 -(660 + 176) ) or WA_GetUnitBuff("player",264667) or WA_GetUnitBuff("player",9654 + 70699 ) or WA_GetUnitBuff("player",32384 -(14 + 188) ) or WA_GetUnitBuff("player",391061 -(534 + 141) ) or WA_GetUnitBuff("player",155396 + 231144 ) ;end;aura_env.PlayerHasBuff=function(v98) return WA_GetUnitBuff("player",v98)~=nil ;end;aura_env.TargetHasDebuff=function(v99) return WA_GetUnitDebuff("target",v99,"PLAYER|HARMFUL")~=nil ;end;