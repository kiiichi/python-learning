mage="TWW1_Mage_Frost_Frostfire"
source=default
spec=frost
level=80
race=dwarf
role=spell
position=ranged_back
talents=CAEAjd9IgsSkCmGQ8vOmZtyV7YGbmtZBzwYW8AwMz0YMzsMjBDzwMzMzMzMzMzMjZmZMzsMTzMLzCEAA0CAAAAAAsAAAAAAAAA

# Default consumables
potion=tempered_potion_3
flask=flask_of_alchemical_chaos_3
food=feast_of_the_midnight_masquerade
augmentation=crystallized
temporary_enchant=main_hand:algari_mana_oil_3

# This default action priority list is automatically created based on your character.
# It is a attempt to provide you with a action list that is both simple and practicable,
# while resulting in a meaningful and good simulation. It may not result in the absolutely highest possible dps.
# Feel free to edit, adapt and improve it to your own needs.
# SimulationCraft is always looking for updates and improvements to the default action lists.

# Executed before combat begins. Accepts non-harmful actions only.
actions.precombat=arcane_intellect
actions.precombat+=/snapshot_stats
actions.precombat+=/variable,name=boltspam,value=talent.splinterstorm&talent.cold_front&talent.slick_ice&talent.deaths_chill&talent.frozen_touch|talent.frostfire_bolt&talent.deep_shatter&talent.slick_ice&talent.deaths_chill
actions.precombat+=/variable,name=treacherous_transmitter_precombat_cast,value=12*!variable.boltspam
actions.precombat+=/use_item,name=treacherous_transmitter
actions.precombat+=/blizzard,if=active_enemies>=3
actions.precombat+=/frostbolt,if=active_enemies<=2

# Executed every time the actor is available.
actions=counterspell
actions+=/call_action_list,name=cds
actions+=/run_action_list,name=aoe_ff,if=talent.frostfire_bolt&active_enemies>=3
actions+=/run_action_list,name=aoe_ss,if=active_enemies>=3
actions+=/run_action_list,name=cleave_ff,if=talent.frostfire_bolt&active_enemies=2
actions+=/run_action_list,name=cleave_ss,if=active_enemies=2
actions+=/run_action_list,name=st_ff,if=talent.frostfire_bolt
actions+=/run_action_list,name=st_ss

actions.aoe_ff=cone_of_cold,if=talent.coldest_snap&prev_gcd.1.comet_storm
actions.aoe_ff+=/frostfire_bolt,if=talent.deaths_chill&buff.icy_veins.remains>9&(buff.deaths_chill.stack<9|buff.deaths_chill.stack=9&!action.frostfire_bolt.in_flight)
actions.aoe_ff+=/freeze,if=freezable&(prev_gcd.1.glacial_spike|prev_gcd.1.comet_storm&cooldown.cone_of_cold.remains&!prev_gcd.2.cone_of_cold)
actions.aoe_ff+=/ice_nova,if=freezable&(prev_gcd.1.glacial_spike&remaining_winters_chill=0&debuff.winters_chill.down|prev_gcd.1.comet_storm&cooldown.cone_of_cold.remains&!prev_gcd.2.cone_of_cold)&!prev_off_gcd.freeze
actions.aoe_ff+=/frozen_orb,if=!prev_gcd.1.cone_of_cold
actions.aoe_ff+=/comet_storm,if=cooldown.cone_of_cold.remains>6|cooldown.cone_of_cold.ready
actions.aoe_ff+=/flurry,if=cooldown_react&remaining_winters_chill=0&(buff.excess_frost.react&cooldown.comet_storm.remains>5|prev_gcd.1.glacial_spike)
actions.aoe_ff+=/blizzard,if=talent.ice_caller
actions.aoe_ff+=/ray_of_frost,if=talent.splintering_ray&remaining_winters_chill=2
actions.aoe_ff+=/shifting_power,if=cooldown.icy_veins.remains>10&(fight_remains+10>cooldown.icy_veins.remains)
actions.aoe_ff+=/frostfire_bolt,if=buff.frostfire_empowerment.react&!buff.excess_frost.react&!buff.excess_fire.react
actions.aoe_ff+=/glacial_spike,if=(active_enemies<=6|!talent.ice_caller)&buff.icicles.react=5
actions.aoe_ff+=/ice_lance,if=buff.fingers_of_frost.react|remaining_winters_chill
actions.aoe_ff+=/flurry,if=cooldown_react&remaining_winters_chill=0
actions.aoe_ff+=/frostfire_bolt
actions.aoe_ff+=/call_action_list,name=movement

actions.aoe_ss=cone_of_cold,if=talent.coldest_snap&!action.frozen_orb.cooldown_react&(prev_gcd.1.comet_storm|prev_gcd.1.frozen_orb&cooldown.comet_storm.remains>5)&(!talent.deaths_chill|buff.icy_veins.remains<9|buff.deaths_chill.stack>=12)
actions.aoe_ss+=/freeze,if=freezable&prev_gcd.1.glacial_spike
actions.aoe_ss+=/flurry,if=cooldown_react&remaining_winters_chill=0&prev_gcd.1.glacial_spike
actions.aoe_ss+=/ice_nova,if=active_enemies<5&freezable&prev_gcd.1.glacial_spike&remaining_winters_chill=0&debuff.winters_chill.down|active_enemies>=5&time-action.cone_of_cold.last_used<6&time-action.cone_of_cold.last_used>6-gcd.max
actions.aoe_ss+=/frozen_orb,if=cooldown_react
actions.aoe_ss+=/frostbolt,if=talent.deaths_chill&buff.icy_veins.remains>9&(buff.deaths_chill.stack<9|buff.deaths_chill.stack=9&!action.frostbolt.in_flight)
actions.aoe_ss+=/comet_storm
actions.aoe_ss+=/ray_of_frost,if=talent.splintering_ray&prev_gcd.1.flurry
actions.aoe_ss+=/blizzard,if=talent.ice_caller|talent.freezing_rain|active_enemies>=5
actions.aoe_ss+=/shifting_power,if=cooldown.icy_veins.remains>10&(fight_remains+10>cooldown.icy_veins.remains)
actions.aoe_ss+=/glacial_spike,if=buff.icicles.react=5&(action.flurry.cooldown_react|remaining_winters_chill|active_enemies<5&freezable&cooldown.ice_nova.ready&!buff.fingers_of_frost.react)
actions.aoe_ss+=/ice_lance,if=buff.fingers_of_frost.react&!prev_gcd.1.glacial_spike|remaining_winters_chill
actions.aoe_ss+=/flurry,if=cooldown_react&remaining_winters_chill=0
actions.aoe_ss+=/frostbolt
actions.aoe_ss+=/call_action_list,name=movement

actions.cds=use_item,name=treacherous_transmitter,if=fight_remains<32+20*equipped.spymasters_web|prev_off_gcd.icy_veins|(!variable.boltspam|equipped.spymasters_web)&(cooldown.icy_veins.remains<12|cooldown.icy_veins.remains<22&cooldown.shifting_power.remains<10)
actions.cds+=/do_treacherous_transmitter_task,if=fight_remains<18|(buff.cryptic_instructions.remains<?buff.realigning_nexus_convergence_divergence.remains<?buff.errant_manaforge_emission.remains)<(action.shifting_power.execute_time+1*talent.ray_of_frost)
actions.cds+=/use_item,name=spymasters_web,if=fight_remains<20|buff.icy_veins.remains<19&(fight_remains<105|buff.spymasters_report.stack>=32)&(buff.icy_veins.remains>15|trinket.treacherous_transmitter.cooldown.remains>50)
actions.cds+=/use_item,name=imperfect_ascendancy_serum,if=buff.icy_veins.remains>15|fight_remains<20
actions.cds+=/use_item,name=burst_of_knowledge,if=buff.icy_veins.remains>15|fight_remains<20
actions.cds+=/potion,if=fight_remains<35|buff.icy_veins.remains>9&(fight_remains>315|cooldown.icy_veins.remains+12>fight_remains)
actions.cds+=/icy_veins,if=buff.icy_veins.remains<gcd.max*2
actions.cds+=/flurry,if=time=0&active_enemies<=2
actions.cds+=/use_items
actions.cds+=/invoke_external_buff,name=power_infusion,if=buff.power_infusion.down
actions.cds+=/invoke_external_buff,name=blessing_of_summer,if=buff.blessing_of_summer.down
actions.cds+=/blood_fury
actions.cds+=/berserking,if=buff.icy_veins.remains>9&buff.icy_veins.remains<15|fight_remains<15
actions.cds+=/fireblood
actions.cds+=/ancestral_call

actions.cleave_ff=comet_storm,if=prev_gcd.1.flurry
actions.cleave_ff+=/frostfire_bolt,if=talent.deaths_chill&buff.icy_veins.remains>9&(buff.deaths_chill.stack<6|buff.deaths_chill.stack=6&!action.frostfire_bolt.in_flight)
actions.cleave_ff+=/freeze,if=freezable&prev_gcd.1.glacial_spike
actions.cleave_ff+=/ice_nova,if=freezable&prev_gcd.1.glacial_spike&remaining_winters_chill=0&debuff.winters_chill.down&!prev_off_gcd.freeze
actions.cleave_ff+=/flurry,if=cooldown_react&remaining_winters_chill=0&debuff.winters_chill.down&(prev_gcd.1.glacial_spike|buff.icicles.react>=3|!talent.glacial_spike&prev_gcd.1.frostfire_bolt)&!prev_off_gcd.freeze
actions.cleave_ff+=/flurry,target_if=min:debuff.winters_chill.stack,if=cooldown_react&prev_gcd.1.glacial_spike&!prev_off_gcd.freeze
actions.cleave_ff+=/glacial_spike,if=buff.icicles.react=5
actions.cleave_ff+=/ray_of_frost,target_if=max:debuff.winters_chill.stack,if=remaining_winters_chill
actions.cleave_ff+=/frostfire_bolt,if=buff.frostfire_empowerment.react&!buff.excess_frost.react&!buff.excess_fire.react
actions.cleave_ff+=/frozen_orb,if=!buff.fingers_of_frost.react
actions.cleave_ff+=/shifting_power,if=cooldown.icy_veins.remains>10&cooldown.frozen_orb.remains>10&(!talent.comet_storm|cooldown.comet_storm.remains>10)&(!talent.ray_of_frost|cooldown.ray_of_frost.remains>10)&(fight_remains+10>cooldown.icy_veins.remains)
actions.cleave_ff+=/ice_lance,target_if=max:debuff.winters_chill.stack,if=buff.fingers_of_frost.react&(!prev_gcd.1.glacial_spike|remaining_winters_chill=0&debuff.winters_chill.down)|remaining_winters_chill&!variable.boltspam
actions.cleave_ff+=/frostfire_bolt
actions.cleave_ff+=/call_action_list,name=movement

actions.cleave_ss=comet_storm,if=prev_gcd.1.flurry&(buff.icy_veins.down)
actions.cleave_ss+=/freeze,if=freezable&prev_gcd.1.glacial_spike
actions.cleave_ss+=/flurry,if=cooldown_react&remaining_winters_chill=0&debuff.winters_chill.down&(prev_gcd.1.frostbolt|prev_gcd.1.glacial_spike)
actions.cleave_ss+=/flurry,target_if=min:debuff.winters_chill.stack,if=cooldown_react&prev_gcd.1.glacial_spike
actions.cleave_ss+=/ice_nova,if=freezable&!prev_off_gcd.freeze&prev_gcd.1.glacial_spike&remaining_winters_chill=0&debuff.winters_chill.down
actions.cleave_ss+=/frozen_orb,if=cooldown_react&(cooldown.icy_veins.remains>22|buff.icy_veins.up)
actions.cleave_ss+=/shifting_power,if=cooldown.icy_veins.remains>10&!action.flurry.cooldown_react&(buff.icy_veins.down|buff.icy_veins.remains>10)&(fight_remains+10>cooldown.icy_veins.remains)
actions.cleave_ss+=/glacial_spike,if=buff.icicles.react=5&(action.flurry.cooldown_react|remaining_winters_chill|freezable&cooldown.ice_nova.ready&!buff.fingers_of_frost.react)
actions.cleave_ss+=/ray_of_frost,if=remaining_winters_chill&buff.icy_veins.down
actions.cleave_ss+=/frostbolt,if=talent.deaths_chill&buff.icy_veins.remains>9&(buff.deaths_chill.stack<(8+4*talent.slick_ice)|buff.deaths_chill.stack=(8+4*talent.slick_ice)&!action.frostbolt.in_flight)
actions.cleave_ss+=/ice_lance,if=buff.fingers_of_frost.react&!prev_gcd.1.glacial_spike|!variable.boltspam&remaining_winters_chill
actions.cleave_ss+=/frostbolt
actions.cleave_ss+=/call_action_list,name=movement

actions.movement=any_blink,if=movement.distance>10
actions.movement+=/ice_floes,if=buff.ice_floes.down
actions.movement+=/ice_nova
actions.movement+=/cone_of_cold,if=!talent.coldest_snap&active_enemies>=2
actions.movement+=/arcane_explosion,if=mana.pct>30&active_enemies>=2
actions.movement+=/fire_blast
actions.movement+=/ice_lance

actions.st_ff=comet_storm,if=prev_gcd.1.flurry
actions.st_ff+=/flurry,if=variable.boltspam&cooldown_react&(buff.icicles.react<5|!talent.glacial_spike)&remaining_winters_chill=0
actions.st_ff+=/flurry,if=!variable.boltspam&cooldown_react&(buff.icicles.react<5|!talent.glacial_spike)&remaining_winters_chill=0&debuff.winters_chill.down&(prev_gcd.1.frostfire_bolt|prev_gcd.1.glacial_spike)
actions.st_ff+=/ice_lance,if=variable.boltspam&buff.excess_fire.react&!buff.brain_freeze.react
actions.st_ff+=/glacial_spike,if=buff.icicles.react=5
actions.st_ff+=/ray_of_frost,if=remaining_winters_chill&(!variable.boltspam|buff.icy_veins.remains<15)
actions.st_ff+=/frozen_orb,if=variable.boltspam&buff.icy_veins.down|!variable.boltspam&!buff.fingers_of_frost.react
actions.st_ff+=/shifting_power,if=(buff.icy_veins.down|!variable.boltspam)&cooldown.icy_veins.remains>10&cooldown.frozen_orb.remains>10&(!talent.comet_storm|cooldown.comet_storm.remains>10)&(!talent.ray_of_frost|cooldown.ray_of_frost.remains>10)&(fight_remains+10>cooldown.icy_veins.remains)
actions.st_ff+=/ice_lance,if=!variable.boltspam&(buff.fingers_of_frost.react&remaining_winters_chill=0&debuff.winters_chill.down|remaining_winters_chill)
actions.st_ff+=/frostfire_bolt
actions.st_ff+=/call_action_list,name=movement

actions.st_ss=comet_storm,if=prev_gcd.1.flurry&buff.icy_veins.down
actions.st_ss+=/flurry,if=cooldown_react&remaining_winters_chill=0&debuff.winters_chill.down&(prev_gcd.1.frostbolt|prev_gcd.1.glacial_spike)
actions.st_ss+=/frozen_orb,if=cooldown_react&(cooldown.icy_veins.remains>22|buff.icy_veins.up)
actions.st_ss+=/glacial_spike,if=buff.icicles.react=5&(action.flurry.cooldown_react|remaining_winters_chill|cooldown.flurry.remains<action.glacial_spike.execute_time&cooldown.flurry.remains>0)
actions.st_ss+=/ray_of_frost,if=variable.boltspam&remaining_winters_chill&buff.icy_veins.down
actions.st_ss+=/ray_of_frost,if=!variable.boltspam&remaining_winters_chill=1
actions.st_ss+=/shifting_power,if=cooldown.icy_veins.remains>10&!action.flurry.cooldown_react&(variable.boltspam|buff.icy_veins.down|buff.icy_veins.remains>10)&(fight_remains+10>cooldown.icy_veins.remains)
actions.st_ss+=/frostbolt,if=variable.boltspam&buff.icy_veins.remains>9&buff.deaths_chill.stack<8
actions.st_ss+=/ice_lance,if=variable.boltspam&(remaining_winters_chill=2|remaining_winters_chill&action.flurry.cooldown_react)
actions.st_ss+=/ice_lance,if=!variable.boltspam&(buff.fingers_of_frost.react&!prev_gcd.1.glacial_spike|remaining_winters_chill)
actions.st_ss+=/frostbolt
actions.st_ss+=/call_action_list,name=movement

head=hood_of_violet_rebirth,id=212092,ilevel=639,gem_id=213743
neck=sureki_zealots_insignia,id=225577,bonus_id=8781,ilevel=639,gem_id=213461/213461
shoulders=beacons_of_violet_rebirth,id=212090,ilevel=639
back=wings_of_shattered_sorrow,id=225574,bonus_id=1540/10299/10376,enchant_id=7415
chest=shadowed_orators_tunic,id=221095,bonus_id=4786/3131/10299,enchant_id=7364
wrists=consecrated_cuffs,id=222815,bonus_id=11109,ilevel=636,gem_id=213479,enchant_id=7397,crafted_stats=32/36
hands=jeweled_gauntlets_of_violet_rebirth,id=212093,ilevel=639
waist=sigil_of_violet_rebirth,id=212089,bonus_id=4800/4786/1540/10299/523,ilevel=639,gem_id=213482
legs=coattails_of_violet_rebirth,id=212091,ilevel=639,enchant_id=7534
feet=tainted_earthshard_walkers,id=221082,bonus_id=4786/3131/10299,ilevel=639,enchant_id=7418
finger1=seal_of_the_poisoned_pact,id=225578,ilevel=639,gem_id=213473/213509,enchant_id=7340
finger2=experiment_08752s_band,id=221189,ilevel=639,gem_id=213494/213455,enchant_id=7340
trinket1=candle_confidant,id=225648,bonus_id=40/6652/10256/3155/10255
trinket2=spymasters_web,id=220202,ilevel=639
main_hand=unceremonious_bloodletter,id=221165,bonus_id=4786/3131/10299,enchant_id=7460
off_hand=vagabonds_torch,id=222566,bonus_id=11300/8795,ilevel=636,crafted_stats=32/36

# Gear Summary
# gear_ilvl=637.81
# gear_stamina=236894
# gear_intellect=48553
# gear_crit_rating=12414
# gear_haste_rating=14599
# gear_mastery_rating=4213
# gear_versatility_rating=7538
# gear_speed_rating=1500
# gear_avoidance_rating=612
# gear_armor=16086
# set_bonus=thewarwithin_season_1_2pc=1
# set_bonus=thewarwithin_season_1_4pc=1



mage="TWW1_Mage_Frost_Frostfire_fixedddd"
source=default
spec=frost
level=80
race=dwarf
role=spell
position=ranged_back
talents=CAEAjd9IgsSkCmGQ8vOmZtyV7YGbmtZBzwYW8AwMz0YMzsMjBDzwMzMzMzMzMzMjZmZMzsMTzMLzCEAA0CAAAAAAsAAAAAAAAA

# Default consumables
potion=tempered_potion_3
flask=flask_of_alchemical_chaos_3
food=feast_of_the_midnight_masquerade
augmentation=crystallized
temporary_enchant=main_hand:algari_mana_oil_3

# This default action priority list is automatically created based on your character.
# It is a attempt to provide you with a action list that is both simple and practicable,
# while resulting in a meaningful and good simulation. It may not result in the absolutely highest possible dps.
# Feel free to edit, adapt and improve it to your own needs.
# SimulationCraft is always looking for updates and improvements to the default action lists.

# Executed before combat begins. Accepts non-harmful actions only.
actions.precombat=arcane_intellect
actions.precombat+=/snapshot_stats
actions.precombat+=/variable,name=boltspam,value=talent.splinterstorm&talent.cold_front&talent.slick_ice&talent.deaths_chill&talent.frozen_touch|talent.frostfire_bolt&talent.deep_shatter&talent.slick_ice&talent.deaths_chill
actions.precombat+=/variable,name=treacherous_transmitter_precombat_cast,value=12*!variable.boltspam
actions.precombat+=/use_item,name=treacherous_transmitter
actions.precombat+=/blizzard,if=active_enemies>=3
actions.precombat+=/frostbolt,if=active_enemies<=2

# Executed every time the actor is available.
actions=counterspell
actions+=/call_action_list,name=cds
actions+=/run_action_list,name=aoe_ff,if=talent.frostfire_bolt&active_enemies>=3
actions+=/run_action_list,name=aoe_ss,if=active_enemies>=3
actions+=/run_action_list,name=cleave_ff,if=talent.frostfire_bolt&active_enemies=2
actions+=/run_action_list,name=cleave_ss,if=active_enemies=2
actions+=/run_action_list,name=st_ff,if=talent.frostfire_bolt
actions+=/run_action_list,name=st_ss

actions.aoe_ff=cone_of_cold,if=talent.coldest_snap&prev_gcd.1.comet_storm
actions.aoe_ff+=/frostfire_bolt,if=talent.deaths_chill&buff.icy_veins.remains>9&(buff.deaths_chill.stack<9|buff.deaths_chill.stack=9&!action.frostfire_bolt.in_flight)
actions.aoe_ff+=/freeze,if=freezable&(prev_gcd.1.glacial_spike|prev_gcd.1.comet_storm&cooldown.cone_of_cold.remains&!prev_gcd.2.cone_of_cold)
actions.aoe_ff+=/ice_nova,if=freezable&(prev_gcd.1.glacial_spike&remaining_winters_chill=0&debuff.winters_chill.down|prev_gcd.1.comet_storm&cooldown.cone_of_cold.remains&!prev_gcd.2.cone_of_cold)&!prev_off_gcd.freeze
actions.aoe_ff+=/frozen_orb,if=!prev_gcd.1.cone_of_cold
actions.aoe_ff+=/comet_storm,if=cooldown.cone_of_cold.remains>6|cooldown.cone_of_cold.ready
actions.aoe_ff+=/flurry,if=cooldown_react&remaining_winters_chill=0&(buff.excess_frost.react&cooldown.comet_storm.remains>5|prev_gcd.1.glacial_spike)
actions.aoe_ff+=/blizzard,if=talent.ice_caller
actions.aoe_ff+=/ray_of_frost,if=talent.splintering_ray&remaining_winters_chill=2

# actions.aoe_ff+=/shifting_power,if=cooldown.icy_veins.remains>10&(fight_remains+10>cooldown.icy_veins.remains)
actions.aoe_ff+=/shifting_power,if=cooldown.icy_veins.remains>10&cooldown.frozen_orb.remains>10&(!talent.comet_storm|cooldown.comet_storm.remains>10)&((fight_remains+10>cooldown.icy_veins.remains)|(fight_remains+15>cooldown.frozen_orb.remains)|(talent.comet_storm&fight_remains+15>cooldown.comet_storm.remains))

actions.aoe_ff+=/frostfire_bolt,if=buff.frostfire_empowerment.react&!buff.excess_frost.react&!buff.excess_fire.react
actions.aoe_ff+=/glacial_spike,if=(active_enemies<=6|!talent.ice_caller)&buff.icicles.react=5
actions.aoe_ff+=/ice_lance,if=buff.fingers_of_frost.react|remaining_winters_chill
actions.aoe_ff+=/flurry,if=cooldown_react&remaining_winters_chill=0
actions.aoe_ff+=/frostfire_bolt
actions.aoe_ff+=/call_action_list,name=movement

actions.aoe_ss=cone_of_cold,if=talent.coldest_snap&!action.frozen_orb.cooldown_react&(prev_gcd.1.comet_storm|prev_gcd.1.frozen_orb&cooldown.comet_storm.remains>5)&(!talent.deaths_chill|buff.icy_veins.remains<9|buff.deaths_chill.stack>=12)
actions.aoe_ss+=/freeze,if=freezable&prev_gcd.1.glacial_spike
actions.aoe_ss+=/flurry,if=cooldown_react&remaining_winters_chill=0&prev_gcd.1.glacial_spike
actions.aoe_ss+=/ice_nova,if=active_enemies<5&freezable&prev_gcd.1.glacial_spike&remaining_winters_chill=0&debuff.winters_chill.down|active_enemies>=5&time-action.cone_of_cold.last_used<6&time-action.cone_of_cold.last_used>6-gcd.max
actions.aoe_ss+=/frozen_orb,if=cooldown_react
actions.aoe_ss+=/frostbolt,if=talent.deaths_chill&buff.icy_veins.remains>9&(buff.deaths_chill.stack<9|buff.deaths_chill.stack=9&!action.frostbolt.in_flight)
actions.aoe_ss+=/comet_storm
actions.aoe_ss+=/ray_of_frost,if=talent.splintering_ray&prev_gcd.1.flurry
actions.aoe_ss+=/blizzard,if=talent.ice_caller|talent.freezing_rain|active_enemies>=5

# actions.aoe_ss+=/shifting_power,if=cooldown.icy_veins.remains>10&(fight_remains+10>cooldown.icy_veins.remains)
actions.aoe_ss+=/shifting_power,if=cooldown.icy_veins.remains>10&&cooldown.frozen_orb.remains>10&(!talent.comet_storm|cooldown.comet_storm.remains>10)&((fight_remains+10>cooldown.icy_veins.remains)|(fight_remains+15>cooldown.frozen_orb.remains)|(talent.comet_storm&fight_remains+15>cooldown.comet_storm.remains))

actions.aoe_ss+=/glacial_spike,if=buff.icicles.react=5&(action.flurry.cooldown_react|remaining_winters_chill|active_enemies<5&freezable&cooldown.ice_nova.ready&!buff.fingers_of_frost.react)
actions.aoe_ss+=/ice_lance,if=buff.fingers_of_frost.react&!prev_gcd.1.glacial_spike|remaining_winters_chill
actions.aoe_ss+=/flurry,if=cooldown_react&remaining_winters_chill=0
actions.aoe_ss+=/frostbolt
actions.aoe_ss+=/call_action_list,name=movement

actions.cds=use_item,name=treacherous_transmitter,if=fight_remains<32+20*equipped.spymasters_web|prev_off_gcd.icy_veins|(!variable.boltspam|equipped.spymasters_web)&(cooldown.icy_veins.remains<12|cooldown.icy_veins.remains<22&cooldown.shifting_power.remains<10)
actions.cds+=/do_treacherous_transmitter_task,if=fight_remains<18|(buff.cryptic_instructions.remains<?buff.realigning_nexus_convergence_divergence.remains<?buff.errant_manaforge_emission.remains)<(action.shifting_power.execute_time+1*talent.ray_of_frost)
actions.cds+=/use_item,name=spymasters_web,if=fight_remains<20|buff.icy_veins.remains<19&(fight_remains<105|buff.spymasters_report.stack>=32)&(buff.icy_veins.remains>15|trinket.treacherous_transmitter.cooldown.remains>50)
actions.cds+=/use_item,name=imperfect_ascendancy_serum,if=buff.icy_veins.remains>15|fight_remains<20
actions.cds+=/use_item,name=burst_of_knowledge,if=buff.icy_veins.remains>15|fight_remains<20
actions.cds+=/potion,if=fight_remains<35|buff.icy_veins.remains>9&(fight_remains>315|cooldown.icy_veins.remains+12>fight_remains)
actions.cds+=/icy_veins,if=buff.icy_veins.remains<gcd.max*2
actions.cds+=/flurry,if=time=0&active_enemies<=2
actions.cds+=/use_items
actions.cds+=/invoke_external_buff,name=power_infusion,if=buff.power_infusion.down
actions.cds+=/invoke_external_buff,name=blessing_of_summer,if=buff.blessing_of_summer.down
actions.cds+=/blood_fury
actions.cds+=/berserking,if=buff.icy_veins.remains>9&buff.icy_veins.remains<15|fight_remains<15
actions.cds+=/fireblood
actions.cds+=/ancestral_call

actions.cleave_ff=comet_storm,if=prev_gcd.1.flurry
actions.cleave_ff+=/frostfire_bolt,if=talent.deaths_chill&buff.icy_veins.remains>9&(buff.deaths_chill.stack<6|buff.deaths_chill.stack=6&!action.frostfire_bolt.in_flight)
actions.cleave_ff+=/freeze,if=freezable&prev_gcd.1.glacial_spike
actions.cleave_ff+=/ice_nova,if=freezable&prev_gcd.1.glacial_spike&remaining_winters_chill=0&debuff.winters_chill.down&!prev_off_gcd.freeze
actions.cleave_ff+=/flurry,if=cooldown_react&remaining_winters_chill=0&debuff.winters_chill.down&(prev_gcd.1.glacial_spike|buff.icicles.react>=3|!talent.glacial_spike&prev_gcd.1.frostfire_bolt)&!prev_off_gcd.freeze
actions.cleave_ff+=/flurry,target_if=min:debuff.winters_chill.stack,if=cooldown_react&prev_gcd.1.glacial_spike&!prev_off_gcd.freeze
actions.cleave_ff+=/glacial_spike,if=buff.icicles.react=5
actions.cleave_ff+=/ray_of_frost,target_if=max:debuff.winters_chill.stack,if=remaining_winters_chill
actions.cleave_ff+=/frostfire_bolt,if=buff.frostfire_empowerment.react&!buff.excess_frost.react&!buff.excess_fire.react
actions.cleave_ff+=/frozen_orb,if=!buff.fingers_of_frost.react

# actions.cleave_ff+=/shifting_power,if=cooldown.icy_veins.remains>10&cooldown.frozen_orb.remains>10&(!talent.comet_storm|cooldown.comet_storm.remains>10)&(!talent.ray_of_frost|cooldown.ray_of_frost.remains>10)&(fight_remains+10>cooldown.icy_veins.remains)
actions.cleave_ff+=/shifting_power,if=cooldown.icy_veins.remains>10&cooldown.frozen_orb.remains>10&(!talent.comet_storm|cooldown.comet_storm.remains>10)&(!talent.ray_of_frost|cooldown.ray_of_frost.remains>10)&((fight_remains+10>cooldown.icy_veins.remains)|(fight_remains+15>cooldown.frozen_orb.remains)|(talent.comet_storm&fight_remains+15>cooldown.comet_storm.remains)|(talent.ray_of_frost&fight_remains+15>cooldown.ray_of_frost.remains))

actions.cleave_ff+=/ice_lance,target_if=max:debuff.winters_chill.stack,if=buff.fingers_of_frost.react&(!prev_gcd.1.glacial_spike|remaining_winters_chill=0&debuff.winters_chill.down)|remaining_winters_chill&!variable.boltspam
actions.cleave_ff+=/frostfire_bolt
actions.cleave_ff+=/call_action_list,name=movement

actions.cleave_ss=comet_storm,if=prev_gcd.1.flurry&(buff.icy_veins.down)
actions.cleave_ss+=/freeze,if=freezable&prev_gcd.1.glacial_spike
actions.cleave_ss+=/flurry,if=cooldown_react&remaining_winters_chill=0&debuff.winters_chill.down&(prev_gcd.1.frostbolt|prev_gcd.1.glacial_spike)
actions.cleave_ss+=/flurry,target_if=min:debuff.winters_chill.stack,if=cooldown_react&prev_gcd.1.glacial_spike
actions.cleave_ss+=/ice_nova,if=freezable&!prev_off_gcd.freeze&prev_gcd.1.glacial_spike&remaining_winters_chill=0&debuff.winters_chill.down
actions.cleave_ss+=/frozen_orb,if=cooldown_react&(cooldown.icy_veins.remains>22|buff.icy_veins.up)

# actions.cleave_ss+=/shifting_power,if=cooldown.icy_veins.remains>10&!action.flurry.cooldown_react&(buff.icy_veins.down|buff.icy_veins.remains>10)&(fight_remains+10>cooldown.icy_veins.remains)
actions.cleave_ss+=/shifting_power,if=cooldown.icy_veins.remains>10&!action.flurry.cooldown_react&(buff.icy_veins.down|buff.icy_veins.remains>10)&((fight_remains+10>cooldown.icy_veins.remains)|(fight_remains+15>cooldown.frozen_orb.remains)|(talent.comet_storm&fight_remains+15>cooldown.comet_storm.remains)|(talent.ray_of_frost&fight_remains+15>cooldown.ray_of_frost.remains))

actions.cleave_ss+=/glacial_spike,if=buff.icicles.react=5&(action.flurry.cooldown_react|remaining_winters_chill|freezable&cooldown.ice_nova.ready&!buff.fingers_of_frost.react)
actions.cleave_ss+=/ray_of_frost,if=remaining_winters_chill&buff.icy_veins.down
actions.cleave_ss+=/frostbolt,if=talent.deaths_chill&buff.icy_veins.remains>9&(buff.deaths_chill.stack<(8+4*talent.slick_ice)|buff.deaths_chill.stack=(8+4*talent.slick_ice)&!action.frostbolt.in_flight)
actions.cleave_ss+=/ice_lance,if=buff.fingers_of_frost.react&!prev_gcd.1.glacial_spike|!variable.boltspam&remaining_winters_chill
actions.cleave_ss+=/frostbolt
actions.cleave_ss+=/call_action_list,name=movement

actions.movement=any_blink,if=movement.distance>10
actions.movement+=/ice_floes,if=buff.ice_floes.down
actions.movement+=/ice_nova
actions.movement+=/cone_of_cold,if=!talent.coldest_snap&active_enemies>=2
actions.movement+=/arcane_explosion,if=mana.pct>30&active_enemies>=2
actions.movement+=/fire_blast
actions.movement+=/ice_lance

actions.st_ff=comet_storm,if=prev_gcd.1.flurry
actions.st_ff+=/flurry,if=variable.boltspam&cooldown_react&(buff.icicles.react<5|!talent.glacial_spike)&remaining_winters_chill=0
actions.st_ff+=/flurry,if=!variable.boltspam&cooldown_react&(buff.icicles.react<5|!talent.glacial_spike)&remaining_winters_chill=0&debuff.winters_chill.down&(prev_gcd.1.frostfire_bolt|prev_gcd.1.glacial_spike)
actions.st_ff+=/ice_lance,if=variable.boltspam&buff.excess_fire.react&!buff.brain_freeze.react
actions.st_ff+=/glacial_spike,if=buff.icicles.react=5
actions.st_ff+=/ray_of_frost,if=remaining_winters_chill&(!variable.boltspam|buff.icy_veins.remains<15)
actions.st_ff+=/frozen_orb,if=variable.boltspam&buff.icy_veins.down|!variable.boltspam&!buff.fingers_of_frost.react

# actions.st_ff+=/shifting_power,if=(buff.icy_veins.down|!variable.boltspam)&cooldown.icy_veins.remains>10&cooldown.frozen_orb.remains>10&(!talent.comet_storm|cooldown.comet_storm.remains>10)&(!talent.ray_of_frost|cooldown.ray_of_frost.remains>10)&(fight_remains+10>cooldown.icy_veins.remains)
actions.st_ff+=/shifting_power,if=(buff.icy_veins.down|!variable.boltspam)&cooldown.icy_veins.remains>10&cooldown.frozen_orb.remains>10&(!talent.comet_storm|cooldown.comet_storm.remains>10)&(!talent.ray_of_frost|cooldown.ray_of_frost.remains>10)&((fight_remains+10>cooldown.icy_veins.remains)|(fight_remains+15>cooldown.frozen_orb.remains)|(talent.comet_storm&fight_remains+15>cooldown.comet_storm.remains)|(talent.ray_of_frost&fight_remains+15>cooldown.ray_of_frost.remains))

actions.st_ff+=/ice_lance,if=!variable.boltspam&(buff.fingers_of_frost.react&remaining_winters_chill=0&debuff.winters_chill.down|remaining_winters_chill)
actions.st_ff+=/frostfire_bolt
actions.st_ff+=/call_action_list,name=movement

actions.st_ss=comet_storm,if=prev_gcd.1.flurry&buff.icy_veins.down
actions.st_ss+=/flurry,if=cooldown_react&remaining_winters_chill=0&debuff.winters_chill.down&(prev_gcd.1.frostbolt|prev_gcd.1.glacial_spike)
actions.st_ss+=/frozen_orb,if=cooldown_react&(cooldown.icy_veins.remains>22|buff.icy_veins.up)
actions.st_ss+=/glacial_spike,if=buff.icicles.react=5&(action.flurry.cooldown_react|remaining_winters_chill|cooldown.flurry.remains<action.glacial_spike.execute_time&cooldown.flurry.remains>0)
actions.st_ss+=/ray_of_frost,if=variable.boltspam&remaining_winters_chill&buff.icy_veins.down
actions.st_ss+=/ray_of_frost,if=!variable.boltspam&remaining_winters_chill=1

# actions.st_ss+=/shifting_power,if=cooldown.icy_veins.remains>10&!action.flurry.cooldown_react&(variable.boltspam|buff.icy_veins.down|buff.icy_veins.remains>10)&(fight_remains+10>cooldown.icy_veins.remains)
actions.st_ss+=/shifting_power,if=cooldown.icy_veins.remains>10&!action.flurry.cooldown_react&(variable.boltspam|buff.icy_veins.down|buff.icy_veins.remains>10)&((fight_remains+10>cooldown.icy_veins.remains)|(fight_remains+15>cooldown.frozen_orb.remains)|(talent.comet_storm&fight_remains+15>cooldown.comet_storm.remains)|(talent.ray_of_frost&fight_remains+15>cooldown.ray_of_frost.remains))

actions.st_ss+=/frostbolt,if=variable.boltspam&buff.icy_veins.remains>9&buff.deaths_chill.stack<8
actions.st_ss+=/ice_lance,if=variable.boltspam&(remaining_winters_chill=2|remaining_winters_chill&action.flurry.cooldown_react)
actions.st_ss+=/ice_lance,if=!variable.boltspam&(buff.fingers_of_frost.react&!prev_gcd.1.glacial_spike|remaining_winters_chill)
actions.st_ss+=/frostbolt
actions.st_ss+=/call_action_list,name=movement

head=hood_of_violet_rebirth,id=212092,ilevel=639,gem_id=213743
neck=sureki_zealots_insignia,id=225577,bonus_id=8781,ilevel=639,gem_id=213461/213461
shoulders=beacons_of_violet_rebirth,id=212090,ilevel=639
back=wings_of_shattered_sorrow,id=225574,bonus_id=1540/10299/10376,enchant_id=7415
chest=shadowed_orators_tunic,id=221095,bonus_id=4786/3131/10299,enchant_id=7364
wrists=consecrated_cuffs,id=222815,bonus_id=11109,ilevel=636,gem_id=213479,enchant_id=7397,crafted_stats=32/36
hands=jeweled_gauntlets_of_violet_rebirth,id=212093,ilevel=639
waist=sigil_of_violet_rebirth,id=212089,bonus_id=4800/4786/1540/10299/523,ilevel=639,gem_id=213482
legs=coattails_of_violet_rebirth,id=212091,ilevel=639,enchant_id=7534
feet=tainted_earthshard_walkers,id=221082,bonus_id=4786/3131/10299,ilevel=639,enchant_id=7418
finger1=seal_of_the_poisoned_pact,id=225578,ilevel=639,gem_id=213473/213509,enchant_id=7340
finger2=experiment_08752s_band,id=221189,ilevel=639,gem_id=213494/213455,enchant_id=7340
trinket1=candle_confidant,id=225648,bonus_id=40/6652/10256/3155/10255
trinket2=spymasters_web,id=220202,ilevel=639
main_hand=unceremonious_bloodletter,id=221165,bonus_id=4786/3131/10299,enchant_id=7460
off_hand=vagabonds_torch,id=222566,bonus_id=11300/8795,ilevel=636,crafted_stats=32/36

# Gear Summary
# gear_ilvl=637.81
# gear_stamina=236894
# gear_intellect=48553
# gear_crit_rating=12414
# gear_haste_rating=14599
# gear_mastery_rating=4213
# gear_versatility_rating=7538
# gear_speed_rating=1500
# gear_avoidance_rating=612
# gear_armor=16086
# set_bonus=thewarwithin_season_1_2pc=1
# set_bonus=thewarwithin_season_1_4pc=1




mage="TWW1_Mage_Frost_Frostfire_fixedddd"
source=default
spec=frost
level=80
race=dwarf
role=spell
position=ranged_back
talents=CAEAjd9IgsSkCmGQ8vOmZtyV7YGbmtZBzwYW8AwMz0YMzsMjBDzwMzMzMzMzMzMjZmZMzsMTzMLzCEAA0CAAAAAAsAAAAAAAAA

# Default consumables
potion=tempered_potion_3
flask=flask_of_alchemical_chaos_3
food=feast_of_the_midnight_masquerade
augmentation=crystallized
temporary_enchant=main_hand:algari_mana_oil_3

# This default action priority list is automatically created based on your character.
# It is a attempt to provide you with a action list that is both simple and practicable,
# while resulting in a meaningful and good simulation. It may not result in the absolutely highest possible dps.
# Feel free to edit, adapt and improve it to your own needs.
# SimulationCraft is always looking for updates and improvements to the default action lists.

# Executed before combat begins. Accepts non-harmful actions only.
actions.precombat=arcane_intellect
actions.precombat+=/snapshot_stats
actions.precombat+=/variable,name=boltspam,value=talent.splinterstorm&talent.cold_front&talent.slick_ice&talent.deaths_chill&talent.frozen_touch|talent.frostfire_bolt&talent.deep_shatter&talent.slick_ice&talent.deaths_chill
actions.precombat+=/variable,name=treacherous_transmitter_precombat_cast,value=12*!variable.boltspam
actions.precombat+=/use_item,name=treacherous_transmitter
actions.precombat+=/blizzard,if=active_enemies>=3
actions.precombat+=/frostbolt,if=active_enemies<=2

# Executed every time the actor is available.
actions=counterspell
actions+=/call_action_list,name=cds
actions+=/run_action_list,name=aoe_ff,if=talent.frostfire_bolt&active_enemies>=3
actions+=/run_action_list,name=aoe_ss,if=active_enemies>=3
actions+=/run_action_list,name=cleave_ff,if=talent.frostfire_bolt&active_enemies=2
actions+=/run_action_list,name=cleave_ss,if=active_enemies=2
actions+=/run_action_list,name=st_ff,if=talent.frostfire_bolt
actions+=/run_action_list,name=st_ss

actions.aoe_ff=cone_of_cold,if=talent.coldest_snap&prev_gcd.1.comet_storm
actions.aoe_ff+=/frostfire_bolt,if=talent.deaths_chill&buff.icy_veins.remains>9&(buff.deaths_chill.stack<9|buff.deaths_chill.stack=9&!action.frostfire_bolt.in_flight)
actions.aoe_ff+=/freeze,if=freezable&(prev_gcd.1.glacial_spike|prev_gcd.1.comet_storm&cooldown.cone_of_cold.remains&!prev_gcd.2.cone_of_cold)
actions.aoe_ff+=/ice_nova,if=freezable&(prev_gcd.1.glacial_spike&remaining_winters_chill=0&debuff.winters_chill.down|prev_gcd.1.comet_storm&cooldown.cone_of_cold.remains&!prev_gcd.2.cone_of_cold)&!prev_off_gcd.freeze
actions.aoe_ff+=/frozen_orb,if=!prev_gcd.1.cone_of_cold
actions.aoe_ff+=/comet_storm,if=cooldown.cone_of_cold.remains>6|cooldown.cone_of_cold.ready
actions.aoe_ff+=/flurry,if=cooldown_react&remaining_winters_chill=0&(buff.excess_frost.react&cooldown.comet_storm.remains>5|prev_gcd.1.glacial_spike)
actions.aoe_ff+=/blizzard,if=talent.ice_caller
actions.aoe_ff+=/ray_of_frost,if=talent.splintering_ray&remaining_winters_chill=2

# actions.aoe_ff+=/shifting_power,if=cooldown.icy_veins.remains>10&(fight_remains+10>cooldown.icy_veins.remains)
actions.aoe_ff+=/shifting_power,if=cooldown.icy_veins.remains>10&cooldown.frozen_orb.remains>10&(!talent.comet_storm|cooldown.comet_storm.remains>10)&((fight_remains+10>cooldown.icy_veins.remains)|(fight_remains+15>cooldown.frozen_orb.remains)|(talent.comet_storm&fight_remains+15>cooldown.comet_storm.remains))

actions.aoe_ff+=/frostfire_bolt,if=buff.frostfire_empowerment.react&!buff.excess_frost.react&!buff.excess_fire.react
actions.aoe_ff+=/glacial_spike,if=(active_enemies<=6|!talent.ice_caller)&buff.icicles.react=5
actions.aoe_ff+=/ice_lance,if=buff.fingers_of_frost.react|remaining_winters_chill
actions.aoe_ff+=/flurry,if=cooldown_react&remaining_winters_chill=0
actions.aoe_ff+=/frostfire_bolt
actions.aoe_ff+=/call_action_list,name=movement

actions.aoe_ss=cone_of_cold,if=talent.coldest_snap&!action.frozen_orb.cooldown_react&(prev_gcd.1.comet_storm|prev_gcd.1.frozen_orb&cooldown.comet_storm.remains>5)&(!talent.deaths_chill|buff.icy_veins.remains<9|buff.deaths_chill.stack>=12)
actions.aoe_ss+=/freeze,if=freezable&prev_gcd.1.glacial_spike
actions.aoe_ss+=/flurry,if=cooldown_react&remaining_winters_chill=0&prev_gcd.1.glacial_spike
actions.aoe_ss+=/ice_nova,if=active_enemies<5&freezable&prev_gcd.1.glacial_spike&remaining_winters_chill=0&debuff.winters_chill.down|active_enemies>=5&time-action.cone_of_cold.last_used<6&time-action.cone_of_cold.last_used>6-gcd.max
actions.aoe_ss+=/frozen_orb,if=cooldown_react
actions.aoe_ss+=/frostbolt,if=talent.deaths_chill&buff.icy_veins.remains>9&(buff.deaths_chill.stack<9|buff.deaths_chill.stack=9&!action.frostbolt.in_flight)
actions.aoe_ss+=/comet_storm
actions.aoe_ss+=/ray_of_frost,if=talent.splintering_ray&prev_gcd.1.flurry
actions.aoe_ss+=/blizzard,if=talent.ice_caller|talent.freezing_rain|active_enemies>=5

# actions.aoe_ss+=/shifting_power,if=cooldown.icy_veins.remains>10&(fight_remains+10>cooldown.icy_veins.remains)
actions.aoe_ss+=/shifting_power,if=cooldown.icy_veins.remains>10&&cooldown.frozen_orb.remains>10&(!talent.comet_storm|cooldown.comet_storm.remains>10)&((fight_remains+10>cooldown.icy_veins.remains)|(fight_remains+15>cooldown.frozen_orb.remains)|(talent.comet_storm&fight_remains+15>cooldown.comet_storm.remains))

actions.aoe_ss+=/glacial_spike,if=buff.icicles.react=5&(action.flurry.cooldown_react|remaining_winters_chill|active_enemies<5&freezable&cooldown.ice_nova.ready&!buff.fingers_of_frost.react)
actions.aoe_ss+=/ice_lance,if=buff.fingers_of_frost.react&!prev_gcd.1.glacial_spike|remaining_winters_chill
actions.aoe_ss+=/flurry,if=cooldown_react&remaining_winters_chill=0
actions.aoe_ss+=/frostbolt
actions.aoe_ss+=/call_action_list,name=movement

actions.cds=use_item,name=treacherous_transmitter,if=fight_remains<32+20*equipped.spymasters_web|prev_off_gcd.icy_veins|(!variable.boltspam|equipped.spymasters_web)&(cooldown.icy_veins.remains<12|cooldown.icy_veins.remains<22&cooldown.shifting_power.remains<10)
actions.cds+=/do_treacherous_transmitter_task,if=fight_remains<18|(buff.cryptic_instructions.remains<?buff.realigning_nexus_convergence_divergence.remains<?buff.errant_manaforge_emission.remains)<(action.shifting_power.execute_time+1*talent.ray_of_frost)
actions.cds+=/use_item,name=spymasters_web,if=fight_remains<20|buff.icy_veins.remains<19&(fight_remains<105|buff.spymasters_report.stack>=32)&(buff.icy_veins.remains>15|trinket.treacherous_transmitter.cooldown.remains>50)
actions.cds+=/use_item,name=imperfect_ascendancy_serum,if=buff.icy_veins.remains>15|fight_remains<20
actions.cds+=/use_item,name=burst_of_knowledge,if=buff.icy_veins.remains>15|fight_remains<20
actions.cds+=/potion,if=fight_remains<35|buff.icy_veins.remains>9&(fight_remains>315|cooldown.icy_veins.remains+12>fight_remains)
actions.cds+=/icy_veins,if=buff.icy_veins.remains<gcd.max*2
actions.cds+=/flurry,if=time=0&active_enemies<=2
actions.cds+=/use_items
actions.cds+=/invoke_external_buff,name=power_infusion,if=buff.power_infusion.down
actions.cds+=/invoke_external_buff,name=blessing_of_summer,if=buff.blessing_of_summer.down
actions.cds+=/blood_fury
actions.cds+=/berserking,if=buff.icy_veins.remains>9&buff.icy_veins.remains<15|fight_remains<15
actions.cds+=/fireblood
actions.cds+=/ancestral_call

actions.cleave_ff=comet_storm,if=prev_gcd.1.flurry
actions.cleave_ff+=/frostfire_bolt,if=talent.deaths_chill&buff.icy_veins.remains>9&(buff.deaths_chill.stack<6|buff.deaths_chill.stack=6&!action.frostfire_bolt.in_flight)
actions.cleave_ff+=/freeze,if=freezable&prev_gcd.1.glacial_spike
actions.cleave_ff+=/ice_nova,if=freezable&prev_gcd.1.glacial_spike&remaining_winters_chill=0&debuff.winters_chill.down&!prev_off_gcd.freeze
actions.cleave_ff+=/flurry,if=cooldown_react&remaining_winters_chill=0&debuff.winters_chill.down&(prev_gcd.1.glacial_spike|buff.icicles.react>=3|!talent.glacial_spike&prev_gcd.1.frostfire_bolt)&!prev_off_gcd.freeze
actions.cleave_ff+=/flurry,target_if=min:debuff.winters_chill.stack,if=cooldown_react&prev_gcd.1.glacial_spike&!prev_off_gcd.freeze
actions.cleave_ff+=/glacial_spike,if=buff.icicles.react=5
actions.cleave_ff+=/ray_of_frost,target_if=max:debuff.winters_chill.stack,if=remaining_winters_chill
actions.cleave_ff+=/frostfire_bolt,if=buff.frostfire_empowerment.react&!buff.excess_frost.react&!buff.excess_fire.react
actions.cleave_ff+=/frozen_orb,if=!buff.fingers_of_frost.react

# actions.cleave_ff+=/shifting_power,if=cooldown.icy_veins.remains>10&cooldown.frozen_orb.remains>10&(!talent.comet_storm|cooldown.comet_storm.remains>10)&(!talent.ray_of_frost|cooldown.ray_of_frost.remains>10)&(fight_remains+10>cooldown.icy_veins.remains)
actions.cleave_ff+=/shifting_power,if=cooldown.icy_veins.remains>10&cooldown.frozen_orb.remains>10&(!talent.comet_storm|cooldown.comet_storm.remains>10)&(!talent.ray_of_frost|cooldown.ray_of_frost.remains>10)&((fight_remains+10>cooldown.icy_veins.remains)|(fight_remains+15>cooldown.frozen_orb.remains)|(talent.comet_storm&fight_remains+15>cooldown.comet_storm.remains)|(talent.ray_of_frost&fight_remains+15>cooldown.ray_of_frost.remains))

actions.cleave_ff+=/ice_lance,target_if=max:debuff.winters_chill.stack,if=buff.fingers_of_frost.react&(!prev_gcd.1.glacial_spike|remaining_winters_chill=0&debuff.winters_chill.down)|remaining_winters_chill&!variable.boltspam
actions.cleave_ff+=/frostfire_bolt
actions.cleave_ff+=/call_action_list,name=movement

actions.cleave_ss=comet_storm,if=prev_gcd.1.flurry&(buff.icy_veins.down)
actions.cleave_ss+=/freeze,if=freezable&prev_gcd.1.glacial_spike
actions.cleave_ss+=/flurry,if=cooldown_react&remaining_winters_chill=0&debuff.winters_chill.down&(prev_gcd.1.frostbolt|prev_gcd.1.glacial_spike)
actions.cleave_ss+=/flurry,target_if=min:debuff.winters_chill.stack,if=cooldown_react&prev_gcd.1.glacial_spike
actions.cleave_ss+=/ice_nova,if=freezable&!prev_off_gcd.freeze&prev_gcd.1.glacial_spike&remaining_winters_chill=0&debuff.winters_chill.down
actions.cleave_ss+=/frozen_orb,if=cooldown_react&(cooldown.icy_veins.remains>22|buff.icy_veins.up)

# actions.cleave_ss+=/shifting_power,if=cooldown.icy_veins.remains>10&!action.flurry.cooldown_react&(buff.icy_veins.down|buff.icy_veins.remains>10)&(fight_remains+10>cooldown.icy_veins.remains)
actions.cleave_ss+=/shifting_power,if=cooldown.icy_veins.remains>10&!action.flurry.cooldown_react&(buff.icy_veins.down|buff.icy_veins.remains>10)&((fight_remains+10>cooldown.icy_veins.remains)|(fight_remains+15>cooldown.frozen_orb.remains)|(talent.comet_storm&fight_remains+15>cooldown.comet_storm.remains)|(talent.ray_of_frost&fight_remains+15>cooldown.ray_of_frost.remains))

actions.cleave_ss+=/glacial_spike,if=buff.icicles.react=5&(action.flurry.cooldown_react|remaining_winters_chill|freezable&cooldown.ice_nova.ready&!buff.fingers_of_frost.react)
actions.cleave_ss+=/ray_of_frost,if=remaining_winters_chill&buff.icy_veins.down
actions.cleave_ss+=/frostbolt,if=talent.deaths_chill&buff.icy_veins.remains>9&(buff.deaths_chill.stack<(8+4*talent.slick_ice)|buff.deaths_chill.stack=(8+4*talent.slick_ice)&!action.frostbolt.in_flight)
actions.cleave_ss+=/ice_lance,if=buff.fingers_of_frost.react&!prev_gcd.1.glacial_spike|!variable.boltspam&remaining_winters_chill
actions.cleave_ss+=/frostbolt
actions.cleave_ss+=/call_action_list,name=movement

actions.movement=any_blink,if=movement.distance>10
actions.movement+=/ice_floes,if=buff.ice_floes.down
actions.movement+=/ice_nova
actions.movement+=/cone_of_cold,if=!talent.coldest_snap&active_enemies>=2
actions.movement+=/arcane_explosion,if=mana.pct>30&active_enemies>=2
actions.movement+=/fire_blast
actions.movement+=/ice_lance

actions.st_ff=comet_storm,if=prev_gcd.1.flurry
actions.st_ff+=/flurry,if=variable.boltspam&cooldown_react&(buff.icicles.react<5|!talent.glacial_spike)&remaining_winters_chill=0
actions.st_ff+=/flurry,if=!variable.boltspam&cooldown_react&(buff.icicles.react<5|!talent.glacial_spike)&remaining_winters_chill=0&debuff.winters_chill.down&(prev_gcd.1.frostfire_bolt|prev_gcd.1.glacial_spike)
actions.st_ff+=/ice_lance,if=variable.boltspam&buff.excess_fire.react&!buff.brain_freeze.react
actions.st_ff+=/glacial_spike,if=buff.icicles.react=5
actions.st_ff+=/ray_of_frost,if=remaining_winters_chill&(!variable.boltspam|buff.icy_veins.remains<15)
actions.st_ff+=/frozen_orb,if=variable.boltspam&buff.icy_veins.down|!variable.boltspam&!buff.fingers_of_frost.react

# actions.st_ff+=/shifting_power,if=(buff.icy_veins.down|!variable.boltspam)&cooldown.icy_veins.remains>10&cooldown.frozen_orb.remains>10&(!talent.comet_storm|cooldown.comet_storm.remains>10)&(!talent.ray_of_frost|cooldown.ray_of_frost.remains>10)&(fight_remains+10>cooldown.icy_veins.remains)
actions.st_ff+=/shifting_power,if=(buff.icy_veins.down|!variable.boltspam)&cooldown.icy_veins.remains>10&cooldown.frozen_orb.remains>10&(!talent.comet_storm|cooldown.comet_storm.remains>10)&(!talent.ray_of_frost|cooldown.ray_of_frost.remains>10)&((fight_remains+10>cooldown.icy_veins.remains)|(fight_remains+15>cooldown.frozen_orb.remains)|(talent.comet_storm&fight_remains+15>cooldown.comet_storm.remains)|(talent.ray_of_frost&fight_remains+15>cooldown.ray_of_frost.remains))

actions.st_ff+=/ice_lance,if=!variable.boltspam&(buff.fingers_of_frost.react&remaining_winters_chill=0&debuff.winters_chill.down|remaining_winters_chill)
actions.st_ff+=/frostfire_bolt
actions.st_ff+=/call_action_list,name=movement

actions.st_ss=comet_storm,if=prev_gcd.1.flurry&buff.icy_veins.down
actions.st_ss+=/flurry,if=cooldown_react&remaining_winters_chill=0&debuff.winters_chill.down&(prev_gcd.1.frostbolt|prev_gcd.1.glacial_spike)
actions.st_ss+=/frozen_orb,if=cooldown_react&(cooldown.icy_veins.remains>22|buff.icy_veins.up)
actions.st_ss+=/glacial_spike,if=buff.icicles.react=5&(action.flurry.cooldown_react|remaining_winters_chill|cooldown.flurry.remains<action.glacial_spike.execute_time&cooldown.flurry.remains>0)
actions.st_ss+=/ray_of_frost,if=variable.boltspam&remaining_winters_chill&buff.icy_veins.down
actions.st_ss+=/ray_of_frost,if=!variable.boltspam&remaining_winters_chill=1

# actions.st_ss+=/shifting_power,if=cooldown.icy_veins.remains>10&!action.flurry.cooldown_react&(variable.boltspam|buff.icy_veins.down|buff.icy_veins.remains>10)&(fight_remains+10>cooldown.icy_veins.remains)
actions.st_ss+=/shifting_power,if=cooldown.icy_veins.remains>10&!action.flurry.cooldown_react&(variable.boltspam|buff.icy_veins.down|buff.icy_veins.remains>10)&((fight_remains+10>cooldown.icy_veins.remains)|(fight_remains+15>cooldown.frozen_orb.remains)|(talent.comet_storm&fight_remains+15>cooldown.comet_storm.remains)|(talent.ray_of_frost&fight_remains+15>cooldown.ray_of_frost.remains))

actions.st_ss+=/frostbolt,if=variable.boltspam&buff.icy_veins.remains>9&buff.deaths_chill.stack<8
actions.st_ss+=/ice_lance,if=variable.boltspam&(remaining_winters_chill=2|remaining_winters_chill&action.flurry.cooldown_react)
actions.st_ss+=/ice_lance,if=!variable.boltspam&(buff.fingers_of_frost.react&!prev_gcd.1.glacial_spike|remaining_winters_chill)
actions.st_ss+=/frostbolt
actions.st_ss+=/call_action_list,name=movement

head=hood_of_violet_rebirth,id=212092,ilevel=639,gem_id=213743
neck=sureki_zealots_insignia,id=225577,bonus_id=8781,ilevel=639,gem_id=213461/213461
shoulders=beacons_of_violet_rebirth,id=212090,ilevel=639
back=wings_of_shattered_sorrow,id=225574,bonus_id=1540/10299/10376,enchant_id=7415
chest=shadowed_orators_tunic,id=221095,bonus_id=4786/3131/10299,enchant_id=7364
wrists=consecrated_cuffs,id=222815,bonus_id=11109,ilevel=636,gem_id=213479,enchant_id=7397,crafted_stats=32/36
hands=jeweled_gauntlets_of_violet_rebirth,id=212093,ilevel=639
waist=sigil_of_violet_rebirth,id=212089,bonus_id=4800/4786/1540/10299/523,ilevel=639,gem_id=213482
legs=coattails_of_violet_rebirth,id=212091,ilevel=639,enchant_id=7534
feet=tainted_earthshard_walkers,id=221082,bonus_id=4786/3131/10299,ilevel=639,enchant_id=7418
finger1=seal_of_the_poisoned_pact,id=225578,ilevel=639,gem_id=213473/213509,enchant_id=7340
finger2=experiment_08752s_band,id=221189,ilevel=639,gem_id=213494/213455,enchant_id=7340
trinket1=candle_confidant,id=225648,bonus_id=40/6652/10256/3155/10255
trinket2=spymasters_web,id=220202,ilevel=639
main_hand=unceremonious_bloodletter,id=221165,bonus_id=4786/3131/10299,enchant_id=7460
off_hand=vagabonds_torch,id=222566,bonus_id=11300/8795,ilevel=636,crafted_stats=32/36

# Gear Summary
# gear_ilvl=637.81
# gear_stamina=236894
# gear_intellect=48553
# gear_crit_rating=12414
# gear_haste_rating=14599
# gear_mastery_rating=4213
# gear_versatility_rating=7538
# gear_speed_rating=1500
# gear_avoidance_rating=612
# gear_armor=16086
# set_bonus=thewarwithin_season_1_2pc=1
# set_bonus=thewarwithin_season_1_4pc=1