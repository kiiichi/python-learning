function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.ids;aura_env.OutOfRange=false;local v25={};local v26=WeakAuras.GetNumSetItemsEquipped(1691);local v27=UnitPower("player",Enum.PowerType.Mana);local v28=UnitPowerMax("player",Enum.PowerType.Mana);local v29=0 -0 ;local v30=40;for v42=3 -2 ,899 -(814 + 45)  do local v43=0;local v44;while true do if (v43==(0 -0)) then v44="nameplate"   .. v42 ;if (UnitExists(v44) and  not UnitIsFriend("player",v44) and WeakAuras.CheckRange(v44,v30,"<=") and (UnitAffectingCombat(v44) or aura_env.config['BypassCombatRequirement']) and (select(1 + 5 ,strsplit("-",UnitGUID(v44)))~="229296")) then v29=v29 + 1 ;end break;end end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v29);local v31=v9(v23.IciclesBuff);if v8(v23.Frostbolt) then v31=min(v31 + 1 + 0 ,890 -(261 + 624) );elseif v8(v23.GlacialSpike) then v31=0 -0 ;end if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v20("Clear",nil);v21("Clear",nil);return;end end local v32={};if (v3(v23.IcyVeins) and (v5("player",v23.IcyVeinsBuff)<(1081.5 -(1020 + 60))) and (IsPlayerSpell(v23.FrostfireBoltTalent) or (v29>=(1426 -(630 + 793))))) then v32.IcyVeins=true;end if (v3(v23.IcyVeins) and (v5("player",v23.IcyVeinsBuff)<(3.5 -2)) and IsPlayerSpell(v23.SplinterstormTalent)) then v32.IcyVeins=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v32,nil);v25.Boltspam=(IsPlayerSpell(v23.SplinterstormTalent) and IsPlayerSpell(v23.ColdFrontTalent) and IsPlayerSpell(v23.SlickIceTalent) and IsPlayerSpell(v23.DeathsChillTalent) and IsPlayerSpell(v23.FrozenTouchTalent)) or (IsPlayerSpell(v23.FrostfireBoltTalent) and IsPlayerSpell(v23.DeepShatterTalent) and IsPlayerSpell(v23.SlickIceTalent) and IsPlayerSpell(v23.DeathsChillTalent)) ;v25.TargetIsFrozen=v12(v23.IceNova) or v12(v23.Freeze) or v12(v23.FrostNova) ;local v35=function() local v45=0;while true do if (v45==(4 -3)) then if v3(v23.IceLance) then local v75=0;while true do if (v75==0) then v20("Ice Lance");return true;end end end break;end if (v45==0) then if (v3(v23.IceNova) and (aura_env.config['Freezable']==true)) then local v76=0;while true do if (v76==(0 + 0)) then v20("Ice Nova");return true;end end end if (v3(v23.ConeOfCold) and  not IsPlayerSpell(v23.ColdestSnapTalent) and (v29>=(6 -4))) then if ((aura_env.config[tostring(v23.ConeOfCold)]==true) and aura_env.FlagKTrigCD) then v21("Cone of Cold");elseif (aura_env.config[tostring(v23.ConeOfCold)]~=true) then local v91=0;while true do if (v91==(1747 -(760 + 987))) then v20("Cone of Cold");return true;end end end end v45=1;end end end;local v36=function() if (v3(v23.FrostfireBolt) and IsPlayerSpell(v23.DeathsChillTalent) and (v5("player",v23.IcyVeinsBuff)>(1922 -(1789 + 124))) and ((v9(v23.DeathsChillBuff)<(775 -(745 + 21))) or ((v9(v23.DeathsChillBuff)==(4 + 5)) and  not ((((aura_env.PrevCast==v23.FrostfireBolt) or (aura_env.PrevCast2==v23.FrostfireBolt)) and ((GetTime() -aura_env.PrevCastTime)<(0.25 -0))) or v8(v23.FrostfireBolt))))) then local v50=0 -0 ;while true do if (v50==(0 + 0)) then v20("Frostfire Bolt");return true;end end end if (v3(v23.ConeOfCold) and IsPlayerSpell(v23.ColdestSnapTalent) and ((aura_env.PrevCast==v23.CometStorm) or v8(v23.CometStorm))) then if ((aura_env.config[tostring(v23.ConeOfCold)]==true) and aura_env.FlagKTrigCD) then v21("Cone of Cold");elseif (aura_env.config[tostring(v23.ConeOfCold)]~=true) then local v77=0;while true do if (v77==0) then v20("Cone of Cold");return true;end end end end if (v3(v23.IceNova) and (aura_env.config['Freezable']==true) and (UnitLevel("target")>(0 + 0)) and  not v25.TargetIsFrozen and  not (aura_env.PrevCast==v23.Freeze) and ((((aura_env.PrevCast==v23.GlacialSpike) or v8(v23.GlacialSpike)) and (v10(v23.WintersChillDebuff)==0) and (v12(v23.WintersChillDebuff)==false)) or (((aura_env.PrevCast==v23.CometStorm) or v8(v23.CometStorm)) and ((v2-aura_env.ConeOfColdLastUsed)>8)))) then local v51=0;while true do if (v51==0) then v20("Ice Nova");return true;end end end if v3(v23.FrozenOrb) then if ((aura_env.config[tostring(v23.FrozenOrb)]==true) and aura_env.FlagKTrigCD) then v21("Frozen Orb");elseif (aura_env.config[tostring(v23.FrozenOrb)]~=true) then v20("Frozen Orb");return true;end end if (v3(v23.IceLance) and (v9(v23.ExcessFireBuff)==(1057 -(87 + 968))) and v3(v23.CometStorm)) then v20("Ice Lance");return true;end if (v3(v23.Blizzard) and (IsPlayerSpell(v23.IceCallerTalent) or IsPlayerSpell(v23.FreezingRainTalent))) then local v52=0 -0 ;while true do if (v52==(0 + 0)) then v20("Blizzard");return true;end end end if (v3(v23.CometStorm) and ((v7(v23.ConeOfCold)>(22 -12)) or v3(v23.ConeOfCold))) then if ((aura_env.config[tostring(v23.CometStorm)]==true) and aura_env.FlagKTrigCD) then v21("Comet Storm");elseif (aura_env.config[tostring(v23.CometStorm)]~=true) then local v78=1413 -(447 + 966) ;while true do if (v78==0) then v20("Comet Storm");return true;end end end end if (v3(v23.RayOfFrost) and IsPlayerSpell(v23.SplinteringRayTalent) and (v10(v23.WintersChillDebuff)>(0 -0))) then if ((aura_env.config[tostring(v23.RayOfFrost)]==true) and aura_env.FlagKTrigCD) then v21("Ray of Frost");elseif (aura_env.config[tostring(v23.RayOfFrost)]~=true) then v20("Ray of Frost");return true;end end if (v3(v23.GlacialSpike) and (v31==(1822 -(1703 + 114)))) then if ((aura_env.config[tostring(v23.GlacialSpike)]==true) and aura_env.FlagKTrigCD) then v21("Glacial Spike");elseif (aura_env.config[tostring(v23.GlacialSpike)]~=true) then v20("Glacial Spike");return true;end end if (v3(v23.Flurry) and v3(v23.Flurry) and v11(v23.ExcessFireBuff) and v11(v23.ExcessFrostBuff)) then local v53=701 -(376 + 325) ;while true do if (v53==(0 -0)) then v20("Flurry");return true;end end end if (v3(v23.Flurry) and v3(v23.Flurry) and (v10(v23.WintersChillDebuff)==(0 -0)) and (v12(v23.WintersChillDebuff)==false)) then v20("Flurry");return true;end if (v3(v23.FrostfireBolt) and v11(v23.FrostfireEmpowermentBuff) and  not v11(v23.ExcessFireBuff)) then local v54=0 + 0 ;while true do if (v54==(0 -0)) then v20("Frostfire Bolt");return true;end end end if (v3(v23.ShiftingPower) and (v7(v23.IcyVeins)>10) and (v7(v23.FrozenOrb)>(24 -(9 + 5))) and ( not IsPlayerSpell(v23.CometStormTalent) or (v7(v23.CometStorm)>(386 -(85 + 291))))) then if ((aura_env.config[tostring(v23.ShiftingPower)]==true) and aura_env.FlagKTrigCD) then v21("Shifting Power");elseif (aura_env.config[tostring(v23.ShiftingPower)]~=true) then v20("Shifting Power");return true;end end if (v3(v23.IceLance) and (v11(v23.FingersOfFrostBuff) or (v10(v23.WintersChillDebuff)>(1265 -(243 + 1022))))) then v20("Ice Lance");return true;end if v3(v23.FrostfireBolt) then local v55=0;while true do if (v55==(0 -0)) then v20("Frostfire Bolt");return true;end end end if v35() then return true;end end;local v37=function() if (v3(v23.ConeOfCold) and IsPlayerSpell(v23.ColdestSnapTalent) and  not v3(v23.FrozenOrb) and ((aura_env.PrevCast==v23.CometStorm) or v8(v23.CometStorm) or (((aura_env.PrevCast==v23.FrozenOrb) or v8(v23.FrozenOrb)) and (v7(v23.CometStorm)>5))) and ( not IsPlayerSpell(v23.DeathsChillTalent) or (v5("player",v23.IcyVeinsBuff)<(8 + 1)) or (v9(v23.DeathsChillBuff)>=(1195 -(1123 + 57))))) then if ((aura_env.config[tostring(v23.ConeOfCold)]==true) and aura_env.FlagKTrigCD) then v21("Cone of Cold");elseif (aura_env.config[tostring(v23.ConeOfCold)]~=true) then v20("Cone of Cold");return true;end end if (v3(v23.Flurry) and v3(v23.Flurry) and (v10(v23.WintersChillDebuff)==0) and (v12(v23.WintersChillDebuff)==false) and ((aura_env.PrevCast==v23.GlacialSpike) or v8(v23.GlacialSpike))) then v20("Flurry");return true;end if (v3(v23.IceNova) and (aura_env.config['Freezable']==true) and (UnitLevel("target")>(0 + 0)) and  not v25.TargetIsFrozen and  not (aura_env.PrevCast==v23.Freeze) and ((aura_env.PrevCast==v23.GlacialSpike) or v8(v23.GlacialSpike)) and (v10(v23.WintersChillDebuff)==(254 -(163 + 91))) and (v12(v23.WintersChillDebuff)==false)) then local v56=1930 -(1869 + 61) ;while true do if (v56==(0 + 0)) then v20("Ice Nova");return true;end end end if (v3(v23.IceNova) and (aura_env.config['Freezable']==true) and IsPlayerSpell(v23.UnerringProficiencyTalent) and ((v2-aura_env.ConeOfColdLastUsed)<10) and ((v2-aura_env.ConeOfColdLastUsed)>(24 -17))) then v20("Ice Nova");return true;end if (v3(v23.FrozenOrb) and (v3(v23.FrozenOrb))) then if ((aura_env.config[tostring(v23.FrozenOrb)]==true) and aura_env.FlagKTrigCD) then v21("Frozen Orb");elseif (aura_env.config[tostring(v23.FrozenOrb)]~=true) then v20("Frozen Orb");return true;end end if (v3(v23.Blizzard) and (IsPlayerSpell(v23.IceCallerTalent) or IsPlayerSpell(v23.FreezingRainTalent))) then v20("Blizzard");return true;end if (v3(v23.Frostbolt) and IsPlayerSpell(v23.DeathsChillTalent) and (v5("player",v23.IcyVeinsBuff)>(13 -4)) and ((v9(v23.DeathsChillBuff)<(2 + 10)) or ((v9(v23.DeathsChillBuff)==(15 -3)) and  not ((aura_env.PrevCast==v23.Frostbolt) and ((GetTime() -aura_env.PrevCastTime)<(0.15 + 0)))))) then v20("Frostbolt");return true;end if v3(v23.CometStorm) then if ((aura_env.config[tostring(v23.CometStorm)]==true) and aura_env.FlagKTrigCD) then v21("Comet Storm");elseif (aura_env.config[tostring(v23.CometStorm)]~=true) then local v79=0;while true do if (v79==(1474 -(1329 + 145))) then v20("Comet Storm");return true;end end end end if (v3(v23.RayOfFrost) and IsPlayerSpell(v23.SplinteringRayTalent) and (v10(v23.WintersChillDebuff)>0) and (v11(v23.IcyVeinsBuff)==false)) then if ((aura_env.config[tostring(v23.RayOfFrost)]==true) and aura_env.FlagKTrigCD) then v21("Ray of Frost");elseif (aura_env.config[tostring(v23.RayOfFrost)]~=true) then local v80=0;while true do if (v80==(971 -(140 + 831))) then v20("Ray of Frost");return true;end end end end if (v3(v23.GlacialSpike) and (v31==(1855 -(1409 + 441))) and (v3(v23.Flurry) or (v10(v23.WintersChillDebuff)>0) or ((UnitLevel("target")>0) and  not v25.TargetIsFrozen and v3(v23.IceNova)))) then if ((aura_env.config[tostring(v23.GlacialSpike)]==true) and aura_env.FlagKTrigCD) then v21("Glacial Spike");elseif (aura_env.config[tostring(v23.GlacialSpike)]~=true) then v20("Glacial Spike");return true;end end if (v3(v23.ShiftingPower) and (v7(v23.IcyVeins)>(728 -(15 + 703))) and ((v18(28 + 32 ,v30) + (453 -(262 + 176)))>v7(v23.IcyVeins))) then if ((aura_env.config[tostring(v23.ShiftingPower)]==true) and aura_env.FlagKTrigCD) then v21("Shifting Power");elseif (aura_env.config[tostring(v23.ShiftingPower)]~=true) then v20("Shifting Power");return true;end end if (v3(v23.IceLance) and (v11(v23.FingersOfFrostBuff) or (v10(v23.WintersChillDebuff)>0))) then local v57=0;while true do if (v57==(1721 -(345 + 1376))) then v20("Ice Lance");return true;end end end if (v3(v23.Flurry) and v3(v23.Flurry) and (v10(v23.WintersChillDebuff)==(688 -(198 + 490))) and (v12(v23.WintersChillDebuff)==false)) then v20("Flurry");return true;end if v3(v23.Frostbolt) then local v58=0;while true do if (v58==(0 -0)) then v20("Frostbolt");return true;end end end if v35() then return true;end end;local v38=function() if (v3(v23.FrostfireBolt) and IsPlayerSpell(v23.DeathsChillTalent) and (v5("player",v23.IcyVeinsBuff)>(21 -12)) and ((v9(v23.DeathsChillBuff)<(1210 -(696 + 510))) or ((v9(v23.DeathsChillBuff)==4) and  not ((aura_env.PrevCast==v23.FrostfireBolt) and ((GetTime() -aura_env.PrevCastTime)<0.15))))) then v20("Frostfire Bolt");return true;end if (v3(v23.IceNova) and (aura_env.config['Freezable']==true) and (UnitLevel("target")>(0 -0)) and  not v25.TargetIsFrozen and ((aura_env.PrevCast==v23.GlacialSpike) or v8(v23.GlacialSpike)) and (v10(v23.WintersChillDebuff)==(1262 -(1091 + 171))) and (v12(v23.WintersChillDebuff)==false) and  not (aura_env.PrevCast==v23.Freeze)) then v20("Ice Nova");return true;end if (v3(v23.Flurry) and v3(v23.Flurry) and ((aura_env.PrevCast==v23.GlacialSpike) or v8(v23.GlacialSpike)) and  not (aura_env.PrevCast==v23.Freeze)) then local v59=0 + 0 ;while true do if (v59==(0 -0)) then v20("Flurry");return true;end end end if (v3(v23.Flurry) and v3(v23.Flurry) and ((v31<(16 -11)) or  not IsPlayerSpell(v23.GlacialSpikeTalent)) and (v10(v23.WintersChillDebuff)==(374 -(123 + 251))) and (v12(v23.WintersChillDebuff)==false) and ((aura_env.PrevCast==v23.FrostfireBolt) or v8(v23.FrostfireBolt) or (aura_env.PrevCast==v23.CometStorm) or v8(v23.CometStorm))) then local v60=0 -0 ;while true do if (v60==(698 -(208 + 490))) then v20("Flurry");return true;end end end if (v3(v23.Flurry) and v3(v23.Flurry) and ((v31<5) or  not IsPlayerSpell(v23.GlacialSpikeTalent)) and v11(v23.ExcessFireBuff) and v11(v23.ExcessFrostBuff)) then local v61=0 + 0 ;while true do if (v61==(0 + 0)) then v20("Flurry");return true;end end end if v3(v23.CometStorm) then if ((aura_env.config[tostring(v23.CometStorm)]==true) and aura_env.FlagKTrigCD) then v21("Comet Storm");elseif (aura_env.config[tostring(v23.CometStorm)]~=true) then v20("Comet Storm");return true;end end if v3(v23.FrozenOrb) then if ((aura_env.config[tostring(v23.FrozenOrb)]==true) and aura_env.FlagKTrigCD) then v21("Frozen Orb");elseif (aura_env.config[tostring(v23.FrozenOrb)]~=true) then v20("Frozen Orb");return true;end end if (v3(v23.Blizzard) and v11(v23.FreezingRainBuff) and IsPlayerSpell(v23.IceCallerTalent)) then local v62=836 -(660 + 176) ;while true do if (v62==(0 + 0)) then v20("Blizzard");return true;end end end if (v3(v23.GlacialSpike) and (v31==(207 -(14 + 188)))) then if ((aura_env.config[tostring(v23.GlacialSpike)]==true) and aura_env.FlagKTrigCD) then v21("Glacial Spike");elseif (aura_env.config[tostring(v23.GlacialSpike)]~=true) then v20("Glacial Spike");return true;end end if (v3(v23.RayOfFrost) and (v10(v23.WintersChillDebuff)==(676 -(534 + 141)))) then if ((aura_env.config[tostring(v23.RayOfFrost)]==true) and aura_env.FlagKTrigCD) then v21("Ray of Frost");else local v74=0 + 0 ;while true do if (v74==(0 + 0)) then v20("Ray of Frost");return true;end end end end if (v3(v23.FrostfireBolt) and v11(v23.FrostfireEmpowermentBuff) and  not v11(v23.ExcessFireBuff)) then local v63=0;while true do if (v63==(0 + 0)) then v20("Frostfire Bolt");return true;end end end if (v3(v23.ShiftingPower) and (v7(v23.IcyVeins)>(21 -11)) and (v7(v23.FrozenOrb)>(15 -5)) and ( not IsPlayerSpell(v23.CometStormTalent) or (v7(v23.CometStorm)>(28 -18))) and ( not IsPlayerSpell(v23.RayOfFrostTalent) or (v7(v23.RayOfFrost)>(6 + 4)))) then if ((aura_env.config[tostring(v23.ShiftingPower)]==true) and aura_env.FlagKTrigCD) then v21("Shifting Power");elseif (aura_env.config[tostring(v23.ShiftingPower)]~=true) then v20("Shifting Power");return true;end end if (v3(v23.IceLance) and (v11(v23.FingersOfFrostBuff) or (v10(v23.WintersChillDebuff)>(0 + 0)))) then local v64=396 -(115 + 281) ;while true do if (v64==(0 -0)) then v20("Ice Lance");return true;end end end if v3(v23.FrostfireBolt) then v20("Frostfire Bolt");return true;end if v35() then return true;end end;local v39=function() if (v3(v23.Flurry) and v3(v23.Flurry) and ((aura_env.PrevCast==v23.GlacialSpike) or v8(v23.GlacialSpike)) and  not (aura_env.PrevCast==v23.Freeze)) then local v65=0 + 0 ;while true do if (v65==(0 -0)) then v20("Flurry");return true;end end end if (v3(v23.IceNova) and (aura_env.config['Freezable']==true) and (UnitLevel("target")>(0 -0)) and  not v25.TargetIsFrozen and  not (aura_env.PrevCast==v23.Freeze) and (v10(v23.WintersChillDebuff)==(867 -(550 + 317))) and (v12(v23.WintersChillDebuff)==false) and ((aura_env.PrevCast==v23.GlacialSpike) or v8(v23.GlacialSpike))) then local v66=0 -0 ;while true do if ((0 -0)==v66) then v20("Ice Nova");return true;end end end if (v3(v23.Flurry) and v3(v23.Flurry) and (v12(v23.WintersChillDebuff)==false) and (v10(v23.WintersChillDebuff)==(0 -0)) and ((aura_env.PrevCast==v23.Frostbolt) or v8(v23.Frostbolt))) then v20("Flurry");return true;end if (v3(v23.IceLance) and (v11(v23.FingersOfFrostBuff)==(287 -(134 + 151)))) then local v67=0;while true do if (v67==(1665 -(970 + 695))) then v20("Ice Lance");return true;end end end if (v3(v23.CometStorm) and (v10(v23.WintersChillDebuff)>(0 -0)) and (v11(v23.IcyVeinsBuff)==false)) then if ((aura_env.config[tostring(v23.CometStorm)]==true) and aura_env.FlagKTrigCD) then v21("Comet Storm");elseif (aura_env.config[tostring(v23.CometStorm)]~=true) then v20("Comet Storm");return true;end end if (v3(v23.FrozenOrb) and v3(v23.FrozenOrb) and ((v7(v23.IcyVeins)>30) or v11(v23.IcyVeinsBuff))) then if ((aura_env.config[tostring(v23.FrozenOrb)]==true) and aura_env.FlagKTrigCD) then v21("Frozen Orb");elseif (aura_env.config[tostring(v23.FrozenOrb)]~=true) then local v81=1990 -(582 + 1408) ;while true do if (v81==(0 -0)) then v20("Frozen Orb");return true;end end end end if (v3(v23.RayOfFrost) and ((aura_env.PrevCast==v23.Flurry) or v8(v23.Flurry)) and (v11(v23.IcyVeinsBuff)==false)) then if ((aura_env.config[tostring(v23.RayOfFrost)]==true) and aura_env.FlagKTrigCD) then v21("Ray of Frost");elseif (aura_env.config[tostring(v23.RayOfFrost)]~=true) then local v82=0 -0 ;while true do if (v82==(0 -0)) then v20("Ray of Frost");return true;end end end end if (v3(v23.GlacialSpike) and (v31==(1829 -(1195 + 629))) and (v3(v23.Flurry) or (v10(v23.WintersChillDebuff)>(0 -0)) or ((UnitLevel("target")>0) and  not v25.TargetIsFrozen and v3(v23.IceNova)))) then if ((aura_env.config[tostring(v23.GlacialSpike)]==true) and aura_env.FlagKTrigCD) then v21("Glacial Spike");elseif (aura_env.config[tostring(v23.GlacialSpike)]~=true) then local v83=0;while true do if (0==v83) then v20("Glacial Spike");return true;end end end end if (v3(v23.ShiftingPower) and (v7(v23.IcyVeins)>(251 -(187 + 54))) and  not v3(v23.Flurry) and ((v18(840 -(162 + 618) ,v30) + 15)>v7(v23.IcyVeins))) then if ((aura_env.config[tostring(v23.ShiftingPower)]==true) and aura_env.FlagKTrigCD) then v21("Shifting Power");elseif (aura_env.config[tostring(v23.ShiftingPower)]~=true) then v20("Shifting Power");return true;end end if (v3(v23.Frostbolt) and IsPlayerSpell(v23.DeathsChillTalent) and (v5("player",v23.IcyVeinsBuff)>9) and ((v9(v23.DeathsChillBuff)<(5 + 1)) or ((v9(v23.DeathsChillBuff)==(4 + 2)) and  not ((aura_env.PrevCast==v23.Frostbolt) and ((GetTime() -aura_env.PrevCastTime)<(0.15 -0)))))) then local v68=0 -0 ;while true do if (v68==0) then v20("Frostbolt");return true;end end end if (v3(v23.Blizzard) and IsPlayerSpell(v23.FreezingRainTalent) and IsPlayerSpell(v23.IceCallerTalent)) then v20("Blizzard");return true;end if (v3(v23.IceLance) and (v11(v23.FingersOfFrostBuff) or (v10(v23.WintersChillDebuff)>(0 + 0)))) then local v69=0;while true do if (v69==0) then v20("Ice Lance");return true;end end end if v3(v23.Frostbolt) then v20("Frostbolt");return true;end if v35() then return true;end end;local v40=function() if (v3(v23.Flurry) and v3(v23.Flurry) and ((v31<(1641 -(1373 + 263))) or  not IsPlayerSpell(v23.GlacialSpikeTalent)) and (v10(v23.WintersChillDebuff)==0) and (v12(v23.WintersChillDebuff)==false) and ((aura_env.PrevCast==v23.GlacialSpike) or v8(v23.GlacialSpike) or (aura_env.PrevCast==v23.FrostfireBolt) or v8(v23.FrostfireBolt) or (aura_env.PrevCast==v23.CometStorm) or v8(v23.CometStorm))) then local v70=1000 -(451 + 549) ;while true do if (v70==0) then v20("Flurry");return true;end end end if (v3(v23.Flurry) and v3(v23.Flurry) and ((v31<(2 + 3)) or  not IsPlayerSpell(v23.GlacialSpikeTalent)) and v11(v23.ExcessFireBuff) and v11(v23.ExcessFrostBuff)) then v20("Flurry");return true;end if v3(v23.CometStorm) then if ((aura_env.config[tostring(v23.CometStorm)]==true) and aura_env.FlagKTrigCD) then v21("Comet Storm");elseif (aura_env.config[tostring(v23.CometStorm)]~=true) then local v84=0 -0 ;while true do if (v84==(0 -0)) then v20("Comet Storm");return true;end end end end if (v3(v23.GlacialSpike) and (v31==(1389 -(746 + 638)))) then if ((aura_env.config[tostring(v23.GlacialSpike)]==true) and aura_env.FlagKTrigCD) then v21("Glacial Spike");elseif (aura_env.config[tostring(v23.GlacialSpike)]~=true) then local v85=0 + 0 ;while true do if (0==v85) then v20("Glacial Spike");return true;end end end end if (v3(v23.RayOfFrost) and (v10(v23.WintersChillDebuff)==(1 -0))) then if ((aura_env.config[tostring(v23.RayOfFrost)]==true) and aura_env.FlagKTrigCD) then v21("Ray of Frost");elseif (aura_env.config[tostring(v23.RayOfFrost)]~=true) then v20("Ray of Frost");return true;end end if v3(v23.FrozenOrb) then if ((aura_env.config[tostring(v23.FrozenOrb)]==true) and aura_env.FlagKTrigCD) then v21("Frozen Orb");elseif (aura_env.config[tostring(v23.FrozenOrb)]~=true) then local v86=0;while true do if (v86==(341 -(218 + 123))) then v20("Frozen Orb");return true;end end end end if (v3(v23.ShiftingPower) and (v7(v23.IcyVeins)>(1591 -(1535 + 46))) and (v7(v23.FrozenOrb)>(10 + 0)) and ( not IsPlayerSpell(v23.CometStormTalent) or (v7(v23.CometStorm)>10)) and ( not IsPlayerSpell(v23.RayOfFrostTalent) or (v7(v23.RayOfFrost)>(2 + 8)))) then if ((aura_env.config[tostring(v23.ShiftingPower)]==true) and aura_env.FlagKTrigCD) then v21("Shifting Power");elseif (aura_env.config[tostring(v23.ShiftingPower)]~=true) then local v87=560 -(306 + 254) ;while true do if (v87==(0 + 0)) then v20("Shifting Power");return true;end end end end if (v3(v23.IceLance) and (v11(v23.FingersOfFrostBuff) or (v10(v23.WintersChillDebuff)>(0 -0)))) then local v71=1467 -(899 + 568) ;while true do if (v71==(0 + 0)) then v20("Ice Lance");return true;end end end if v3(v23.FrostfireBolt) then local v72=0 -0 ;while true do if (v72==0) then v20("Frostfire Bolt");return true;end end end if v35() then return true;end end;local v41=function() if (v3(v23.Flurry) and v3(v23.Flurry) and (v12(v23.WintersChillDebuff)==false) and (v10(v23.WintersChillDebuff)==(603 -(268 + 335))) and ((aura_env.PrevCast==v23.GlacialSpike) or v8(v23.GlacialSpike) or (aura_env.PrevCast==v23.Frostbolt) or v8(v23.Frostbolt))) then v20("Flurry");return true;end if (v3(v23.CometStorm) and v10(v23.WintersChillDebuff) and (v11(v23.IcyVeinsBuff)==false)) then if ((aura_env.config[tostring(v23.CometStorm)]==true) and aura_env.FlagKTrigCD) then v21("Comet Storm");elseif (aura_env.config[tostring(v23.CometStorm)]~=true) then local v88=290 -(60 + 230) ;while true do if (v88==(572 -(426 + 146))) then v20("Comet Storm");return true;end end end end if (v3(v23.FrozenOrb) and v3(v23.FrozenOrb) and ((v7(v23.IcyVeins)>30) or v11(v23.IcyVeinsBuff))) then if ((aura_env.config[tostring(v23.FrozenOrb)]==true) and aura_env.FlagKTrigCD) then v21("Frozen Orb");elseif (aura_env.config[tostring(v23.FrozenOrb)]~=true) then local v89=0 + 0 ;while true do if (v89==(1456 -(282 + 1174))) then v20("Frozen Orb");return true;end end end end if (v3(v23.RayOfFrost) and ((aura_env.PrevCast==v23.Flurry) or v8(v23.Flurry))) then if ((aura_env.config[tostring(v23.RayOfFrost)]==true) and aura_env.FlagKTrigCD) then v21("Ray of Frost");elseif (aura_env.config[tostring(v23.RayOfFrost)]~=true) then v20("Ray of Frost");return true;end end if (v3(v23.GlacialSpike) and (v31==(816 -(569 + 242))) and (v3(v23.Flurry) or v10(v23.WintersChillDebuff))) then if ((aura_env.config[tostring(v23.GlacialSpike)]==true) and aura_env.FlagKTrigCD) then v21("Glacial Spike");elseif (aura_env.config[tostring(v23.GlacialSpike)]~=true) then v20("Glacial Spike");return true;end end if (v3(v23.ShiftingPower) and (v7(v23.IcyVeins)>10) and  not v3(v23.Flurry) and ((v18(172 -112 ,v30) + 1 + 14)>v7(v23.IcyVeins))) then if ((aura_env.config[tostring(v23.ShiftingPower)]==true) and aura_env.FlagKTrigCD) then v21("Shifting Power");elseif (aura_env.config[tostring(v23.ShiftingPower)]~=true) then local v90=0;while true do if (v90==(1024 -(706 + 318))) then v20("Shifting Power");return true;end end end end if (v3(v23.IceLance) and (v11(v23.FingersOfFrostBuff) or v10(v23.WintersChillDebuff))) then local v73=0;while true do if (v73==(1251 -(721 + 530))) then v20("Ice Lance");return true;end end end if v3(v23.Frostbolt) then v20("Frostbolt");return true;end if v35() then return true;end end;if (IsPlayerSpell(v23.FrostfireBoltTalent) and (v29>=(1274 -(945 + 326)))) then local v48=0 -0 ;while true do if (v48==(0 + 0)) then v36();return true;end end end if (v29>=(703 -(271 + 429))) then local v49=0 + 0 ;while true do if (v49==(1500 -(1408 + 92))) then v37();return true;end end end if (IsPlayerSpell(v23.FrostfireBoltTalent) and (v29==2)) then v38();return true;end if (v29==2) then v39();return true;end if IsPlayerSpell(v23.FrostfireBoltTalent) then v40();return true;end if v41() then return true;end v20("Clear");v21("Clear");end;