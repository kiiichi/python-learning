function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.ids;aura_env.OutOfRange=false;local v25=UnitPower("player",Enum.PowerType.Focus);local v26=UnitPowerMax("player",Enum.PowerType.Focus);local v27=WeakAuras.GetNumSetItemsEquipped(1923);local v28=select(9,UnitCastingInfo("player"));if (v28~=nil) then if (v28==v23.SteadyShot) then v25=v25 + (917 -(821 + 86)) ;elseif (v28==v23.AimedShot) then v25=v25-(74 -39) ;end end local v29=1883 -(1668 + 215) ;local v30=37 + 3 ;for v41=3 -2 ,40 do local v42=0 + 0 ;local v43;while true do if (v42==(518 -(114 + 404))) then v43="nameplate"   .. v41 ;if (UnitExists(v43) and  not UnitIsFriend("player",v43) and WeakAuras.CheckRange(v43,v30,"<=") and (UnitAffectingCombat(v43) or aura_env.config['BypassCombatRequirement'])) then v29=v29 + 1 ;end break;end end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v29);local v31=v11(v23.PreciseShotsBuff) or v8(v23.AimedShot) ;local v32=v12(v23.SpottersMarkDebuff) and  not v8(v23.AimedShot) ;local v33=v11(v23.MovingTargetBuff) and  not v8(v23.AimedShot) ;local v34=v11(v23.LunarStormReadyBuff) or (v5("player",v23.LunarStormCooldownBuff,"HARMFUL")==0) ;local v35=v11(v23.Volley) or (v11(v23.TrickShotsBuff) and  not v8(v23.AimedShot) and  not (select(496 -(106 + 382) ,UnitChannelInfo("player"))==v23.RapidFire) and  not (aura_env.PrevCast==v23.RapidFire)) ;if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then local v62=0;while true do if (v62==(412 -(306 + 105))) then v21("Clear",nil);return;end if (v62==(0 -0)) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v20("Clear",nil);v62=428 -(166 + 261) ;end end end end local v36={};if (v3(v23.Trueshot) and (v29>2) and IsPlayerSpell(v23.TrickShotsTalent) and (v11(v23.DoubleTapBuff)==false) and ((v5("player",v23.LunarStormCooldownBuff,"HARMFUL")>(530 -(289 + 218))) or  not IsPlayerSpell(v23.SentinelTalent)) and v7(v23.RapidFire) and ( not v31 or (v32 and v33)) and v11(v23.TrickShotsBuff)) then v36.Trueshot=true;end if (v3(v23.Trueshot) and (v29<=(1345 -(1213 + 131))) and (v11(v23.DoubleTapBuff)==false) and ((v5("player",v23.LunarStormCooldownBuff,"HARMFUL")>23) or  not IsPlayerSpell(v23.SentinelTalent)) and v7(v23.RapidFire)) then v36.Trueshot=true;end if (v3(v23.Trueshot) and (((v29>(1 + 0)) and  not IsPlayerSpell(v23.TrickShotsTalent)) or (v29==(2 + 0))) and ((v11(v23.DoubleTapBuff)==false) or  not IsPlayerSpell(v23.VolleyTalent)) and ( not v34 or  not IsPlayerSpell(v23.DoubleTapTalent) or  not IsPlayerSpell(v23.VolleyTalent)) and ( not v31 or v33 or  not IsPlayerSpell(v23.VolleyTalent))) then v36.Trueshot=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v36);local v37=function() if (v3(v23.ExplosiveShot) and  not v12(v23.SpottersMarkDebuff) and IsPlayerSpell(v23.ShrapnelShotTalent) and (v11(v23.LockAndLoadBuff)==false) and (v14(v23.AimedShot)<(3 -2))) then if ((aura_env.config[tostring(v23.ExplosiveShot)]==true) and aura_env.FlagKTrigCD) then v21("Explosive Shot");elseif (aura_env.config[tostring(v23.ExplosiveShot)]~=true) then v20("Explosive Shot");return true;end end if (v3(v23.KillShot) and (FindSpellOverrideByID(v23.KillShot)==v23.BlackArrow) and v31 and  not v33 and v3(v23.Trueshot)) then local v48=0 -0 ;while true do if (v48==(859 -(814 + 45))) then v20("Black Arrow");return true;end end end if (v3(v23.Volley) and ((IsPlayerSpell(v23.DoubleTapTalent) and (v11(v23.DoubleTapBuff)==false)) or  not IsPlayerSpell(v23.AspectOfTheHydraTalent)) and ( not v31 or v33)) then if ((aura_env.config[tostring(v23.Volley)]==true) and aura_env.FlagKTrigCD) then v21("Volley");elseif (aura_env.config[tostring(v23.Volley)]~=true) then v20("Volley");return true;end end if (v3(v23.RapidFire) and IsPlayerSpell(v23.BulletstormTalent) and (v11(v23.BulletstormBuff)==false) and ( not IsPlayerSpell(v23.DoubleTapTalent) or v11(v23.DoubleTapBuff) or ( not IsPlayerSpell(v23.AspectOfTheHydraTalent) and (v5("player",v23.TrickShotsBuff)>max(C_Spell.GetSpellInfo(v23.RapidFire).castTime/1000 ,WeakAuras.gcdDuration())))) and ( not v31 or v33 or  not IsPlayerSpell(v23.VolleyTalent))) then if ((aura_env.config[tostring(v23.RapidFire)]==true) and aura_env.FlagKTrigCD) then v21("Rapid Fire");elseif (aura_env.config[tostring(v23.RapidFire)]~=true) then v20("Rapid Fire");return true;end end if (v3(v23.Volley) and  not IsPlayerSpell(v23.DoubleTapTalent) and ( not v31 or v33)) then if ((aura_env.config[tostring(v23.Volley)]==true) and aura_env.FlagKTrigCD) then v21("Volley");elseif (aura_env.config[tostring(v23.Volley)]~=true) then v20("Volley");return true;end end if (v3(v23.SteadyShot) and IsPlayerSpell(v23.BlackArrowTalent) and ((v25 + (49 -29))<v26) and (v8(v23.AimedShot) or ((aura_env.PrevCast==v23.AimedShot) and ((GetTime() -aura_env.PrevCastTime)<0.15))) and  not v11(v23.DeathblowBuff) and (v11(v23.TrueshotBuff)==false) and v7(v23.Trueshot)) then local v49=0;while true do if (v49==(0 + 0)) then v20("Steady Shot");return true;end end end if (v3(v23.RapidFire) and IsPlayerSpell(v23.LunarStormTalent) and (v11(v23.LunarStormCooldownBuff)==false) and ( not v31 or v33 or ((v7(v23.Volley)>(0 + 0)) and (v7(v23.Trueshot)>(885 -(261 + 624)))) or  not IsPlayerSpell(v23.VolleyTalent))) then if ((aura_env.config[tostring(v23.RapidFire)]==true) and aura_env.FlagKTrigCD) then v21("Rapid Fire");elseif (aura_env.config[tostring(v23.RapidFire)]~=true) then local v67=0 -0 ;while true do if (v67==(1080 -(1020 + 60))) then v20("Rapid Fire");return true;end end end end if (v3(v23.KillShot) and ((IsPlayerSpell(v23.HeadshotTalent) and v31 and ( not v32 or  not v33)) or ( not IsPlayerSpell(v23.HeadshotTalent) and v11(v23.RazorFragmentsBuff)))) then v20("Kill Shot");return true;end if (v3(v23.KillShot) and (FindSpellOverrideByID(v23.KillShot)==v23.BlackArrow) and ((IsPlayerSpell(v23.HeadshotTalent) and v31 and ( not v32 or  not v33)) or ( not IsPlayerSpell(v23.HeadshotTalent) and v11(v23.RazorFragmentsBuff)))) then local v50=1423 -(630 + 793) ;while true do if (v50==(0 -0)) then v20("Black Arrow");return true;end end end if (v3(v23.AimedShot) and  not (v8(v23.AimedShot) and (C_Spell.GetSpellCharges(v23.AimedShot).currentCharges==1)) and (v11(v23.TrueshotBuff)==true) and v32 and IsPlayerSpell(v23.SentinelTalent)) then local v51=0 -0 ;while true do if (v51==0) then v20("Aimed Shot");return true;end end end if (v3(v23.Multishot) and v31 and ( not v32 or  not v33) and  not IsPlayerSpell(v23.AspectOfTheHydraTalent) and (IsPlayerSpell(v23.SymphonicArsenalTalent) or IsPlayerSpell(v23.SmallGameHunterTalent))) then v20("Multishot");return true;end if (v3(v23.ArcaneShot) and v31 and ( not v32 or  not v33)) then v20("Arcane Shot");return true;end if (v3(v23.AimedShot) and  not (v8(v23.AimedShot) and (C_Spell.GetSpellCharges(v23.AimedShot).currentCharges==(1 + 0))) and ( not v31 or (v32 and v33)) and (v16(v23.AimedShot)<(max(C_Spell.GetSpellInfo(v23.RapidFire).castTime/1000 ,WeakAuras.gcdDuration()) + (C_Spell.GetSpellInfo(v23.AimedShot).castTime/(3443 -2443)))) and ( not IsPlayerSpell(v23.BulletstormTalent) or v11(v23.BulletstormBuff)) and IsPlayerSpell(v23.WindrunnerQuiverTalent)) then local v52=1747 -(760 + 987) ;while true do if (v52==(1913 -(1789 + 124))) then v20("Aimed Shot");return true;end end end if (v3(v23.RapidFire) and ( not IsPlayerSpell(v23.BulletstormTalent) or (v9(v23.BulletstormBuff)<=(776 -(745 + 21))) or IsPlayerSpell(v23.AspectOfTheHydraTalent))) then if ((aura_env.config[tostring(v23.RapidFire)]==true) and aura_env.FlagKTrigCD) then v21("Rapid Fire");elseif (aura_env.config[tostring(v23.RapidFire)]~=true) then local v68=0 + 0 ;while true do if (v68==(0 -0)) then v20("Rapid Fire");return true;end end end end if (v3(v23.AimedShot) and  not (v8(v23.AimedShot) and (C_Spell.GetSpellCharges(v23.AimedShot).currentCharges==1)) and ( not v31 or (v32 and v33))) then v20("Aimed Shot");return true;end if v3(v23.RapidFire) then if ((aura_env.config[tostring(v23.RapidFire)]==true) and aura_env.FlagKTrigCD) then v21("Rapid Fire");elseif (aura_env.config[tostring(v23.RapidFire)]~=true) then local v69=0;while true do if (v69==(0 -0)) then v20("Rapid Fire");return true;end end end end if (v3(v23.ExplosiveShot) and  not v12(v23.SpottersMarkDebuff) and (IsPlayerSpell(v23.PrecisionDetonationTalent) or (v11(v23.TrueshotBuff)==false))) then if ((aura_env.config[tostring(v23.ExplosiveShot)]==true) and aura_env.FlagKTrigCD) then v21("Explosive Shot");elseif (aura_env.config[tostring(v23.ExplosiveShot)]~=true) then local v70=0;while true do if (v70==(0 + 0)) then v20("Explosive Shot");return true;end end end end if (v3(v23.KillShot) and (FindSpellOverrideByID(v23.KillShot)==v23.BlackArrow) and  not IsPlayerSpell(v23.HeadshotTalent)) then local v53=0 + 0 ;while true do if (v53==0) then v20("Black Arrow");return true;end end end if v3(v23.SteadyShot) then local v54=0;while true do if (v54==0) then v20("Steady Shot");return true;end end end end;local v38=function() local v44=1055 -(87 + 968) ;while true do if (v44==(0 -0)) then if (v3(v23.ExplosiveShot) and IsPlayerSpell(v23.PrecisionDetonationTalent) and (v8(v23.AimedShot) or ((aura_env.PrevCast==v23.AimedShot) and ((GetTime() -aura_env.PrevCastTime)<(0.15 + 0)))) and (v11(v23.TrueshotBuff)==false) and  not v11(v23.LockAndLoadBuff)) then if ((aura_env.config[tostring(v23.ExplosiveShot)]==true) and aura_env.FlagKTrigCD) then v21("Explosive Shot");elseif (aura_env.config[tostring(v23.ExplosiveShot)]~=true) then local v77=0;while true do if (v77==(0 -0)) then v20("Explosive Shot");return true;end end end end if (v3(v23.Volley) and (v11(v23.DoubleTapBuff)==false)) then if ((aura_env.config[tostring(v23.Volley)]==true) and aura_env.FlagKTrigCD) then v21("Volley");elseif (aura_env.config[tostring(v23.Volley)]~=true) then local v78=1413 -(447 + 966) ;while true do if (v78==(0 -0)) then v20("Volley");return true;end end end end v44=1818 -(1703 + 114) ;end if (v44==(704 -(376 + 325))) then if (v3(v23.AimedShot) and  not (v8(v23.AimedShot) and (C_Spell.GetSpellCharges(v23.AimedShot).currentCharges==1)) and ( not v31 or (v32 and v33))) then local v63=0 -0 ;while true do if (v63==0) then v20("Aimed Shot");return true;end end end if (v3(v23.ExplosiveShot) and IsPlayerSpell(v23.ShrapnelShotTalent) and v11(v23.LockAndLoadBuff)) then if ((aura_env.config[tostring(v23.ExplosiveShot)]==true) and aura_env.FlagKTrigCD) then v21("Explosive Shot");elseif (aura_env.config[tostring(v23.ExplosiveShot)]~=true) then v20("Explosive Shot");return true;end end v44=12 -8 ;end if (v44==(1 + 1)) then if (v3(v23.AimedShot) and  not (v8(v23.AimedShot) and (C_Spell.GetSpellCharges(v23.AimedShot).currentCharges==(2 -1))) and ((v11(v23.TrueshotBuff) and  not v31) or (v11(v23.LockAndLoadBuff) and v33))) then v20("Aimed Shot");return true;end if (v3(v23.ArcaneShot) and v31 and ( not v32 or  not v33) and  not v11(v23.DeathblowBuff)) then local v64=14 -(9 + 5) ;while true do if (v64==(376 -(85 + 291))) then v20("Arcane Shot");return true;end end end v44=1268 -(243 + 1022) ;end if (v44==(3 -2)) then if (v3(v23.SteadyShot) and IsPlayerSpell(v23.BlackArrowTalent) and ((v25 + 20)<v26) and (v8(v23.AimedShot) or ((aura_env.PrevCast==v23.AimedShot) and ((GetTime() -aura_env.PrevCastTime)<0.15))) and  not v11(v23.DeathblowBuff) and (v11(v23.TrueshotBuff)==false) and v7(v23.Trueshot)) then local v65=0 + 0 ;while true do if (v65==(1180 -(1123 + 57))) then v20("Steady Shot");return true;end end end if (v3(v23.KillShot) and (FindSpellOverrideByID(v23.KillShot)==v23.BlackArrow) and ( not IsPlayerSpell(v23.HeadshotTalent) or (IsPlayerSpell(v23.HeadshotTalent) and v31 and ( not v32 or  not v33)))) then local v66=0 + 0 ;while true do if (v66==0) then v20("Black Arrow");return true;end end end v44=256 -(163 + 91) ;end if (v44==(1934 -(1869 + 61))) then if v3(v23.SteadyShot) then v20("Steady Shot");return true;end break;end end end;local v39=function() if (v3(v23.ExplosiveShot) and  not v12(v23.SpottersMarkDebuff) and IsPlayerSpell(v23.ShrapnelShotTalent) and (v11(v23.LockAndLoadBuff)==false) and (v14(v23.AimedShot)<(1 + 0))) then if ((aura_env.config[tostring(v23.ExplosiveShot)]==true) and aura_env.FlagKTrigCD) then v21("Explosive Shot");elseif (aura_env.config[tostring(v23.ExplosiveShot)]~=true) then local v71=0 -0 ;while true do if (v71==0) then v20("Explosive Shot");return true;end end end end if (v3(v23.Volley) and (v11(v23.DoubleTapBuff)==false)) then if ((aura_env.config[tostring(v23.Volley)]==true) and aura_env.FlagKTrigCD) then v21("Volley");elseif (aura_env.config[tostring(v23.Volley)]~=true) then local v72=0 -0 ;while true do if (v72==(0 + 0)) then v20("Volley");return true;end end end end if (v3(v23.SteadyShot) and IsPlayerSpell(v23.BlackArrowTalent) and ((v25 + (27 -7))<v26) and (v8(v23.AimedShot) or ((aura_env.PrevCast==v23.AimedShot) and ((GetTime() -aura_env.PrevCastTime)<0.15))) and  not v11(v23.DeathblowBuff) and (v11(v23.TrueshotBuff)==false) and v7(v23.Trueshot)) then v20("Steady Shot");return true;end if (v3(v23.RapidFire) and IsPlayerSpell(v23.LunarStormTalent) and (v11(v23.LunarStormCooldownBuff)==false)) then if ((aura_env.config[tostring(v23.RapidFire)]==true) and aura_env.FlagKTrigCD) then v21("Rapid Fire");elseif (aura_env.config[tostring(v23.RapidFire)]~=true) then v20("Rapid Fire");return true;end end if (v3(v23.KillShot) and ((IsPlayerSpell(v23.HeadshotTalent) and v31 and ( not v32 or  not v33)) or ( not IsPlayerSpell(v23.HeadshotTalent) and v11(v23.RazorFragmentsBuff)))) then local v55=0 + 0 ;while true do if (v55==0) then v20("Kill Shot");return true;end end end if (v3(v23.ArcaneShot) and v31 and ( not v32 or  not v33)) then v20("Arcane Shot");return true;end if (v3(v23.AimedShot) and  not (v8(v23.AimedShot) and (C_Spell.GetSpellCharges(v23.AimedShot).currentCharges==1)) and ( not v31 or (v32 and v33)) and (v16(v23.AimedShot)<(max(C_Spell.GetSpellInfo(v23.RapidFire).castTime/(2474 -(1329 + 145)) ,WeakAuras.gcdDuration()) + (C_Spell.GetSpellInfo(v23.AimedShot).castTime/1000))) and ( not IsPlayerSpell(v23.BulletstormTalent) or v11(v23.BulletstormBuff)) and IsPlayerSpell(v23.WindrunnerQuiverTalent)) then v20("Aimed Shot");return true;end if v3(v23.RapidFire) then if ((aura_env.config[tostring(v23.RapidFire)]==true) and aura_env.FlagKTrigCD) then v21("Rapid Fire");elseif (aura_env.config[tostring(v23.RapidFire)]~=true) then v20("Rapid Fire");return true;end end if (v3(v23.AimedShot) and  not (v8(v23.AimedShot) and (C_Spell.GetSpellCharges(v23.AimedShot).currentCharges==(972 -(140 + 831)))) and ( not v31 or (v32 and v33))) then local v56=1850 -(1409 + 441) ;while true do if (v56==(718 -(15 + 703))) then v20("Aimed Shot");return true;end end end if (v3(v23.ExplosiveShot) and  not v12(v23.SpottersMarkDebuff) and (IsPlayerSpell(v23.PrecisionDetonationTalent) or (v11(v23.TrueshotBuff)==false))) then if ((aura_env.config[tostring(v23.ExplosiveShot)]==true) and aura_env.FlagKTrigCD) then v21("Explosive Shot");elseif (aura_env.config[tostring(v23.ExplosiveShot)]~=true) then v20("Explosive Shot");return true;end end if v3(v23.SteadyShot) then v20("Steady Shot");return true;end end;local v40=function() if (v3(v23.ExplosiveShot) and  not v12(v23.SpottersMarkDebuff) and IsPlayerSpell(v23.PrecisionDetonationTalent) and (v8(v23.AimedShot) or ((aura_env.PrevCast==v23.AimedShot) and ((GetTime() -aura_env.PrevCastTime)<(0.15 + 0)))) and (v11(v23.TrueshotBuff)==false) and ( not IsPlayerSpell(v23.ShrapnelShotTalent) or (v11(v23.LockAndLoadBuff)==false))) then if ((aura_env.config[tostring(v23.ExplosiveShot)]==true) and aura_env.FlagKTrigCD) then v21("Explosive Shot");elseif (aura_env.config[tostring(v23.ExplosiveShot)]~=true) then local v73=438 -(262 + 176) ;while true do if ((1721 -(345 + 1376))==v73) then v20("Explosive Shot");return true;end end end end if (v3(v23.ExplosiveShot) and  not v12(v23.SpottersMarkDebuff) and IsPlayerSpell(v23.ShrapnelShotTalent) and (v11(v23.LockAndLoadBuff)==false) and (v14(v23.AimedShot)<1)) then if ((aura_env.config[tostring(v23.ExplosiveShot)]==true) and aura_env.FlagKTrigCD) then v21("Explosive Shot");elseif (aura_env.config[tostring(v23.ExplosiveShot)]~=true) then v20("Explosive Shot");return true;end end if (v3(v23.ExplosiveShot) and  not v12(v23.SpottersMarkDebuff) and IsPlayerSpell(v23.MagneticGunpowderTalent) and v31 and ((v11(v23.TrueshotBuff)==false) or (v14(v23.AimedShot)<1))) then if ((aura_env.config[tostring(v23.ExplosiveShot)]==true) and aura_env.FlagKTrigCD) then v21("Explosive Shot");elseif (aura_env.config[tostring(v23.ExplosiveShot)]~=true) then v20("Explosive Shot");return true;end end if (v3(v23.Volley) and (v11(v23.DoubleTapBuff)==false) and ( not IsPlayerSpell(v23.ShrapnelShotTalent) or (v11(v23.LockAndLoadBuff)==false)) and (((v14(v23.AimedShot)<2) and (v11(v23.TrueshotBuff)==true)) or (v14(v23.AimedShot)<(689 -(198 + 490))))) then if ((aura_env.config[tostring(v23.Volley)]==true) and aura_env.FlagKTrigCD) then v21("Volley");elseif (aura_env.config[tostring(v23.Volley)]~=true) then v20("Volley");return true;end end if (v3(v23.RapidFire) and IsPlayerSpell(v23.BulletstormTalent) and (v11(v23.BulletstormBuff)==false) and (v5("player",v23.TrickShotsBuff)>max(C_Spell.GetSpellInfo(v23.RapidFire).castTime/1000 ,WeakAuras.gcdDuration()))) then if ((aura_env.config[tostring(v23.RapidFire)]==true) and aura_env.FlagKTrigCD) then v21("Rapid Fire");elseif (aura_env.config[tostring(v23.RapidFire)]~=true) then v20("Rapid Fire");return true;end end if (v3(v23.RapidFire) and IsPlayerSpell(v23.SentinelTalent) and (v34 or (v5("player",v23.LunarStormCooldownBuff,"HARMFUL")>(79 -61))) and (v5("player",v23.TrickShotsBuff)>max(C_Spell.GetSpellInfo(v23.RapidFire).castTime/1000 ,WeakAuras.gcdDuration()))) then if ((aura_env.config[tostring(v23.RapidFire)]==true) and aura_env.FlagKTrigCD) then v21("Rapid Fire");elseif (aura_env.config[tostring(v23.RapidFire)]~=true) then local v74=0 -0 ;while true do if (v74==0) then v20("Rapid Fire");return true;end end end end if (v3(v23.SteadyShot) and IsPlayerSpell(v23.BlackArrowTalent) and ((v25 + (1226 -(696 + 510)))<v26) and (v8(v23.AimedShot) or ((aura_env.PrevCast==v23.AimedShot) and ((GetTime() -aura_env.PrevCastTime)<(0.15 -0)))) and  not v11(v23.DeathblowBuff) and (v11(v23.TrueshotBuff)==false) and v7(v23.Trueshot)) then local v57=1262 -(1091 + 171) ;while true do if (v57==0) then v20("Steady Shot");return true;end end end if (v3(v23.KillShot) and (FindSpellOverrideByID(v23.KillShot)==v23.BlackArrow) and ( not IsPlayerSpell(v23.HeadshotTalent) or v31 or (v11(v23.TrickShotsBuff)==false))) then v20("Black Arrow");return true;end if (v3(v23.Multishot) and ((v31 and  not v33) or (v11(v23.TrickShotsBuff)==false)) and  not (v11(v23.VolleyBuff) and (v14(v23.AimedShot)>=(1 + 0)) and (v5("player",v23.VolleyBuff)>max(C_Spell.GetSpellInfo(v23.AimedShot).castTime/(3148 -2148) ,WeakAuras.gcdDuration())))) then local v58=0 -0 ;while true do if (v58==(374 -(123 + 251))) then v20("Multishot");return true;end end end if (v3(v23.Volley) and (v11(v23.DoubleTapBuff)==false) and ( not IsPlayerSpell(v23.SalvoTalent) or  not IsPlayerSpell(v23.PrecisionDetonationTalent) or  not v31 or (v32 and v33)) and (((v14(v23.AimedShot)<(9 -7)) and (v11(v23.TrueshotBuff)==true)) or (v14(v23.AimedShot)<(699 -(208 + 490))))) then if ((aura_env.config[tostring(v23.Volley)]==true) and aura_env.FlagKTrigCD) then v21("Volley");elseif (aura_env.config[tostring(v23.Volley)]~=true) then v20("Volley");return true;end end if (v3(v23.AimedShot) and  not (v8(v23.AimedShot) and (C_Spell.GetSpellCharges(v23.AimedShot).currentCharges==(1 + 0))) and ((( not v31 or (v32 and v33)) and v11(v23.TrickShotsBuff) and v11(v23.BulletstormBuff) and (v16(v23.AimedShot)<WeakAuras.gcdDuration())) or v11(v23.VolleyBuff))) then v20("Aimed Shot");return true;end if (v3(v23.AimedShot) and  not (v8(v23.AimedShot) and (C_Spell.GetSpellCharges(v23.AimedShot).currentCharges==1)) and v12(v23.ExplosiveShotDebuff) and IsPlayerSpell(v23.PrecisionDetonationTalent) and v11(v23.TrickShotsBuff)) then local v59=0 + 0 ;while true do if (0==v59) then v20("Aimed Shot");return true;end end end if (v3(v23.RapidFire) and (v5("player",v23.TrickShotsBuff)>max(C_Spell.GetSpellInfo(v23.RapidFire).castTime/(1836 -(660 + 176)) ,WeakAuras.gcdDuration())) and ( not IsPlayerSpell(v23.BlackArrowTalent) or (v11(v23.DeathblowBuff)==false)) and ( not IsPlayerSpell(v23.NoScopeTalent) or  not v32) and (IsPlayerSpell(v23.NoScopeTalent) or (v11(v23.BulletstormBuff)==false))) then if ((aura_env.config[tostring(v23.RapidFire)]==true) and aura_env.FlagKTrigCD) then v21("Rapid Fire");elseif (aura_env.config[tostring(v23.RapidFire)]~=true) then local v75=0;while true do if (v75==(0 + 0)) then v20("Rapid Fire");return true;end end end end if (v3(v23.ExplosiveShot) and  not v12(v23.SpottersMarkDebuff) and IsPlayerSpell(v23.PrecisionDetonationTalent) and IsPlayerSpell(v23.ShrapnelShotTalent) and (v11(v23.LockAndLoadBuff)==false) and ( not v31 or (v32 and v33))) then if ((aura_env.config[tostring(v23.ExplosiveShot)]==true) and aura_env.FlagKTrigCD) then v21("Explosive Shot");elseif (aura_env.config[tostring(v23.ExplosiveShot)]~=true) then v20("Explosive Shot");return true;end end if (v3(v23.AimedShot) and  not (v8(v23.AimedShot) and (C_Spell.GetSpellCharges(v23.AimedShot).currentCharges==1)) and ( not v31 or (v32 and v33)) and v11(v23.TrickShotsBuff)) then v20("Aimed Shot");return true;end if (v3(v23.ExplosiveShot) and  not v12(v23.SpottersMarkDebuff) and  not IsPlayerSpell(v23.ShrapnelShotTalent)) then if ((aura_env.config[tostring(v23.ExplosiveShot)]==true) and aura_env.FlagKTrigCD) then v21("Explosive Shot");elseif (aura_env.config[tostring(v23.ExplosiveShot)]~=true) then local v76=0;while true do if (v76==(202 -(14 + 188))) then v20("Explosive Shot");return true;end end end end if (v3(v23.SteadyShot) and ((v25 + 20)<v26)) then local v60=675 -(534 + 141) ;while true do if (v60==0) then v20("Steady Shot");return true;end end end if v3(v23.Multishot) then local v61=0 + 0 ;while true do if (v61==(0 + 0)) then v20("Multishot");return true;end end end end;if ((v29>(2 + 0)) and IsPlayerSpell(v23.TrickShotsTalent)) then if v40() then return true;end end if (v29>(1 -0)) then if v37() then return true;end end if ((v29<=(1 -0)) and (IsPlayerSpell(v23.BlackArrowTalent))) then if v38() then return true;end end if ((v29<=(2 -1)) and  not IsPlayerSpell(v23.BlackArrowTalent)) then if v39() then return true;end end v20("Clear");end;