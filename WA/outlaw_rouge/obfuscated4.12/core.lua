function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.FullGCD;local v24=aura_env.ids;aura_env.OutOfRange=false;local v26={};local v27=WeakAuras.GetNumSetItemsEquipped(787 + 900 );local v28=UnitPower("player",Enum.PowerType.ComboPoints);local v29=UnitPowerMax("player",Enum.PowerType.ComboPoints);local v30=UnitPower("player",Enum.PowerType.Energy);local v31=UnitPowerMax("player",Enum.PowerType.Energy);local v32=v28;local v33=((aura_env.Envenom1<v2) and (0 -0)) or (aura_env.Envenom1-v2) ;local v34=v11(v24.SubterfugeBuff) or v11(v24.StealthBuff) ;local v35=v11(392403) or v11(1207408 -815007 ) ;local v36=GetPowerRegen();local v37=(1 + 1)/((2 -1) + ((14.01 -(9 + 5)) * UnitSpellHaste("player"))) ;local v38=0;local v39=0 + 0 ;local v40={1968 -(243 + 1022) ,7393 -5450 ,1098478 -737652 ,360830};local v41={8934 -(163 + 91) ,4793 -(1913 + 62) ,1350389 -966975 };local v42=function(v68) local v69=0;while true do if (v69==(0 -0)) then for v94,v95 in ipairs(v41) do if WA_GetUnitDebuff(v68,v95,"PLAYER") then return true;end end return false;end end end;local v43=26 -16 ;local v44=0 + 0 ;local v45=0 -0 ;local v46=0 -0 ;local v47=0 + 0 ;local v48=1474 -(1329 + 145) ;local v49=0 -0 ;local v50=0 + 0 ;for v70=857 -(564 + 292) ,1011 -(140 + 831)  do local v71="nameplate"   .. v70 ;if (UnitExists(v71) and  not UnitIsFriend("player",v71) and WeakAuras.CheckRange(v71,v43,"<=")) then local v84=1850 -(1409 + 441) ;while true do if (v84==(720 -(15 + 703))) then if (aura_env.GarroteSnapshots[UnitGUID(v71)]==nil) then aura_env.GarroteSnapshots[UnitGUID(v71)]=0 + 0 ;end if (aura_env.GarroteSnapshots[UnitGUID(v71)]<=(1 + 0)) then v48=v48 + (439 -(262 + 176)) ;end v84=1724 -(345 + 1376) ;end if (v84==(689 -(198 + 490))) then if WA_GetUnitDebuff(v71,v24.Rupture,"PLAYER") then v46=v46 + 1 + 0 ;end if (v6(v71,v24.Garrote)<(52 -40)) then v47=v47 + (2 -1) ;end v84=1208 -(696 + 510) ;end if (v84==(1617 -(1565 + 48))) then if v42(v71) then local v123=0;while true do if (v123==(0 -0)) then v38=v38 + (1139 -(782 + 356)) ;for v125,v126 in ipairs(v40) do if WA_GetUnitDebuff(v71,v126,"PLAYER") then v39=v39 + (1263 -(1091 + 171)) ;end end break;end end end break;end if (v84==(0 -0)) then v44=v44 + (1 -0) ;if WA_GetUnitDebuff(v71,v24.Garrote,"PLAYER") then v45=v45 + (1093 -(975 + 117)) ;end v84=1 + 0 ;end if (v84==(3 + 0)) then if (v19(v24.Garrote,v71,"HARMFUL|PLAYER") and (aura_env.GarroteSnapshots[UnitGUID(v71)]<=(3 -2))) then v49=v49 + (3 -2) ;end if v19(v24.Rupture,v71,"HARMFUL|PLAYER") then v50=v50 + (3 -2) ;end v84=378 -(123 + 251) ;end end end end if  not (v45<v44) then WeakAuras.ScanEvents("K_NEARBY_GARROTED_SAT");end if  not (v46<v44) then WeakAuras.ScanEvents("K_NEARBY_RUPTURED_SAT");end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v44);v36=v36 + ((v39 * (18 -11))/v37) ;if IsPlayerSpell(v24.DashingScoundrelTalent) then v36=v36 + (((0.9 -0) * v38 * (GetCritChance()/(798 -(208 + 490))))/v37) ;end WeakAuras.ScanEvents("K_GARROTE_DATA",v45,v44);WeakAuras.ScanEvents("K_RUPTURE_DATA",v46,v44);if (C_Item.IsItemInRange(37148 -21034 ,"target")==false) then aura_env.OutOfRange=true;end v26.EffectiveSpendCp=max(v29-(1 + 1) ,(3 + 2) * ((IsPlayerSpell(v24.HandOfFateTalent) and (1 -0)) or (0 -0)) );v26.SingleTarget=v44<(838 -(660 + 176)) ;v26.RegenSaturated=v36>(641 -(602 + 9)) ;v26.InCooldowns=v12(v24.Deathmark) or v12(v24.Kingsbane) or v12(v24.ShivDebuff) ;v26.UpperLimitEnergy=((v30/v31) * (13 + 87))>=(50 -((212 -(14 + 188)) * ((IsPlayerSpell(v24.ViciousVenomsTalent) and (677 -(534 + 141))) or (0 -0)))) ;v26.CdSoon=(v7(v24.Kingsbane)<(2 + 1)) and  not v3(v24.Kingsbane) ;v26.NotPooling=v26.InCooldowns or ( not v26.CdSoon and v11(v24.DarkestNightBuff)) or v26.UpperLimitEnergy or (v18(54 + 6 ,v43)<=(20 + 0)) ;v26.ScentEffectiveMaxStacks=min(v44 * ((IsPlayerSpell(v24.ScentOfBloodTalent) and 2) or (440 -(382 + 58))) * 2 ,42 -22 );v26.ScentSaturation=v9(v24.ScentOfBloodBuff)>=v26.ScentEffectiveMaxStacks ;local v60={};if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then local v90=0 -0 ;while true do if (v90==(0 -0)) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v20("Clear",nil);v90=2 -1 ;end if (v90==(1 + 0)) then v21("Clear",nil);return;end end end end if (v3(v24.ThistleTea) and (( not v11(v24.ThistleTeaBuff) and (v6("target",v24.ShivDebuff)>=(1211 -(902 + 303))) and  not v12(v24.KingsbaneDebuff)) or ( not v11(v24.ThistleTeaBuff) and v12(v24.KingsbaneDebuff) and (v6("target",v24.KingsbaneDebuff)<=(12 -6))) or ( not v11(v24.ThistleTeaBuff) and (v18(39 + 21 ,v43)<=(C_Spell.GetSpellCharges(v24.ThistleTea).currentCharges * (14 -8)))))) then v60.ThistleTea=true;end if (v3(v24.ColdBlood) and (v7(v24.Deathmark)>(406 -(115 + 281))) and  not v11(v24.DarkestNightBuff) and (v32>=v26.EffectiveSpendCp) and (v26.NotPooling or (v10(v24.AmplifyingPoisonDebuff)>=(46 -26)) or  not (v44<(2 + 0))) and  not v11(v24.VanishBuff) and ( not v3(v24.Kingsbane) or  not (v44<(4 -2))) and  not v3(v24.Deathmark)) then v60.ColdBlood=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v60,nil);local v61=function() local v72=683 -(483 + 200) ;while true do if (v72==(7 -5)) then if (v3(v24.Rupture) and (v32>=v26.EffectiveSpendCp) and v19(v24.Rupture) and ( not v12(v24.Kingsbane) or v11(v24.ColdBlood)) and  not v26.RegenSaturated and (IsPlayerSpell(v24.ScentOfBloodTalent) or v11(v24.IndiscriminateCarnageBuff) or ((v17(867 -(550 + 317) ,86 -26 ) -v6("target",v24.Rupture))>(21 -6))) and ((v17(0 -0 ,345 -(134 + 151) ) -v6("target",v24.Rupture))>((569 -(334 + 228)) + (((IsPlayerSpell(v24.DashingScoundrelTalent) and (3 -2)) or (1665 -(970 + 695))) * 5) + (((v26.RegenSaturated and (1 -0)) or (1990 -(582 + 1408))) * (2 + 4)))) and  not v11(v24.DarkestNightBuff)) then local v103=0 -0 ;while true do if (v103==(0 -0)) then v20("Rupture");return true;end end end if (v3(v24.Rupture) and (aura_env.config['PerformanceMode']==true) and (v32>=v26.EffectiveSpendCp) and (v50>0) and ( not v12(v24.Kingsbane) or v11(v24.ColdBlood)) and v26.RegenSaturated and  not v26.ScentSaturation and true and  not v11(v24.DarkestNightBuff)) then local v104=0 -0 ;while true do if (v104==0) then v20("Rupture","TAB");return true;end end end v72=1827 -(1195 + 629) ;end if ((2 -1)==v72) then if (v3(v24.Garrote) and ((v29-v32)>=(1 -0)) and ( not v12(v24.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(242 -(187 + 54)))) and v19(v24.Garrote) and  not v26.RegenSaturated and ((v17(0 + 0 ,164 -104 ) -v6("target",v24.Garrote))>(792 -(162 + 618)))) then v20("Garrote");return true;end if (v3(v24.Rupture) and (aura_env.config['PerformanceMode']==true) and (v32>=v26.EffectiveSpendCp) and (v50>(0 + 0)) and ( not v12(v24.Kingsbane) or v11(v24.ColdBlood)) and  not v26.RegenSaturated and (IsPlayerSpell(v24.ScentOfBloodTalent) or v11(v24.IndiscriminateCarnageBuff) or true) and true and  not v11(v24.DarkestNightBuff)) then local v105=0;while true do if ((0 + 0)==v105) then v20("Rupture","TAB");return true;end end end v72=2 + 0 ;end if (v72==0) then if (v3(v24.CrimsonTempest) and (v44>=(3 -1)) and v19(v24.CrimsonTempest) and (v32>=v26.EffectiveSpendCp) and ((v17(0 -0 ,60) -v6("target",v24.CrimsonTempest))>(169 -(92 + 71)))) then v20("Crimson Tempest");return true;end if (v3(v24.Garrote) and (aura_env.config['PerformanceMode']==true) and ((v29-v32)>=1) and (v49>(0 + 0)) and  not v26.RegenSaturated) then v20("Garrote","TAB");return true;end v72=1 + 0 ;end if (v72==3) then if (v3(v24.Rupture) and (v32>=v26.EffectiveSpendCp) and v19(v24.Rupture) and ( not v12(v24.Kingsbane) or v11(v24.ColdBlood)) and v26.RegenSaturated and  not v26.ScentSaturation and ((v17(765 -(574 + 191) ,60) -v6("target",v24.Rupture))>19) and  not v11(v24.DarkestNightBuff)) then local v106=1636 -(1373 + 263) ;while true do if ((0 + 0)==v106) then v20("Rupture");return true;end end end if (v3(v24.Garrote) and v19(v24.Garrote) and ((v29-v32)>=(1001 -(451 + 549))) and ( not v12(v24.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=1) or ((v6("target",v24.Garrote)<=(1 + 1)) and (v44>=(4 -1)))) and (v6("target",v24.Garrote)<=((2 -0) * (1386 -(746 + 638)))) and (v44>=(2 + 1)) and ((v17(126 -(55 + 71) ,60) -v6("target",v24.Garrote))>(5 -1)) and (abs(v5("player",v24.MasterAssassinBuff))==(0 -0))) then local v107=341 -(218 + 123) ;while true do if ((1581 -(1535 + 46))==v107) then v20("Garrote");return true;end end end break;end end end;local v62=function() local v73=0 + 0 ;while true do if (v73==(0 + 0)) then if (v3(v24.Garrote) and ((v29-v32)>=(1 -0)) and ( not v12(v24.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(561 -(306 + 254)))) and v19(v24.Garrote) and ((v17(0 -0 ,4 + 56 ) -v6("target",v24.Garrote))>(23 -11))) then v20("Garrote");return true;end if (v3(v24.Rupture) and (v32>=v26.EffectiveSpendCp) and v19(v24.Rupture) and ((v17(0,1527 -(899 + 568) ) -v6("target",v24.Rupture))>((810 -(118 + 688)) + (((IsPlayerSpell(v24.DashingScoundrelTalent) and (1 + 0)) or (0 -0)) * (608 -(268 + 335))) + (((v26.RegenSaturated and 1) or (290 -(60 + 230))) * (578 -(426 + 146))))) and ( not v11(v24.DarkestNightBuff) or (IsPlayerSpell(v24.CausticSpatterTalent) and  not v12(v24.CausticSpatterDebuff)))) then local v108=732 -(16 + 716) ;while true do if (v108==(0 + 0)) then v20("Rupture");return true;end end end v73=98 -(11 + 86) ;end if (v73==(2 -1)) then if (v3(v24.CrimsonTempest) and (v32>=v26.EffectiveSpendCp) and v19(v24.CrimsonTempestDebuff) and  not v11(v24.DarkestNightBuff) and  not IsPlayerSpell(v24.AmplifyingPoisonTalent)) then v20("Crimson Tempest");return true;end break;end end end;local v63=function() if (v3(v24.Envenom) and  not v11(v24.DarkestNightBuff) and (v32>=v26.EffectiveSpendCp) and (v26.NotPooling or (v10(v24.AmplifyingPoisonDebuff)>=(305 -(175 + 110))) or  not (v44<2)) and  not v11(v24.VanishBuff)) then local v85=1456 -(282 + 1174) ;while true do if (v85==(811 -(569 + 242))) then v20("Envenom");return true;end end end if (v3(v24.Envenom) and v11(v24.DarkestNightBuff) and (v32>=v29)) then local v86=0 -0 ;while true do if (v86==(1796 -(503 + 1293))) then v20("Envenom");return true;end end end v26.UseFiller=((v28<=v26.EffectiveSpendCp) and  not v26.CdSoon) or v26.NotPooling or  not (v44<(1 + 1)) ;v26.FokTargetCount=(v11(v24.ClearTheWitnessesBuff) and (v44>=(2 -(((v11(v24.LingeringDarknessBuff) or  not IsPlayerSpell(v24.ViciousVenomsTalent)) and (1 + 0)) or (1024 -(706 + 318)))))) or (v44>=((3 -((IsPlayerSpell(v24.MomentumOfDespairTalent) and IsPlayerSpell(v24.ThrownPrecisionTalent) and (1062 -(810 + 251))) or (1251 -(721 + 530)))) + ((IsPlayerSpell(v24.ViciousVenomsTalent) and (1272 -(945 + 326))) or (0 -0)) + ((IsPlayerSpell(v24.BlindsideTalent) and (1 + 0)) or (700 -(271 + 429))))) ;v26.UseCausticFiller=IsPlayerSpell(v24.CausticSpatterTalent) and v12(v24.Rupture) and ( not v12(v24.CausticSpatterDebuff) or (v6("target",v24.CausticSpatterDebuff)<=(3 + 0))) and ((v29-v32)>(734 -(711 + 22))) and  not (v44<(1502 -(1408 + 92))) ;if (v3(v24.Mutilate) and v26.UseCausticFiller) then local v87=1086 -(461 + 625) ;while true do if ((859 -(240 + 619))==v87) then v20("Mutilate");return true;end end end if (v3(v24.Ambush) and v26.UseCausticFiller) then local v88=0 + 0 ;while true do if (v88==(1288 -(993 + 295))) then v20("Ambush");return true;end end end if (v3(v24.FanOfKnives) and v11(v24.DarkestNightBuff) and (v32==(1 + 5)) and ( not IsPlayerSpell(v24.ViciousVenomsTalent) or (v44>=(1 + 1)))) then local v89=1171 -(418 + 753) ;while true do if (v89==(0 + 0)) then v20("Fan of Knives");return true;end end end if (v3(v24.FanOfKnives) and v26.UseFiller and v26.FokTargetCount) then if v26.NotPooling then local v96=0 + 0 ;while true do if ((0 + 0)==v96) then v20("Fan of Knives");return true;end end else local v97=0 + 0 ;while true do if (v97==(0 -0)) then v20("Fan of Knives","Not Good");return true;end end end end if (v3(v24.Ambush) and v26.UseFiller and (v11(v24.BlindsideBuff) or v34) and ( not v12(v24.Kingsbane) or (v12(v24.Deathmark)==false) or v11(v24.BlindsideBuff))) then if v26.NotPooling then local v98=0;while true do if (v98==(0 -0)) then v20("Ambush");return true;end end else local v99=1739 -(404 + 1335) ;while true do if (v99==(406 -(183 + 223))) then v20("Ambush","Not Good");return true;end end end end if (v3(v24.Mutilate) and  not v12(v24.DeadlyPoisonDebuff) and  not v12(v24.AmplifyingPoisonDebuff) and v26.UseFiller and (v44==(1 + 1))) then if v26.NotPooling then local v100=529 -(406 + 123) ;while true do if (v100==(1769 -(1749 + 20))) then v20("Mutilate");return true;end end else local v101=0 + 0 ;while true do if (v101==(337 -(10 + 327))) then v20("Mutilate","Not Good");return true;end end end end if (v3(v24.Mutilate) and v26.UseFiller) then if v26.NotPooling then local v102=0 + 0 ;while true do if (v102==(1322 -(1249 + 73))) then v20("Mutilate");return true;end end else v20("Mutilate","Not Good");return true;end end end;local v64=function() v26.ShivCondition= not v12(v24.ShivDebuff) and v12(v24.Garrote) and v12(v24.Rupture) and (v44<=(2 + 3)) ;v26.ShivKingsbaneCondition=IsPlayerSpell(v24.Kingsbane) and v11(v24.Envenom) and v26.ShivCondition ;if (v3(v24.Shiv) and IsPlayerSpell(v24.ArterialPrecisionTalent) and v26.ShivCondition and (v44>=4) and v12(v24.CrimsonTempest)) then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v24.Shiv)]~=true) then local v113=1145 -(466 + 679) ;while true do if (v113==(0 -0)) then v20("Shiv");return true;end end end end if (v3(v24.Shiv) and  not IsPlayerSpell(v24.LightweightShivTalent) and v26.ShivKingsbaneCondition and ((v12(v24.Kingsbane) and (v6("target",v24.Kingsbane)<8)) or ( not v12(v24.Kingsbane) and (v7(v24.Kingsbane)>=(7 + 13)))) and ( not IsPlayerSpell(v24.CrimsonTempest) or (v44<(5 -3)) or v12(v24.CrimsonTempest))) then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v24.Shiv)]~=true) then local v114=449 -(108 + 341) ;while true do if (v114==0) then v20("Shiv");return true;end end end end if (v3(v24.Shiv) and v11(v24.DarkestNightBuff) and (v32>=v26.EffectiveSpendCp) and v11(v24.LingeringDarknessBuff)) then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v24.Shiv)]~=true) then v20("Shiv");return true;end end if (v3(v24.Shiv) and IsPlayerSpell(v24.LightweightShivTalent) and v26.ShivKingsbaneCondition and ((v12(v24.Kingsbane) and (v6("target",v24.KingsbaneDebuff)<(1908 -(106 + 1794)))) or ((v7(v24.Kingsbane)<=(1 + 0)) and (v14(v24.Shiv)>=(1494.7 -(711 + 782)))))) then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v24.Shiv)]~=true) then local v115=0 + 0 ;while true do if (v115==0) then v20("Shiv");return true;end end end end if (v3(v24.Shiv) and IsPlayerSpell(v24.ArterialPrecisionTalent) and  not v12(v24.ShivDebuff) and v12(v24.Garrote) and v12(v24.Rupture) and v12(v24.Deathmark)) then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v24.Shiv)]~=true) then local v116=469 -(270 + 199) ;while true do if (v116==(0 -0)) then v20("Shiv");return true;end end end end if (v3(v24.Shiv) and  not IsPlayerSpell(v24.Kingsbane) and  not IsPlayerSpell(v24.ArterialPrecisionTalent) and v26.ShivCondition and ( not IsPlayerSpell(v24.CrimsonTempest) or (v44<(5 -3)) or v12(v24.CrimsonTempest))) then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v24.Shiv)]~=true) then v20("Shiv");return true;end end if (v3(v24.Shiv) and (v18(174 -(4 + 110) ,v43)<=(C_Spell.GetSpellCharges(v24.Shiv).currentCharges * (592 -(57 + 527))))) then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v24.Shiv)]~=true) then v20("Shiv");return true;end end end;local v65=function() local v79=1427 -(41 + 1386) ;while true do if (v79==(104 -(17 + 86))) then if (v3(v24.Envenom) and (v32>=v26.EffectiveSpendCp) and v12(v24.Kingsbane) and (v5("player",v24.Envenom)<=(7 -4)) and (v12(v24.DeathstalkersMarkDebuff) or v11(v24.ColdBlood) or (v11(v24.DarkestNightBuff) and (v32==(5 + 2))))) then local v109=0 + 0 ;while true do if ((0 -0)==v109) then v20("Envenom");return true;end end end if (v3(v24.Envenom) and (v32>=v26.EffectiveSpendCp) and (v5("player",v24.MasterAssassinBuff)< -(2 -1)) and (v44<(9 -7)) and (v12(v24.DeathstalkersMarkDebuff) or v11(v24.ColdBlood) or (v11(v24.DarkestNightBuff) and (v32==(173 -(122 + 44)))))) then local v110=0 -0 ;while true do if (v110==(1836 -(1045 + 791))) then v20("Envenom");return true;end end end v79=6 -4 ;end if (v79==(3 + 0)) then if (v3(v24.Garrote) and v35 and ( not v12(v24.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(1 -0)) or v19(v24.Garrote)) and ((v29-v32)>=(1 + 0 + ((507 -(351 + 154)) * ((IsPlayerSpell(v24.ShroudedSuffocationTalent) and (1 -0)) or 0))))) then local v111=65 -(30 + 35) ;while true do if (v111==(0 + 0)) then v20("Garrote");return true;end end end break;end if (v79==(1259 -(1043 + 214))) then if (v3(v24.Rupture) and (v32>=v26.EffectiveSpendCp) and v11(v24.IndiscriminateCarnageBuff) and (v50>(0 -0)) and ( not v26.RegenSaturated or  not v26.ScentSaturation or  not v12(v24.Rupture) or (v46<v44)) and true) then v20("Rupture");return true;end if (v3(v24.Garrote) and v35 and ((v47>(1212 -(323 + 889))) or  not v12(v24.Garrote) or (v48>(0 -0)) or (v11(v24.IndiscriminateCarnageBuff) and (v45<v44))) and  not (v44<(582 -(361 + 219))) and ((v17(320 -(53 + 267) ,14 + 46 ) -v6("target",v24.Garrote))>(415 -(15 + 398))) and ((v29-v32)>((984 -(18 + 964)) -((v11(v24.DarkestNightBuff) and (7 -5)) or (0 + 0))))) then local v112=0 + 0 ;while true do if (v112==(850 -(20 + 830))) then v20("Garrote");return true;end end end v79=3 + 0 ;end if (v79==(126 -(116 + 10))) then if (v3(v24.Ambush) and  not v12(v24.DeathstalkersMarkDebuff) and IsPlayerSpell(v24.DeathstalkersMarkTalent) and (v32<v26.EffectiveSpendCp) and (v12(v24.Rupture) or (v44<=(1 + 0)) or  not IsPlayerSpell(v24.SubterfugeTalent))) then v20("Ambush");return true;end if (v3(v24.Shiv) and IsPlayerSpell(v24.KingsbaneTalent) and v12(v24.KingsbaneDebuff) and (v6("target",v24.KingsbaneDebuff)<8) and ( not v12(v24.ShivDebuff) or (v6("target",v24.ShivDebuff)<(739 -(542 + 196)))) and v11(v24.EnvenomBuff)) then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then v21("Shiv");elseif (aura_env.config[tostring(v24.Shiv)]~=true) then local v124=0 -0 ;while true do if (v124==(0 + 0)) then v20("Shiv");return true;end end end end v79=1 + 0 ;end end end;local v66=function() if (v3(v24.Vanish) and  not v11(v24.FateboundLuckyCoinBuff) and (v32>=v26.EffectiveSpendCp) and ((v9(v24.FateboundCoinTailsBuff)>=(2 + 3)) or (v9(v24.FateboundCoinHeadsBuff)>=(12 -7)))) then if ((aura_env.config[tostring(v24.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v24.Vanish)]~=true) then local v117=0 -0 ;while true do if (v117==(1551 -(1126 + 425))) then v20("Vanish");return true;end end end end if (v3(v24.Vanish) and  not IsPlayerSpell(v24.MasterAssassinTalent) and  not IsPlayerSpell(v24.IndiscriminateCarnageTalent) and IsPlayerSpell(v24.ImprovedGarroteTalent) and v3(v24.Garrote) and ( not v12(v24.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(3 -2)) or v19(v24.Garrote)) and (v12(v24.Deathmark) or (v7(v24.Deathmark)<(409 -(118 + 287)))) and ((v29-v32)>=min(v44,15 -11 ))) then if ((aura_env.config[tostring(v24.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v24.Vanish)]~=true) then local v118=1121 -(118 + 1003) ;while true do if (v118==(0 -0)) then v20("Vanish");return true;end end end end if (v3(v24.Vanish) and IsPlayerSpell(v24.IndiscriminateCarnageTalent) and IsPlayerSpell(v24.ImprovedGarroteTalent) and v3(v24.Garrote) and ( not v12(v24.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(3 -2)) or v19(v24.Garrote)) and (v44>(379 -(142 + 235))) and ((v17(0 -0 ,14 + 46 ) -v6("target",v24.Vanish))>(14 + 1))) then if ((aura_env.config[tostring(v24.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v24.Vanish)]~=true) then local v119=977 -(553 + 424) ;while true do if (v119==(0 -0)) then v20("Vanish");return true;end end end end if (v3(v24.Vanish) and IsPlayerSpell(v24.MasterAssassinTalent) and v12(v24.Deathmark) and (v6("target",v24.Kingsbane)<=(6 + 0 + (3 * ((IsPlayerSpell(v24.SubterfugeTalent) and (2 + 0)) or 0))))) then if ((aura_env.config[tostring(v24.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish","APL5");elseif (aura_env.config[tostring(v24.Vanish)]~=true) then local v120=0 -0 ;while true do if (v120==(0 + 0)) then v20("Vanish");return true;end end end end if (v3(v24.Vanish) and IsPlayerSpell(v24.ImprovedGarroteTalent) and v3(v24.Garrote) and ( not v12(v24.Garrote) or (aura_env.GarroteSnapshots[UnitGUID("target")]<=(1 + 0)) or v19(v24.Garrote)) and (v12(v24.Deathmark) or (v7(v24.Deathmark)<(3 + 1)))) then if ((aura_env.config[tostring(v24.Vanish)]==true) and aura_env.FlagKTrigCD) then v21("Vanish");elseif (aura_env.config[tostring(v24.Vanish)]~=true) then local v121=0 -0 ;while true do if (v121==(0 -0)) then v20("Vanish");return true;end end end end end;local v67=function() local v80=0 -0 ;while true do if ((3 -0)==v80) then if ( not v34 and (abs(v5("player",v24.MasterAssassinBuff))==(0 + 0))) then if v66() then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then elseif (aura_env.config[tostring(v24.Shiv)]~=true) then return true;end end end break;end if (v80==(1 + 0)) then v26.DeathmarkCondition= not v34 and (v5("player",v24.SliceAndDice)>(24 -19)) and v12(v24.Rupture) and (v11(v24.Envenom) or (v44>(754 -(239 + 514)))) and  not v12(v24.Deathmark) and v26.DeathmarkMaCondition and v26.DeathmarkKingsbaneCondition ;if (v3(v24.Deathmark) and ((v26.DeathmarkCondition and (v17(0 + 0 ,1389 -(797 + 532) )>=10)) or (v18(44 + 16 ,v43)<=(7 + 13)))) then if ((aura_env.config[tostring(v24.Deathmark)]==true) and aura_env.FlagKTrigCD) then v21("Deathmark");elseif (aura_env.config[tostring(v24.Deathmark)]~=true) then v20("Deathmark");return true;end end v80=6 -4 ;end if (v80==(4 -2)) then if v64() then if ((aura_env.config[tostring(v24.Shiv)]==true) and aura_env.FlagKTrigCD) then elseif (aura_env.config[tostring(v24.Shiv)]~=true) then return true;end end if (v3(v24.Kingsbane) and (((v12(v24.ShivDebuff) or (v7(v24.Shiv)<(3 + 3))) and (v11(v24.Envenom) or (v44>(1203 -(373 + 829)))) and ((v7(v24.Deathmark)>=(781 -(476 + 255))) or v12(v24.Deathmark))) or (v18(1190 -(369 + 761) ,v43)<=(11 + 4)))) then if ((aura_env.config[tostring(v24.Kingsbane)]==true) and aura_env.FlagKTrigCD) then v21("Kingsbane");elseif (aura_env.config[tostring(v24.Kingsbane)]~=true) then v20("Kingsbane");return true;end end v80=2 + 1 ;end if (v80==(0 -0)) then v26.DeathmarkMaCondition= not IsPlayerSpell(v24.MasterAssassinTalent) or v12(v24.Garrote) ;v26.DeathmarkKingsbaneCondition= not IsPlayerSpell(v24.Kingsbane) or (v7(v24.Kingsbane)<=(3 -1)) ;v80=239 -(64 + 174) ;end end end;if (v34 or v35 or (abs(v5("player",v24.MasterAssassinBuff))>(0 + 0))) then if v65() then return true;end end if v67() then return true;end if v62() then return true;end if  not (v44<(2 -0)) then if v61() then return true;end end if v63() then return true;end v20("Clear");end;