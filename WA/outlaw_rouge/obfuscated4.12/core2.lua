function(v1,v2,v3,v2,v4,v2,v2,v2,v5,v2,v2,v2,v6) if (v4~=UnitGUID("player")) then return false;end if (v3=="SPELL_CAST_SUCCESS") then local v7=0 -0 ;while true do if (v7==(0 -0)) then aura_env.PrevCast=v6;if (v6==aura_env.ids.Envenom) then if (IsPlayerSpell(aura_env.ids.TwistTheKnifeTalent) and (aura_env.Envenom1<GetTime())) then aura_env.Envenom1=aura_env.Envenom1;aura_env.Envenom2=aura_env.GetRemainingAuraDuration("player",aura_env.ids.Envenom) + GetTime() ;else aura_env.Envenom1=aura_env.GetRemainingAuraDuration("player",aura_env.ids.Envenom) + GetTime() ;end end break;end end end if ((v3=="SPELL_AURA_APPLIED") or (v3=="SPELL_AURA_REFRESH")) then if (v6==aura_env.ids.Garrote) then local v8=((aura_env.PlayerHasBuff(1010789 -618386 ) or aura_env.PlayerHasBuff(392401)) and 1.5) or (620 -(555 + 64)) ;aura_env.GarroteSnapshots[v5]=v8;end end if (v3=="SPELL_AURA_REMOVED") then if (v6==aura_env.ids.Garrote) then aura_env.GarroteSnapshots[v5]=nil;end end end;