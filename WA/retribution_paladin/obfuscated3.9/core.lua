function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.TargetHasDebuff;local v13=aura_env.HasBloodlust;local v14=aura_env.GetSpellChargesFractional;local v15=aura_env.GetTimeToNextCharge;local v16=aura_env.GetTimeToFullCharges;local v17=aura_env.TargetTimeToXPct;local v18=aura_env.FightRemains;local v19=aura_env.IsAuraRefreshable;local v20=aura_env.KTrig;local v21=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v23=aura_env.ids;aura_env.OutOfRange=false;local v25={};local v26=WeakAuras.GetNumSetItemsEquipped(1185 + 504 );local v27=UnitPower("player",Enum.PowerType.HolyPower);local v28=0;local v29=1245 -(13 + 1224) ;for v39=792 -(368 + 423) ,125 -85  do local v40=18 -(10 + 8) ;local v41;while true do if (v40==(0 -0)) then v41="nameplate"   .. v39 ;if (UnitExists(v41) and  not UnitIsFriend("player",v41) and WeakAuras.CheckRange(v41,v29,"<=")) then v28=v28 + 1 ;end break;end end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v28);WeakAuras.ScanEvents("K_NEARBY_Wounds",TargetsWithFesteringWounds);local v30=max(aura_env.TemplarStrikeExpires-GetTime() ,442 -(416 + 26) );local v31=(IsPlayerSpell(v23.Crusade) and  not IsPlayerSpell(v23.RadiantGloryTalent) and v7(v23.Crusade)) or 0 ;local v32=(IsPlayerSpell(v23.AvengingWrath) and  not IsPlayerSpell(v23.RadiantGloryTalent) and  not IsPlayerSpell(v23.Crusade) and v7(v23.AvengingWrath)) or (0 -0) ;local v33=(IsPlayerSpell(v23.Crusade) and  not IsPlayerSpell(v23.RadiantGloryTalent) and (v7(v23.Crusade)==0)) or false ;local v34=(IsPlayerSpell(v23.AvengingWrath) and  not IsPlayerSpell(v23.RadiantGloryTalent) and  not IsPlayerSpell(v23.Crusade) and (v7(v23.AvengingWrath)==(0 + 0))) or false ;if IsPlayerSpell(v23.RadiantGloryTalent) then v23.CrusadeBuff=v23.RadiantGloryCrusadeBuff;end if IsPlayerSpell(v23.RadiantGloryTalent) then v23.AvengingWrathBuff=v23.RadiantGloryAvangeningWrathBuff;end if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then local v66=0 -0 ;while true do if (v66==(438 -(145 + 293))) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v20("Clear",nil);v66=431 -(44 + 386) ;end if (v66==1) then v21("Clear",nil);return;end end end end if (C_Item.IsItemInRange(16114,"target")==false) then aura_env.OutOfRange=true;end local v35={};if (v34 and ((v27>=(1489 -(998 + 488))) or ((v27>=(1 + 1)) and IsPlayerSpell(v23.DivineAuxiliaryTalent) and ((v7(v23.ExecutionSentence)==(0 + 0)) or (v7(v23.FinalReckoning)==(772 -(201 + 571))))))) then v35.AvengingWrath=true;end if (v33 and (v27>=(1141 -(116 + 1022)))) then v35.Crusade=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v35,nil);local v36=function() local v42=0 -0 ;while true do if (v42==(0 + 0)) then if (v3(v23.ExecutionSentence) and (( not v11(v23.CrusadeBuff) and (v31>(54 -39))) or (v9(v23.CrusadeBuff)==10) or (v32<0.75) or (v32>15) or IsPlayerSpell(v23.RadiantGloryTalent)) and ((v27>=3) or ((v27>=(7 -5)) and (IsPlayerSpell(v23.DivineAuxiliaryTalent) or IsPlayerSpell(v23.RadiantGloryTalent)))) and ((v7(v23.DivineHammer)>(864 -(814 + 45))) or v11(v23.DivineHammerBuff) or  not IsPlayerSpell(v23.DivineHammer)) and (((v17(0 -0 ,60)>8) and  not IsPlayerSpell(v23.ExecutionersWillTalent)) or (v17(0,4 + 56 )>(5 + 7))) and (v7(v23.WakeOfAshes)<=WeakAuras.gcdDuration())) then if ((aura_env.config[tostring(v23.ExecutionSentence)]==true) and aura_env.FlagKTrigCD) then v21("Execution Sentence");elseif (aura_env.config[tostring(v23.ExecutionSentence)]~=true) then local v70=885 -(261 + 624) ;while true do if (v70==(0 -0)) then v20("Execution Sentence");return true;end end end end if (v3(v23.FinalReckoning) and ((v27>=3) or ((v27>=2) and (IsPlayerSpell(v23.DivineAuxiliaryTalent) or IsPlayerSpell(v23.RadiantGloryTalent)))) and (( not IsPlayerSpell(v23.Crusade) and (v32>(1090 -(1020 + 60)))) or ((v31>(1423 -(630 + 793))) and ( not v11(v23.CrusadeBuff) or (v9(v23.CrusadeBuff)>=(33 -23)))) or (IsPlayerSpell(v23.RadiantGloryTalent) and (v11(v23.AvengingWrathBuff) or (IsPlayerSpell(v23.Crusade) and (v7(v23.WakeOfAshes)<=WeakAuras.gcdDuration())))))) then if ((aura_env.config[tostring(v23.FinalReckoning)]==true) and aura_env.FlagKTrigCD) then v21("Final Reckoning");elseif (aura_env.config[tostring(v23.FinalReckoning)]~=true) then local v71=0 -0 ;while true do if (v71==0) then v20("Final Reckoning");return true;end end end end break;end end end;local v37=function() v25.DsCastable=((v28>=(1 + 1)) or v11(v23.EmpyreanPowerBuff) or ( not IsPlayerSpell(v23.FinalVerdict) and IsPlayerSpell(v23.TempestOfTheLightbringerTalent))) and  not v11(v23.EmpyreanLegacyBuff) and  not (v11(v23.DivineArbiterBuff) and (v9(v23.DivineArbiterBuff)>24)) ;if ((FindSpellOverrideByID(v23.WakeOfAshes)==v23.HammerOfLight) and ((FindSpellOverrideByID(v23.WakeOfAshes)==v23.HammerOfLight) or  not IsPlayerSpell(v23.DivineHammer) or v11(v23.DivineHammerBuff) or (v7(v23.DivineHammer)>(34 -24)))) then local v51=1747 -(760 + 987) ;while true do if (v51==0) then v20("Hammer of Light");return true;end end end if (v3(v23.DivineHammer) and  not v11(v23.DivineHammerBuff)) then if ((aura_env.config[tostring(v23.DivineHammer)]==true) and aura_env.FlagKTrigCD) then v21("Divine Hammer");elseif (aura_env.config[tostring(v23.DivineHammer)]~=true) then local v67=1913 -(1789 + 124) ;while true do if ((766 -(745 + 21))==v67) then v20("Divine Hammer");return true;end end end end if (v3(v23.DivineStorm) and v25.DsCastable and (FindSpellOverrideByID(v23.WakeOfAshes)~=v23.HammerOfLight) and ((v7(v23.DivineHammer)>(0 + 0)) or v11(v23.DivineHammerBuff) or  not IsPlayerSpell(v23.DivineHammer)) and ( not IsPlayerSpell(v23.Crusade) or (v7(v23.Crusade)>(WeakAuras.gcdDuration() * 3)) or (v11(v23.CrusadeBuff) and (v9(v23.CrusadeBuff)<(27 -17))) or IsPlayerSpell(v23.RadiantGloryTalent))) then local v52=0;while true do if (v52==(0 -0)) then v20("Divine Storm");return true;end end end if (v3(v23.JusticarsVengeance) and ( not IsPlayerSpell(v23.Crusade) or (v7(v23.Crusade)>(WeakAuras.gcdDuration() * 3)) or (v11(v23.CrusadeBuff) and (v9(v23.CrusadeBuff)<(1 + 9))) or IsPlayerSpell(v23.RadiantGloryTalent)) and (FindSpellOverrideByID(v23.WakeOfAshes)~=v23.HammerOfLight) and ((v7(v23.DivineHammer)>(0 + 0)) or v11(v23.DivineHammerBuff) or  not IsPlayerSpell(v23.DivineHammer))) then local v53=0;while true do if (v53==(1055 -(87 + 968))) then v20("Justicars Vengeance");return true;end end end if (v3(v23.TemplarsVerdict) and ( not IsPlayerSpell(v23.Crusade) or (v7(v23.Crusade)>(WeakAuras.gcdDuration() * (13 -10))) or (v11(v23.CrusadeBuff) and (v9(v23.CrusadeBuff)<10)) or IsPlayerSpell(v23.RadiantGloryTalent)) and (FindSpellOverrideByID(v23.WakeOfAshes)~=v23.HammerOfLight) and ((v7(v23.DivineHammer)>0) or v11(v23.DivineHammerBuff) or  not IsPlayerSpell(v23.DivineHammer))) then local v54=0 + 0 ;while true do if (v54==(0 -0)) then v20("Templars Verdict");return true;end end end if (v3(v23.DivineStorm) and v25.DsCastable and (FindSpellOverrideByID(v23.WakeOfAshes)~=v23.HammerOfLight) and ( not IsPlayerSpell(v23.Crusade) or (v7(v23.Crusade)>(WeakAuras.gcdDuration() * (1416 -(447 + 966)))) or (v11(v23.CrusadeBuff) and (v9(v23.CrusadeBuff)<(27 -17))) or IsPlayerSpell(v23.RadiantGloryTalent))) then local v55=1817 -(1703 + 114) ;while true do if (v55==(701 -(376 + 325))) then v20("Divine Storm","Not Good");return true;end end end if (v3(v23.JusticarsVengeance) and ( not IsPlayerSpell(v23.Crusade) or (v7(v23.Crusade)>(WeakAuras.gcdDuration() * (4 -1))) or (v11(v23.CrusadeBuff) and (v9(v23.CrusadeBuff)<(30 -20))) or IsPlayerSpell(v23.RadiantGloryTalent)) and (FindSpellOverrideByID(v23.WakeOfAshes)~=v23.HammerOfLight)) then local v56=0;while true do if (v56==0) then v20("Justicars Vengeance","Not Good");return true;end end end if (v3(v23.TemplarsVerdict) and ( not IsPlayerSpell(v23.Crusade) or (v7(v23.Crusade)>(WeakAuras.gcdDuration() * (1 + 2))) or (v11(v23.CrusadeBuff) and (v9(v23.CrusadeBuff)<(22 -12))) or IsPlayerSpell(v23.RadiantGloryTalent)) and (FindSpellOverrideByID(v23.WakeOfAshes)~=v23.HammerOfLight)) then v20("Templars Verdict","Not Good");return true;end end;local v38=function() if (((v27==5) or ((v27==4) and v11(v23.DivineResonanceBuff)) or v11(v23.AllInBuff)) and (v7(v23.WakeOfAshes)>(14 -(9 + 5)))) then if v37() then return true;end end if ((FindSpellOverrideByID(v23.TemplarStrike)==v23.TemplarSlash) and (v30<(WeakAuras.gcdDuration() * (378 -(85 + 291))))) then local v57=1265 -(243 + 1022) ;while true do if (v57==0) then v20("Templar Slash");return true;end end end if (v3(v23.BladeOfJustice) and  not v12(v23.ExpurgationDebuff) and IsPlayerSpell(v23.HolyFlamesTalent) and (v7(v23.DivineToll)>(0 -0))) then local v58=0 + 0 ;while true do if (v58==(1180 -(1123 + 57))) then v20("Blade of Justice");return true;end end end if (v3(v23.WakeOfAshes) and (FindSpellOverrideByID(v23.WakeOfAshes)~=v23.HammerOfLight) and ( not IsPlayerSpell(v23.LightsGuidanceTalent) or ((v27>=(2 + 0)) and IsPlayerSpell(v23.LightsGuidanceTalent))) and ((v32>(260 -(163 + 91))) or (v7(v23.Crusade)>(1936 -(1869 + 61))) or IsPlayerSpell(v23.RadiantGloryTalent)) and ( not IsPlayerSpell(v23.ExecutionSentence) or (v7(v23.ExecutionSentence)>(2 + 2)) or (v17(0 -0 ,92 -32 )<(2 + 6)))) then if ((aura_env.config[tostring(v23.WakeOfAshes)]==true) and aura_env.FlagKTrigCD) then v21("Wake of Ashes");elseif (aura_env.config[tostring(v23.WakeOfAshes)]~=true) then local v68=0;while true do if (v68==0) then v20("Wake of Ashes");return true;end end end end if (v3(v23.DivineToll) and (v27<=2) and ((v32>15) or (v7(v23.Crusade)>(20 -5)) or IsPlayerSpell(v23.RadiantGloryTalent) or (v18(57 + 3 ,v29)<8))) then if ((aura_env.config[tostring(v23.DivineToll)]==true) and aura_env.FlagKTrigCD) then v21("Divine Toll");elseif (aura_env.config[tostring(v23.DivineToll)]~=true) then local v69=1474 -(1329 + 145) ;while true do if (v69==(971 -(140 + 831))) then v20("Divine Toll");return true;end end end end if v37() then return true;end if ((FindSpellOverrideByID(v23.TemplarStrike)==v23.TemplarSlash) and (v30<WeakAuras.gcdDuration()) and (v28>=(1852 -(1409 + 441)))) then local v59=0;while true do if (0==v59) then v20("Templar Slash");return true;end end end if (v3(v23.BladeOfJustice) and (v28>=(720 -(15 + 703))) and IsPlayerSpell(v23.BladeOfVengeanceTalent)) then local v60=0 + 0 ;while true do if (v60==(438 -(262 + 176))) then v20("Blade of Justice");return true;end end end if (v3(v23.HammerOfWrath) and ((v28<2) or  not IsPlayerSpell(v23.BlessedChampionTalent)) and v11(v23.BlessingOfAnsheBuff)) then local v61=0;while true do if ((1721 -(345 + 1376))==v61) then v20("Hammer of Wrath");return true;end end end if v3(v23.TemplarStrike) then v20("Templar Strike");return true;end if v3(v23.Judgment) then local v62=688 -(198 + 490) ;while true do if (0==v62) then v20("Judgment");return true;end end end if v3(v23.BladeOfJustice) then v20("Blade of Justice");return true;end if (v3(v23.HammerOfWrath) and ((v28<(8 -6)) or  not IsPlayerSpell(v23.BlessedChampionTalent))) then local v63=0 -0 ;while true do if (v63==(1206 -(696 + 510))) then v20("Hammer of Wrath");return true;end end end if (FindSpellOverrideByID(v23.TemplarStrike)==v23.TemplarSlash) then v20("Templar Slash");return true;end if (v3(v23.CrusaderStrike) and  not IsPlayerSpell(v23.TemplarStrikesTalent) and  not IsPlayerSpell(v23.CrusadingStrikesTalent)) then local v64=0 -0 ;while true do if (0==v64) then v20("Crusader Strike");return true;end end end if v3(v23.HammerOfWrath) then local v65=0;while true do if (v65==0) then v20("Hammer of Wrath");return true;end end end end;if v36() then return true;end if v38() then return true;end v20("Clear");v21("Clear");end;