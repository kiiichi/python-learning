WeakAuras.WatchGCD();aura_env.PrevCastTime=0;aura_env.ShadowfiendExpiration=0;_G.KLIST={ShadowPriest={aura_env.config['ExcludeList1'],aura_env.config['ExcludeList2'],aura_env.config['ExcludeList3'],aura_env.config['ExcludeList4']}};aura_env.ids={DarkAscension=387981 + 3128 ,DevouringPlague=336258 -(368 + 423) ,DivineStar=122121,Halo=379145 -258501 ,MindBlast=8110 -(10 + 8) ,MindFlay=59266 -43859 ,MindSpike=73952 -(416 + 26) ,MindSpikeInsanity=1301005 -893539 ,Mindbender=200174,ShadowCrash=88142 + 117243 ,ShadowWordDeath=57291 -24912 ,ShadowWordPain=1027 -(145 + 293) ,Shadowfiend=34863 -(44 + 386) ,VampiricTouch=36400 -(998 + 488) ,VoidBlast=450983,VoidBolt=65270 + 140178 ,VoidEruption=228260,VoidTorrent=215486 + 47679 ,DevourMatterTalent=452612 -(201 + 571) ,MindDevourerTalent=374340 -(116 + 1022) ,MindMeltTalent=1628212 -1237122 ,DistortedRealityTalent=409044,InescapableTormentTalent=219193 + 154234 ,WhisperingShadowsTalent=1485016 -1078239 ,VoidBlastTalent=1599427 -1149022 ,PerfectedFormTalent=453917,PsychicLinkTalent=199484,PowerSurgeTalent=453968 -(814 + 45) ,EmpoweredSurgesTalent=1118144 -664345 ,VoidEmpowermentTalent=450138,DepthOfShadowsTalent=451308,EntropicRiftTalent=24111 + 423333 ,InsidiousIreTalent=131870 + 241342 ,MindsEyeTalent=408355 -(261 + 624) ,UnfurlingDarknessTalent=341273,InnerQuietusTalent=448278,MindSpikeInsanityBuff=724109 -316641 ,MindFlayInsanityBuff=392481 -(1020 + 60) ,MindDevourerBuff=374627 -(630 + 793) ,UnfurlingDarknessBuff=1156490 -815208 ,UnfurlingDarknessCdBuff=1615930 -1274639 ,DeathspeakerBuff=154585 + 237926 ,VoidformBuff=668807 -474558 ,VampiricTouchDebuff=34914,EntropicRiftBuff=451634 -(760 + 987) };aura_env.OutOfRange=false;aura_env.KTrig=function(v24,...) WeakAuras.ScanEvents("K_TRIGED",v24,...);WeakAuras.ScanEvents("K_OUT_OF_RANGE",aura_env.OutOfRange);if aura_env.FlagKTrigCD then WeakAuras.ScanEvents("K_TRIGED_CD","Clear",...);end aura_env.FlagKTrigCD=flase;end;aura_env.KTrigCD=function(v26,...) WeakAuras.ScanEvents("K_TRIGED_CD",v26,...);WeakAuras.ScanEvents("K_OUT_OF_RANGE",aura_env.OutOfRange);aura_env.FlagKTrigCD=false;end;aura_env.OffCooldown=function(v28) local v29=1913 -(1789 + 124) ;local v30;local v31;local v32;local v33;local v34;local v35;local v36;while true do if (v29==(769 -(745 + 21))) then if (v36==false) then aura_env.OutOfRange=true;end return true;end if (v29==(1 + 0)) then if ( not v30 and v31) then return false;end v32=C_Spell.GetSpellCooldown(v28).duration;v33=(v32==nil) or (v32==(0 -0)) or (v32==WeakAuras.gcdDuration()) ;v29=7 -5 ;end if (v29==(0 + 0)) then if (v28==nil) then local v93=a<b ;end if  not IsPlayerSpell(v28) then return false;end v30,v31=C_Spell.IsSpellUsable(v28);v29=1 + 0 ;end if (v29==2) then if  not v33 then return false;end v34,v35=C_SpellBook.FindSpellBookSlotForSpell(v28);v36=v34 and C_SpellBook.IsSpellBookItemInRange(v34,v35,"target") ;v29=3;end end end;aura_env.IsCasting=function(v37) return select(1064 -(87 + 968) ,UnitCastingInfo("player"))==v37 ;end;aura_env.OffCooldownNotCasting=function(v38) return aura_env.OffCooldown(v38) and  not aura_env.IsCasting(v38) ;end;aura_env.GetStacks=function(v39,v40,v41) local v42,v42,v43=WA_GetUnitAura(v39,v40,v41);if (v43==nil) then v43=0 -0 ;end return v43;end;aura_env.GetPlayerStacks=function(v44) return aura_env.GetStacks("player",v44);end;aura_env.GetTargetStacks=function(v45) return aura_env.GetStacks("target",v45,"PLAYER|HARMFUL");end;aura_env.GetRemainingAuraDuration=function(v46,v47,v48) local v49=0;local v50;local v51;while true do if (v49==2) then v51=select(6 + 0 ,WA_GetUnitAura(v46,v47,v48));if (v51==nil) then return 0;end v49=3;end if (v49==(0 -0)) then if (v47==nil) then local v94=a<b ;end if (v48==nil) then v48="PLAYER";end v49=1414 -(447 + 966) ;end if (v49==(8 -5)) then return v51-GetTime() ;end if (1==v49) then v50=WA_GetUnitAura(v46,v47,v48);if (v50==nil) then return 0;end v49=1819 -(1703 + 114) ;end end end;aura_env.GetRemainingDebuffDuration=function(v52,v53) return aura_env.GetRemainingAuraDuration(v52,v53,"HARMFUL|PLAYER");end;aura_env.GetSpellChargesFractional=function(v54) local v55=701 -(376 + 325) ;local v56;local v57;local v58;while true do if ((1 -0)==v55) then if (v56.cooldownStartTime==(0 -0)) then return v57;end v58=(GetTime() -v56.cooldownStartTime)/v56.cooldownDuration ;v55=2;end if (v55==(1 + 1)) then return v57 + v58 ;end if (v55==(0 -0)) then v56=C_Spell.GetSpellCharges(v54);v57=v56.currentCharges;v55=1;end end end;aura_env.GetTimeToNextCharge=function(v59) local v60=14 -(9 + 5) ;local v61;local v62;local v63;while true do if (2==v60) then return v63;end if (v60==1) then if (v62==(376 -(85 + 291))) then return 1265 -(243 + 1022) ;end v63=(v61.cooldownStartTime + v61.cooldownDuration) -GetTime() ;v60=7 -5 ;end if (v60==(0 + 0)) then v61=C_Spell.GetSpellCharges(v59);v62=v61.maxCharges-v61.currentCharges ;v60=1181 -(1123 + 57) ;end end end;aura_env.GetTimeToFullCharges=function(v64) local v65=0;local v66;local v67;local v68;while true do if (v65==(1 + 0)) then if (v67==(254 -(163 + 91))) then return 0;end v68=(v66.cooldownStartTime + v66.cooldownDuration) -GetTime() ;v65=2;end if (v65==2) then if (v67>(1931 -(1869 + 61))) then v68=v68 + (v66.cooldownDuration * (v67-1)) ;end return v68;end if (v65==(0 + 0)) then v66=C_Spell.GetSpellCharges(v64);v67=v66.maxCharges-v66.currentCharges ;v65=3 -2 ;end end end;aura_env.TargetTimeToXPct=function(v69,v70) if (v70==nil) then local v88=a<b ;end if (HeroLib==nil) then return v70;end return HeroLib.Unit.Target:TimeToX(v69);end;aura_env.FightRemains=function(v71,v72) local v73=0 -0 ;while true do if (v73==(1 + 0)) then return HeroLib.FightRemains(HeroLib.Unit.Player:GetEnemiesInRange(v72));end if (v73==0) then if (v71==nil) then local v95=a<b ;end if (HeroLib==nil) then return v71;end v73=1;end end end;aura_env.GetRemainingSpellCooldown=function(v74) local v75=0 -0 ;local v76;local v77;local v78;while true do if (v75==(0 + 0)) then if (v74==nil) then local v96=a<b ;end v76=C_Spell.GetSpellCharges(v74);v75=1475 -(1329 + 145) ;end if (v75==1) then if (v76 and (C_Spell.GetSpellCharges(v74).currentCharges>=(972 -(140 + 831)))) then return 1850 -(1409 + 441) ;end v77=C_Spell.GetSpellCooldown(v74);v75=720 -(15 + 703) ;end if ((1 + 1)==v75) then v78=(v77.startTime + v77.duration) -GetTime() ;if ((v77.duration==(438 -(262 + 176))) or (v77.duration==WeakAuras.gcdDuration())) then v78=1721 -(345 + 1376) ;end v75=691 -(198 + 490) ;end if (v75==(13 -10)) then return v78;end end end;aura_env.IsAuraRefreshable=function(v79,v80) local v81="";if (v80==nil) then local v89=0 -0 ;while true do if (v89==(1206 -(696 + 510))) then v80="target";v81="HARMFUL|PLAYER";break;end end end local v82,v82,v82,v82,v83,v84=WA_GetUnitAura(v80,v79,v81);if (v83==nil) then return true;end local v85=v84-GetTime() ;return (v85/v83)<0.3 ;end;aura_env.HasBloodlust=function() return WA_GetUnitBuff("player",2825) or WA_GetUnitBuff("player",555082 -290415 ) or WA_GetUnitBuff("player",81615 -(1091 + 171) ) or WA_GetUnitBuff("player",5179 + 27003 ) or WA_GetUnitBuff("player",390386) or WA_GetUnitBuff("player",1216959 -830419 ) ;end;aura_env.PlayerHasBuff=function(v86) return WA_GetUnitBuff("player",v86)~=nil ;end;aura_env.TargetHasDebuff=function(v87) return WA_GetUnitDebuff("target",v87,"PLAYER|HARMFUL")~=nil ;end;