aura_env.ShouldShowDebuff=function(v1) if ((UnitAffectingCombat(v1) or aura_env.config['BypassCombatRequirement']) and  not UnitIsFriend("player",v1) and (UnitClassification(v1)~="minus") and  not WA_GetUnitDebuff(v1,aura_env.config['DebuffID'])) then if _G.KLIST then for v2,v3 in ipairs(_G.KLIST.ShadowPriest) do if ((UnitName(v1)==v3) or (select(18 -12 ,strsplit("-",UnitGUID(v1)))==v3)) then return false;end end end return true;end end;