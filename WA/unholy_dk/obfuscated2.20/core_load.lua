WeakAuras.WatchGCD();aura_env.DamageTaken={};aura_env.LastSec=5;aura_env.BasePercentage=513.25 -(232 + 281) ;aura_env.MinHealPercentage=0.07;aura_env.exclude={[243237]=true};aura_env.ArmyExpiration=1253 -(976 + 277) ;aura_env.GargoyleExpiration=957 -(892 + 65) ;aura_env.ApocalypseExpiration=0 -0 ;aura_env.AbominationExpiration=0 -0 ;aura_env.ids={RaiseAbomination=836027 -380632 ,AbominationLimb=383619 -(87 + 263) ,Apocalypse=275879 -(67 + 113) ,ArmyOfTheDead=31275 + 11375 ,DarkArbiter=207349,DarkTransformation=156050 -92490 ,DeathAndDecay=43265,DeathCoil=34965 + 12576 ,Defile=152280,Epidemic=207317,FesteringStrike=341599 -255651 ,Outbreak=78527 -(802 + 150) ,RaiseDead=125419 -78835 ,ScourgeStrike=99931 -44841 ,SoulReaper=249880 + 93414 ,SummonGargoyle=50203 -(915 + 82) ,UnholyAssault=586954 -379665 ,VileContagion=390279,VampiricStrike=252764 + 181131 ,VampiricStrikeTalent=570641 -136740 ,Morbidity=378779 -(1069 + 118) ,DoomedBidding=455386,CoilOfDevastation=885409 -495139 ,ImprovedDeathCoil=825946 -448366 ,GiftOfTheSanlayn=75477 + 358675 ,RottenTouch=693440 -303165 ,BurstingSores=205606 + 1658 ,EbonFever=208060 -(368 + 423) ,Superstrain=390283,CommanderOfTheDead=1226459 -836200 ,Plaguebringer=390193 -(10 + 8) ,ImprovedDeathStrike=374277,UnholyBlight=460448,UnholyGround=1439697 -1065432 ,MenacingMagusTalent=455577 -(416 + 26) ,FrenziedBloodthirstTalent=1385966 -951891 ,HungeringThirstTalent=444037,HarbingerOfDoomTalent=118456 + 157567 ,AFeastOfSouls=440861,ChainsOfIceTrollbaneSlow=444826,VirulentPlague=339000 -147413 ,FesteringWound=194310,EssenceOfTheBloodQueen=434363 -(145 + 293) ,GiftOfTheSanlaynBuff=434583 -(44 + 386) ,RottenTouchDebuff=391762 -(998 + 488) ,CommanderOfTheDeadBuff=390260,InflictionOfSorrow=146154 + 313895 ,DeathAndDecayBuff=188290,RunicCorruption=42137 + 9323 ,FrostFever=55867 -(201 + 571) ,BloodPlague=55078,SuddenDoom=82478 -(116 + 1022) ,Festermight=377591,DeathRot=1571800 -1194260 ,FesteringScythe=268907 + 189216 ,WinningStreak=4442207 -3225394 };aura_env.OutOfRange=false;aura_env.KTrig=function(v32,...) WeakAuras.ScanEvents("K_TRIGED",v32,...);WeakAuras.ScanEvents("K_OUT_OF_RANGE",aura_env.OutOfRange);if aura_env.FlagKTrigCD then WeakAuras.ScanEvents("K_TRIGED_CD","Clear",...);end aura_env.FlagKTrigCD=flase;end;aura_env.KTrigCD=function(v34,...) local v35=0 -0 ;while true do if (v35==(859 -(814 + 45))) then WeakAuras.ScanEvents("K_TRIGED_CD",v34,...);WeakAuras.ScanEvents("K_OUT_OF_RANGE",aura_env.OutOfRange);v35=2 -1 ;end if (v35==(1 + 0)) then aura_env.FlagKTrigCD=false;break;end end end;aura_env.OffCooldown=function(v36) if (v36==nil) then local v105=a<b ;end if  not IsPlayerSpell(v36) then return false;end local v37,v38=C_Spell.IsSpellUsable(v36);if ( not v37 or v38) then return false;end local v39=C_Spell.GetSpellCooldown(v36).duration;local v40=(v39==nil) or (v39==(0 + 0)) or (v39==WeakAuras.gcdDuration()) ;if  not v40 then return false;end local v41,v42=C_SpellBook.FindSpellBookSlotForSpell(v36);local v43=v41 and C_SpellBook.IsSpellBookItemInRange(v41,v42,"target") ;if (v43==0) then local v106=885 -(261 + 624) ;while true do if (v106==0) then aura_env.OutOfRange=true;return false;end end end return true;end;aura_env.IsCasting=function(v44) return select(9,UnitCastingInfo("player"))==v44 ;end;aura_env.OffCooldownNotCasting=function(v45) return aura_env.OffCooldown(v45) and  not aura_env.IsCasting(v45) ;end;aura_env.GetStacks=function(v46,v47,v48) local v49,v49,v50=WA_GetUnitAura(v46,v47,v48);if (v50==nil) then v50=0 -0 ;end return v50;end;aura_env.GetPlayerStacks=function(v51) return aura_env.GetStacks("player",v51);end;aura_env.GetTargetStacks=function(v52) return aura_env.GetStacks("target",v52,"PLAYER|HARMFUL");end;aura_env.GetRemainingAuraDuration=function(v53,v54,v55) if (v54==nil) then local v107=a<b ;end if (v55==nil) then v55="PLAYER";end local v56=WA_GetUnitAura(v53,v54,v55);if (v56==nil) then return 0;end local v57=select(1086 -(1020 + 60) ,WA_GetUnitAura(v53,v54,v55));if (v57==nil) then return 1423 -(630 + 793) ;end return v57-GetTime() ;end;aura_env.GetRemainingDebuffDuration=function(v58,v59) return aura_env.GetRemainingAuraDuration(v58,v59,"HARMFUL|PLAYER");end;aura_env.GetSpellChargesFractional=function(v60) local v61=C_Spell.GetSpellCharges(v60);local v62=v61.currentCharges;if (v61.cooldownStartTime==0) then return v62;end local v63=(GetTime() -v61.cooldownStartTime)/v61.cooldownDuration ;return v62 + v63 ;end;aura_env.GetTimeToNextCharge=function(v64) local v65=C_Spell.GetSpellCharges(v64);local v66=v65.maxCharges-v65.currentCharges ;if (v66==(0 -0)) then return 0 -0 ;end local v67=(v65.cooldownStartTime + v65.cooldownDuration) -GetTime() ;return v67;end;aura_env.GetTimeToFullCharges=function(v68) local v69=0 + 0 ;local v70;local v71;local v72;while true do if (v69==(3 -2)) then if (v71==0) then return 1747 -(760 + 987) ;end v72=(v70.cooldownStartTime + v70.cooldownDuration) -GetTime() ;v69=1915 -(1789 + 124) ;end if (v69==(768 -(745 + 21))) then if (v71>(1 + 0)) then v72=v72 + (v70.cooldownDuration * (v71-(2 -1))) ;end return v72;end if (v69==(0 -0)) then v70=C_Spell.GetSpellCharges(v68);v71=v70.maxCharges-v70.currentCharges ;v69=1;end end end;aura_env.TargetTimeToXPct=function(v73,v74) if (v74==nil) then local v108=a<b ;end if (HeroLib==nil) then return v74;end return HeroLib.Unit.Target:TimeToX(v73);end;aura_env.FightRemains=function(v75,v76) local v77=0 + 0 ;while true do if (v77==(1 + 0)) then return HeroLib.FightRemains(HeroLib.Unit.Player:GetEnemiesInRange(v76));end if (v77==0) then if (v75==nil) then local v113=a<b ;end if (HeroLib==nil) then return v75;end v77=1056 -(87 + 968) ;end end end;aura_env.IsAuraRefreshable=function(v78,v79) local v80="";if (v79~="player") then v79="target";v80="HARMFUL|PLAYER";end local v81,v81,v81,v81,v82,v83=WA_GetUnitAura(v79,v78,v80);if (v82==nil) then return true;end local v84=v83-GetTime() ;return (v84/v82)<0.3 ;end;aura_env.GetRemainingSpellCooldown=function(v85) local v86=0 -0 ;local v87;local v88;local v89;while true do if (v86==(2 + 0)) then v89=(v88.startTime + v88.duration) -GetTime() ;if ((v88.duration==0) or (v88.duration==WeakAuras.gcdDuration())) then v89=0;end v86=6 -3 ;end if ((1416 -(447 + 966))==v86) then return v89;end if (v86==(2 -1)) then if (v87 and (C_Spell.GetSpellCharges(v85).currentCharges>=1)) then return 1817 -(1703 + 114) ;end v88=C_Spell.GetSpellCooldown(v85);v86=703 -(376 + 325) ;end if (v86==0) then if (v85==nil) then local v114=a<b ;end v87=C_Spell.GetSpellCharges(v85);v86=1;end end end;aura_env.HasBloodlust=function() return WA_GetUnitBuff("player",4629 -1804 ) or WA_GetUnitBuff("player",814374 -549707 ) or WA_GetUnitBuff("player",22963 + 57390 ) or WA_GetUnitBuff("player",70880 -38698 ) or WA_GetUnitBuff("player",390386) or WA_GetUnitBuff("player",386554 -(9 + 5) ) ;end;aura_env.PlayerHasBuff=function(v90) return WA_GetUnitBuff("player",v90)~=nil ;end;aura_env.TargetHasDebuff=function(v91) return WA_GetUnitDebuff("target",v91,"PLAYER|HARMFUL")~=nil ;end;aura_env.CalcDeathStrikeHeal=function() local v92=377 -(85 + 291) ;local v93=GetTime();local v94=0;while aura_env.DamageTaken[v92] do local v102=0;local v103;local v104;while true do if (v102==(1265 -(243 + 1022))) then v103=aura_env.DamageTaken[v92][3 -2 ];v104=aura_env.DamageTaken[v92][2 + 0 ];v102=1181 -(1123 + 57) ;end if (v102==(1 + 0)) then if (v93>(v103 + aura_env.LastSec)) then table.remove(aura_env.DamageTaken,v92);else v94=v94 + v104 ;v92=v92 + 1 ;end break;end end end local v95=aura_env.BasePercentage;local v96=aura_env.MinHealPercentage;if IsPlayerSpell(aura_env.ids.ImprovedDeathStrike) then v95=v95 * (255.05 -(163 + 91)) ;v96=v96 * (1931.05 -(1869 + 61)) ;end local v97=1 + 0 + ((GetCombatRatingBonus(101 -72 ) + GetVersatilityBonus(46 -16 ))/(14 + 86)) ;local v98=(1 -0) + ((select(16,WA_GetUnitBuff("player",44886 + 2902 )) or (1474 -(1329 + 145)))/(1071 -(140 + 831))) ;local v99=(1851 -(1409 + 441)) + ((718.04 -(15 + 703)) * (select(2 + 1 ,WA_GetUnitBuff("player",65282 -(262 + 176) )) or (1721 -(345 + 1376)))) ;local v100=v94 * v95 ;local v101=v100/UnitHealthMax("player") ;v101=math.max(v96,v101);v101=v101 * v97 * v98 * v99 ;v100=v101 * UnitHealthMax("player") ;return v100;end;