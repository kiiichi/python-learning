function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.PetHasBuff;local v13=aura_env.TargetHasDebuff;local v14=aura_env.HasBloodlust;local v15=aura_env.GetSpellChargesFractional;local v16=aura_env.GetTimeToNextCharge;local v17=aura_env.GetTimeToFullCharges;local v18=aura_env.TargetTimeToXPct;local v19=aura_env.FightRemains;local v20=aura_env.IsAuraRefreshable;local v21=aura_env.KTrig;local v22=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v24=aura_env.ids;aura_env.OutOfRange=false;local v26={};if IsPlayerSpell(v24.Defile) then v24.DeathAndDecay=v24.Defile;end local v27=WeakAuras.GetNumSetItemsEquipped(2343 -(41 + 435) );local v28=0 + 0 ;for v52=15 -(9 + 5) ,382 -(85 + 291)  do local v53,v54,v55=GetRuneCooldown(v52);if v55 then v28=v28 + 1 ;end end local v29=UnitPower("player",Enum.PowerType.RunicPower);local v30=UnitPowerMax("player",Enum.PowerType.RunicPower);local v31=max(aura_env.GargoyleExpiration-GetTime() ,1265 -(243 + 1022) );local v32=max(aura_env.ApocalypseExpiration-GetTime() ,0 -0 );local v33=max(aura_env.ArmyExpiration-GetTime() ,0 + 0 );local v34=max(aura_env.AbominationExpiration-GetTime() ,0);local v35=0 + 0 ;local v36=1180 -(1123 + 57) ;local v37=9 + 1 ;for v56=1,307 -(176 + 91)  do local v57=0 -0 ;local v58;while true do if (v57==(254 -(163 + 91))) then v58="nameplate"   .. v56 ;if (UnitExists(v58) and  not UnitIsFriend("player",v58) and WeakAuras.CheckRange(v58,v37,"<=")) then v36=v36 + (1931 -(1869 + 61)) ;if (WA_GetUnitDebuff(v58,v24.FesteringWoundDebuff,"PLAYER||HARMFUL")~=nil) then v35=v35 + 1 + 0 ;end end break;end end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v36);WeakAuras.ScanEvents("K_NEARBY_Wounds",v35);if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then local v93=0 -0 ;while true do if (v93==(1 -0)) then v22("Clear",nil);return;end if (v93==(0 -0)) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v21("Clear",nil);v93=3 -2 ;end end end end if (C_Item.IsItemInRange(2206 + 13908 ,"target")==false) then aura_env.OutOfRange=true;end if (v36==(1 -0)) then v26.StPlanning=true;else v26.StPlanning=false;end if (v36>=(2 + 0)) then v26.AddsRemain=true;else v26.AddsRemain=false;end if ((v7(v24.Apocalypse)<(1479 -(1329 + 145))) and (v10(v24.FesteringWoundDebuff)<(972 -(140 + 831))) and (v7(v24.UnholyAssault)>(1855 -(1409 + 441)))) then v26.ApocTiming=721 -(15 + 703) ;else v26.ApocTiming=0 + 0 ;end if (IsPlayerSpell(v24.VileContagion) and (v7(v24.VileContagion)<(5 -2)) and (v29<(80 -50))) then v26.PoolingRunicPower=true;else v26.PoolingRunicPower=false;end if ((((v7(v24.Apocalypse)>v26.ApocTiming) or  not IsPlayerSpell(v24.Apocalypse)) and (((v10(v24.FesteringWoundDebuff)>=1) and (v7(v24.UnholyAssault)<(458 -(262 + 176))) and IsPlayerSpell(v24.UnholyAssault) and v26.StPlanning) or (v13(v24.RottenTouchDebuff) and (v10(v24.FesteringWoundDebuff)>=(1722 -(345 + 1376)))) or (v10(v24.FesteringWoundDebuff)>=((615 -(602 + 9)) -(((v34>(688 -(198 + 490))) and (4 -3)) or (947 -(245 + 702))))))) or ((v19(31 -21 ,v37)<(2 + 3)) and (v10(v24.FesteringWoundDebuff)>=(2 -1)))) then v26.PopWounds=true;else v26.PopWounds=false;end if (( not IsPlayerSpell(v24.RottenTouchTalent) or (IsPlayerSpell(v24.RottenTouchTalent) and  not v13(v24.RottenTouchDebuff)) or ((v30-v29)<(1226 -(696 + 510)))) and ((IsPlayerSpell(v24.ImprovedDeathCoilTalent) and ((v36==(3 -1)) or IsPlayerSpell(v24.CoilOfDevastationTalent))) or (v28<(1265 -(1091 + 171))) or v31 or v11(v24.SuddenDoomBuff) or ( not v26.PopWounds and (v10(v24.FesteringWoundDebuff)>=4)))) then v26.SpendRp=true;else v26.SpendRp=false;end v26.EpidemicTargets=1 + 2 + ((IsPlayerSpell(v24.ImprovedDeathCoilTalent) and 1) or (0 + 0)) + ((IsPlayerSpell(v24.FrenziedBloodthirstTalent) and (v9(v24.EssenceOfTheBloodQueenBuff)>(15 -10)) and (3 -2)) or (374 -(123 + 251))) + ((IsPlayerSpell(v24.HungeringThirstTalent) and IsPlayerSpell(v24.HarbingerOfDoomTalent) and v11(v24.SuddenDoomBuff) and (4 -3)) or 0) ;local v39={};if (v3(v24.ArmyOfTheDead) and  not IsPlayerSpell(v24.RaiseAbomination) and (((v26.StPlanning or v26.AddsRemain) and ((IsPlayerSpell(v24.CommanderOfTheDeadTalent) and (v7(v24.DarkTransformation)<(703 -(208 + 490)))) or ( not IsPlayerSpell(v24.CommanderOfTheDeadTalent) and (v36>=(1 + 0))))) or (v19(3 + 27 ,v37)<35))) then v39.ArmyOfTheDead=true;end if (v3(v24.RaiseAbomination) and (v26.StPlanning or v26.AddsRemain or (v19(12 + 13 ,v37)<(866 -(660 + 176))))) then v39.ArmyOfTheDead=true;end if (v3(v24.SummonGargoyle) and (((v26.StPlanning or v26.AddsRemain) and (v11(v24.CommanderOfTheDeadBuff) or ( not IsPlayerSpell(v24.CommanderOfTheDeadTalent) and (v36>=(1 + 0))))) or (v19(1523 -(1404 + 59) ,v37)<(227 -(14 + 188))))) then v39.SummonGargoyle=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v39,nil);local v40=function() local v59=0;while true do if (v59==(678 -(534 + 141))) then if (v3(v24.FesteringStrike) and (v10(v24.FesteringWoundDebuff)<(1 + 1))) then local v94=0 + 0 ;while true do if (v94==(0 + 0)) then v21("Festering Strike");return true;end end end if (v3(v24.ScourgeStrike) and (((v10(v24.FesteringWoundDebuff)>=(563 -(334 + 228))) and (v7(v24.Apocalypse)>WeakAuras.gcdDuration())) or ((FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike) and v13(v24.VirulentPlagueDebuff)))) then v21("Scourge Strike");return true;end break;end if (v59==(0 -0)) then if (v3(v24.FesteringStrike) and (v11(v24.FesteringScytheBuff))) then local v95=0 -0 ;while true do if (v95==(0 -0)) then v21("Festering Strike");return true;end end end if (v3(v24.ScourgeStrike) and (v10(v24.FesteringWoundDebuff)>=(1 + 0)) and v11(v24.DeathAndDecayBuff) and IsPlayerSpell(v24.BurstingSoresTalent) and (v7(v24.Apocalypse)>v26.ApocTiming)) then local v96=0;while true do if (v96==(0 + 0)) then v21("Scourge Strike");return true;end end end v59=1 + 0 ;end if (v59==(398 -(115 + 281))) then if (v3(v24.ScourgeStrike) and (v13(v24.ChainsOfIceTrollbaneSlowDebuff))) then v21("Scourge Strike");return true;end if (v3(v24.FesteringStrike) and ((v7(v24.Apocalypse)<v26.ApocTiming) or v11(v24.FesteringScytheBuff))) then local v97=0 -0 ;while true do if (v97==(0 + 0)) then v21("Festering Strike");return true;end end end v59=7 -4 ;end if (v59==(3 -2)) then if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower and (v36<v26.EpidemicTargets)) then local v98=867 -(550 + 317) ;while true do if (v98==(0 -0)) then v21("Death Coil");return true;end end end if (v3(v24.Epidemic) and  not v26.PoolingRunicPower) then v21("Epidemic");return true;end v59=2 + 0 ;end end end;local v41=function() local v60=0 -0 ;while true do if (v60==(5 -3)) then if (v3(v24.ScourgeStrike) and ((v10(v24.FesteringWoundDebuff)>=(286 -(134 + 151))) or (FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike))) then local v99=1665 -(970 + 695) ;while true do if (v99==(0 -0)) then v21("Scourge Strike");return true;end end end if (v3(v24.DeathCoil) and (v36<v26.EpidemicTargets)) then v21("Death Coil");return true;end v60=3;end if ((1994 -(582 + 1408))==v60) then if v3(v24.ScourgeStrike) then local v100=0;while true do if (v100==(0 -0)) then v21("Scourge Strike");return true;end end end break;end if (v60==(3 -0)) then if v3(v24.Epidemic) then local v101=0 -0 ;while true do if (v101==(0 + 0)) then v21("Epidemic");return true;end end end if (v3(v24.FesteringStrike) and (v10(v24.FesteringWoundDebuff)<=(1826 -(1195 + 629)))) then v21("Festering Strike");return true;end v60=5 -1 ;end if (v60==(2 -1)) then if (v3(v24.Epidemic) and (FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike) and ( not IsPlayerSpell(v24.BurstingSoresTalent) or (IsPlayerSpell(v24.BurstingSoresTalent) and (v35<v36) and (v35<(v36 * 0.4)) and v11(v24.SuddenDoomBuff)) or (v11(v24.SuddenDoomBuff) and (v11(v24.AFeastOfSoulsBuff) or (v6("target",v24.DeathRotDebuff)<WeakAuras.gcdDuration()) or (v10(v24.DeathRotDebuff)<(6 + 4)))))) then v21("Epidemic");return true;end if (v3(v24.ScourgeStrike) and (v13(v24.ChainsOfIceTrollbaneSlowDebuff))) then local v102=0;while true do if (v102==(241 -(187 + 54))) then v21("Scourge Strike");return true;end end end v60=782 -(162 + 618) ;end if ((0 + 0)==v60) then if (v3(v24.FesteringStrike) and (v11(v24.FesteringScytheBuff))) then local v103=1790 -(573 + 1217) ;while true do if (v103==(0 + 0)) then v21("Festering Strike");return true;end end end if (v3(v24.DeathCoil) and (FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike) and (v36<v26.EpidemicTargets) and ( not IsPlayerSpell(v24.BurstingSoresTalent) or (IsPlayerSpell(v24.BurstingSoresTalent) and (v35<v36) and (v35<(v36 * 0.4)) and v11(v24.SuddenDoomBuff)) or (v11(v24.SuddenDoomBuff) and ((IsPlayerSpell(v24.DoomedBiddingTalent) and IsPlayerSpell(v24.MenacingMagusTalent)) or IsPlayerSpell(v24.RottenTouchTalent) or (v6("target",v24.DeathRotDebuff)<WeakAuras.gcdDuration()))))) then v21("Death Coil");return true;end v60=1 -0 ;end end end;local v42=function() local v61=0 + 0 ;while true do if (v61==(6 -2)) then if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower and (v36<v26.EpidemicTargets)) then local v104=0 + 0 ;while true do if ((1636 -(1373 + 263))==v104) then v21("Death Coil");return true;end end end if (v3(v24.Epidemic) and  not v26.PoolingRunicPower) then local v105=0 -0 ;while true do if (v105==(0 + 0)) then v21("Epidemic");return true;end end end break;end if (v61==(0 -0)) then if (v3(v24.FesteringStrike) and (v11(v24.FesteringScytheBuff))) then v21("Festering Strike");return true;end if (v3(v24.DeathAndDecay) and  not v11(v24.DeathAndDecayBuff) and (( not IsPlayerSpell(v24.BurstingSoresTalent) and  not IsPlayerSpell(v24.VileContagion)) or (v35==v36) or (v35>=(1008 -(451 + 549))) or ( not v11(v24.DeathAndDecayBuff) and IsPlayerSpell(v24.Defile)))) then if ((aura_env.config[tostring(v24.DeathAndDecay)]==true) and aura_env.FlagKTrigCD) then v22("Death and Decay");elseif (aura_env.config[tostring(v24.DeathAndDecay)]~=true) then local v127=0 + 0 ;while true do if (v127==(0 -0)) then v21("Death and Decay");return true;end end end end v61=1 -0 ;end if (v61==(1386 -(746 + 638))) then if (v3(v24.FesteringStrike) and ((v7(v24.VileContagion)<(2 + 3)) or ((v35==v36) and (v10(v24.FesteringWoundDebuff)<=(736 -(16 + 716)))))) then local v106=0 -0 ;while true do if (v106==(341 -(218 + 123))) then v21("Festering Strike");return true;end end end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower and v11(v24.SuddenDoomBuff) and (v36<v26.EpidemicTargets)) then local v107=1581 -(1535 + 46) ;while true do if (v107==(0 + 0)) then v21("Death Coil");return true;end end end v61=1 + 2 ;end if (v61==(563 -(306 + 254))) then if (v3(v24.Epidemic) and  not v26.PoolingRunicPower and v11(v24.SuddenDoomBuff)) then local v108=0 -0 ;while true do if (v108==0) then v21("Epidemic");return true;end end end if (v3(v24.FesteringStrike) and (((v7(v24.Apocalypse)<WeakAuras.gcdDuration()) and (v10(v24.FesteringWoundDebuff)==(0 + 0))) or (v35<v36))) then local v109=1796 -(503 + 1293) ;while true do if ((0 -0)==v109) then v21("Festering Strike");return true;end end end v61=1471 -(899 + 568) ;end if (v61==(1 + 0)) then if (v3(v24.ScourgeStrike) and (v13(v24.ChainsOfIceTrollbaneSlowDebuff))) then v21("Scourge Strike");return true;end if (v3(v24.FesteringStrike) and  not IsPlayerSpell(v24.VileContagion)) then local v110=1061 -(810 + 251) ;while true do if (v110==(0 -0)) then v21("Festering Strike");return true;end end end v61=1 + 1 ;end end end;local v43=function() if (v3(v24.DarkTransformation) and ((v26.StPlanning and ((v7(v24.Apocalypse)<(8 + 0)) or  not IsPlayerSpell(v24.Apocalypse) or (v36>=1))) or (v19(663 -(268 + 335) ,v37)<(553 -(43 + 490))))) then if ((aura_env.config[tostring(v24.DarkTransformation)]==true) and aura_env.FlagKTrigCD) then v22("Dark Transformation");elseif (aura_env.config[tostring(v24.DarkTransformation)]~=true) then local v122=290 -(60 + 230) ;while true do if (v122==(0 -0)) then v21("Dark Transformation");return true;end end end end if (v3(v24.UnholyAssault) and ((v26.StPlanning and ((v7(v24.Apocalypse)<(WeakAuras.gcdDuration() * (574 -(426 + 146)))) or  not IsPlayerSpell(v24.Apocalypse) or ((v36>=(1 + 1)) and WA_GetUnitBuff("pet",v24.DarkTransformationBuff)))) or (v19(919 -(240 + 619) ,v37)<(5 + 15)))) then if ((aura_env.config[tostring(v24.UnholyAssault)]==true) and aura_env.FlagKTrigCD) then v22("Unholy Assault");elseif (aura_env.config[tostring(v24.UnholyAssault)]~=true) then v21("Unholy Assault");return true;end end if (v3(v24.Apocalypse) and (v26.StPlanning or (v19(1516 -(282 + 1174) ,v37)<(831 -(569 + 242))))) then if ((aura_env.config[tostring(v24.Apocalypse)]==true) and aura_env.FlagKTrigCD) then v22("Apocalypse");elseif (aura_env.config[tostring(v24.Apocalypse)]~=true) then local v123=0 -0 ;while true do if (v123==(1744 -(1344 + 400))) then v21("Apocalypse");return true;end end end end if (v3(v24.Outbreak) and (v18(405 -(255 + 150) ,48 + 12 )>v6("target",v24.VirulentPlagueDebuff)) and (floor(v6("target",v24.VirulentPlagueDebuff)/(1.5 + 0) )<(1029 -(706 + 318))) and (v20(v24.VirulentPlagueDebuff) or (IsPlayerSpell(v24.SuperstrainTalent) and (v20(v24.FrostFeverDebuff) or v20(v24.BloodPlagueDebuff)))) and ( not IsPlayerSpell(v24.UnholyBlightTalent) or IsPlayerSpell(v24.PlaguebringerTalent)) and ( not IsPlayerSpell(v24.RaiseAbomination) or (IsPlayerSpell(v24.RaiseAbomination) and true))) then local v84=1251 -(721 + 530) ;while true do if ((0 -0)==v84) then v21("Outbreak");return true;end end end end;local v44=function() local v62=0 -0 ;while true do if (v62==(1272 -(945 + 326))) then if (v3(v24.DarkTransformation) and v26.AddsRemain and ((v7(v24.VileContagion)>(1744 -(404 + 1335))) or  not IsPlayerSpell(v24.VileContagion) or v11(v24.DeathAndDecayBuff) or (v7(v24.DeathAndDecay)<(409 -(183 + 223))))) then if ((aura_env.config[tostring(v24.DarkTransformation)]==true) and aura_env.FlagKTrigCD) then v22("Dark Transformation");elseif (aura_env.config[tostring(v24.DarkTransformation)]~=true) then v21("Dark Transformation");return true;end end if (v3(v24.Outbreak) and (floor(v6("target",v24.VirulentPlagueDebuff)/(2.5 -1) )<5) and v20(v24.VirulentPlagueDebuff) and ( not IsPlayerSpell(v24.UnholyBlightTalent) or (IsPlayerSpell(v24.UnholyBlightTalent) and true)) and ( not IsPlayerSpell(v24.RaiseAbomination) or (IsPlayerSpell(v24.RaiseAbomination) and true))) then v21("Outbreak");return true;end v62=2 + 0 ;end if (v62==(702 -(271 + 429))) then if (v3(v24.Apocalypse) and v26.AddsRemain and (v28<=(3 + 0))) then if ((aura_env.config[tostring(v24.Apocalypse)]==true) and aura_env.FlagKTrigCD) then v22("Apocalypse");elseif (aura_env.config[tostring(v24.Apocalypse)]~=true) then local v128=1500 -(1408 + 92) ;while true do if ((1086 -(461 + 625))==v128) then v21("Apocalypse");return true;end end end end break;end if ((337 -(10 + 327))==v62) then if (v3(v24.VileContagion) and (((v10(v24.FesteringWoundDebuff)>=(1292 -(993 + 295))) and ((v7(v24.DeathAndDecay)<(1 + 2)) or (v11(v24.DeathAndDecayBuff) and (v10(v24.FesteringWoundDebuff)>=(1175 -(418 + 753)))))) or (v26.AddsRemain and (v10(v24.FesteringWoundDebuff)==(3 + 3))))) then if ((aura_env.config[tostring(v24.VileContagion)]==true) and aura_env.FlagKTrigCD) then v22("Vile Contagion");elseif (aura_env.config[tostring(v24.VileContagion)]~=true) then local v129=0 + 0 ;while true do if (v129==(0 + 0)) then v21("Vile Contagion");return true;end end end end if (v3(v24.UnholyAssault) and v26.AddsRemain and (((v10(v24.FesteringWoundDebuff)>=(1 + 1)) and (v7(v24.VileContagion)<(532 -(406 + 123)))) or  not IsPlayerSpell(v24.VileContagion))) then if ((aura_env.config[tostring(v24.UnholyAssault)]==true) and aura_env.FlagKTrigCD) then v22("Unholy Assault");elseif (aura_env.config[tostring(v24.UnholyAssault)]~=true) then v21("Unholy Assault");return true;end end v62=1770 -(1749 + 20) ;end end end;local v45=function() if (v3(v24.DarkTransformation) and v26.AddsRemain and (v11(v24.DeathAndDecayBuff) or (v36<=(1 + 2)))) then if ((aura_env.config[tostring(v24.DarkTransformation)]==true) and aura_env.FlagKTrigCD) then v22("Dark Transformation");elseif (aura_env.config[tostring(v24.DarkTransformation)]~=true) then v21("Dark Transformation");return true;end end if (v3(v24.VileContagion) and (((v10(v24.FesteringWoundDebuff)>=(1326 -(1249 + 73))) and ((v7(v24.DeathAndDecay)<(2 + 1)) or (v11(v24.DeathAndDecayBuff) and (v10(v24.FesteringWoundDebuff)>=(1149 -(466 + 679)))))) or (v26.AddsRemain and (v10(v24.FesteringWoundDebuff)==(1499 -(711 + 782)))))) then if ((aura_env.config[tostring(v24.VileContagion)]==true) and aura_env.FlagKTrigCD) then v22("Vile Contagion");elseif (aura_env.config[tostring(v24.VileContagion)]~=true) then v21("Vile Contagion");return true;end end if (v3(v24.UnholyAssault) and v26.AddsRemain and (((v10(v24.FesteringWoundDebuff)>=(4 -2)) and (v7(v24.VileContagion)<(17 -11))) or  not IsPlayerSpell(v24.VileContagion))) then if ((aura_env.config[tostring(v24.UnholyAssault)]==true) and aura_env.FlagKTrigCD) then v22("Unholy Assault");elseif (aura_env.config[tostring(v24.UnholyAssault)]~=true) then local v124=1900 -(106 + 1794) ;while true do if (v124==(0 + 0)) then v21("Unholy Assault");return true;end end end end if (v3(v24.Outbreak) and (((floor(v6("target",v24.VirulentPlagueDebuff)/(1.5 + 0) )<(1824 -(580 + 1239))) and v20(v24.VirulentPlagueDebuff)) or (IsPlayerSpell(v24.MorbidityTalent) and  not v11(v24.GiftOfTheSanlaynBuff) and IsPlayerSpell(v24.SuperstrainTalent) and v20(v24.FrostFeverDebuff) and v20(v24.BloodPlagueDebuff))) and ( not IsPlayerSpell(v24.UnholyBlightTalent) or (IsPlayerSpell(v24.UnholyBlightTalent) and true)) and ( not IsPlayerSpell(v24.RaiseAbomination) or (IsPlayerSpell(v24.RaiseAbomination) and true))) then local v85=0 -0 ;while true do if (v85==0) then v21("Outbreak");return true;end end end if (v3(v24.Apocalypse) and v26.AddsRemain and (v28<=(7 -4))) then if ((aura_env.config[tostring(v24.Apocalypse)]==true) and aura_env.FlagKTrigCD) then v22("Apocalypse");elseif (aura_env.config[tostring(v24.Apocalypse)]~=true) then v21("Apocalypse");return true;end end end;local v46=function() local v63=114 -(4 + 110) ;while true do if (v63==(585 -(57 + 527))) then if v3(v24.Apocalypse) then if ((aura_env.config[tostring(v24.Apocalypse)]==true) and aura_env.FlagKTrigCD) then v22("Apocalypse");elseif (aura_env.config[tostring(v24.Apocalypse)]~=true) then local v130=0 -0 ;while true do if (v130==(1427 -(41 + 1386))) then v21("Apocalypse");return true;end end end end if (v3(v24.Outbreak) and (v18(1167 -(645 + 522) ,163 -(17 + 86) )>v6("target",v24.VirulentPlagueDebuff)) and ((v6("target",v24.VirulentPlagueDebuff)/(1.5 + 0))<(11 -6)) and (v20(v24.VirulentPlagueDebuff) or (IsPlayerSpell(v24.MorbidityTalent) and v11(v24.InflictionOfSorrowBuff) and IsPlayerSpell(v24.SuperstrainTalent) and v20(v24.FrostFeverDebuff) and v20(v24.BloodPlagueDebuff))) and ( not IsPlayerSpell(v24.UnholyBlightTalent) or (IsPlayerSpell(v24.UnholyBlightTalent) and true)) and ( not IsPlayerSpell(v24.RaiseAbominationTalent) or (IsPlayerSpell(v24.RaiseAbominationTalent) and true))) then local v111=0 -0 ;while true do if (v111==0) then v21("Outbreak");return true;end end end break;end if (v63==(166 -(122 + 44))) then if (v3(v24.DarkTransformation) and ((v11(v24.DeathAndDecayBuff) and ((IsPlayerSpell(v24.ApocalypseTalent) and (v32>(0 -0))) or  not IsPlayerSpell(v24.ApocalypseTalent))) or (v19(175 -115 ,v37)<(1856 -(1045 + 791))))) then if ((aura_env.config[tostring(v24.DarkTransformation)]==true) and aura_env.FlagKTrigCD) then v22("Dark Transformation");elseif (aura_env.config[tostring(v24.DarkTransformation)]~=true) then local v131=0 -0 ;while true do if (v131==(0 -0)) then v21("Dark Transformation");return true;end end end end if (v3(v24.UnholyAssault) and ((WA_GetUnitBuff("pet",v24.DarkTransformationBuff) and (v5("pet",v24.DarkTransformationBuff)<12)) or (v19(49 + 11 ,v37)<(3 + 17)))) then if ((aura_env.config[tostring(v24.UnholyAssault)]==true) and aura_env.FlagKTrigCD) then v22("Unholy Assault");elseif (aura_env.config[tostring(v24.UnholyAssault)]~=true) then v21("Unholy Assault");return true;end end v63=1 -0 ;end end end;local v47=function() if (v3(v24.DarkTransformation) and (((v36>=(66 -(30 + 35))) and v26.StPlanning and ((IsPlayerSpell(v24.Apocalypse) and (v32>(1559 -(1381 + 178)))) or  not IsPlayerSpell(v24.Apocalypse))) or (v19(57 + 3 ,v37)<(14 + 6)))) then if ((aura_env.config[tostring(v24.DarkTransformation)]==true) and aura_env.FlagKTrigCD) then v22("Dark Transformation");elseif (aura_env.config[tostring(v24.DarkTransformation)]~=true) then local v125=1257 -(1043 + 214) ;while true do if (v125==(0 -0)) then v21("Dark Transformation");return true;end end end end if (v3(v24.UnholyAssault) and ((v26.StPlanning and WA_GetUnitBuff("pet",v24.DarkTransformationBuff) and (v5("pet",v24.DarkTransformationBuff)<(1224 -(323 + 889)))) or (v19(206 -146 ,v37)<(53 -33)))) then if ((aura_env.config[tostring(v24.UnholyAssault)]==true) and aura_env.FlagKTrigCD) then v22("Unholy Assault");elseif (aura_env.config[tostring(v24.UnholyAssault)]~=true) then local v126=580 -(361 + 219) ;while true do if (v126==(320 -(53 + 267))) then v21("Unholy Assault");return true;end end end end if (v3(v24.Apocalypse) and (v26.StPlanning or (v19(14 + 46 ,v37)<(433 -(15 + 398))))) then if ((aura_env.config[tostring(v24.Apocalypse)]==true) and aura_env.FlagKTrigCD) then v22("Apocalypse");elseif (aura_env.config[tostring(v24.Apocalypse)]~=true) then v21("Apocalypse");return true;end end if (v3(v24.Outbreak) and (v18(0 -0 ,1042 -(18 + 964) )>v6("target",v24.VirulentPlagueDebuff)) and (floor(v6("target",v24.VirulentPlagueDebuff)/(3.5 -2) )<(10 -5)) and (v20(v24.VirulentPlagueDebuff) or (IsPlayerSpell(v24.MorbidityTalent) and v11(v24.InflictionOfSorrowBuff) and IsPlayerSpell(v24.SuperstrainTalent) and v20(v24.FrostFeverDebuff) and v20(v24.BloodPlagueDebuff))) and ( not IsPlayerSpell(v24.UnholyBlightTalent) or (IsPlayerSpell(v24.UnholyBlightTalent) and true)) and ( not IsPlayerSpell(v24.RaiseAbomination) or (IsPlayerSpell(v24.RaiseAbomination) and true))) then v21("Outbreak");return true;end end;local v48=function() local v64=0 + 0 ;while true do if (v64==(1458 -(990 + 465))) then if (v3(v24.ScourgeStrike) and v26.PopWounds) then local v112=0 + 0 ;while true do if (v112==(850 -(20 + 830))) then v21("Scourge Strike");return true;end end end break;end if (v64==(1 + 0)) then if (v3(v24.ScourgeStrike) and (FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike)) then v21("Scourge Strike");return true;end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower and  not IsPlayerSpell(v24.ImprovedDeathCoilTalent)) then local v113=126 -(116 + 10) ;while true do if (v113==(0 -0)) then v21("Death Coil");return true;end end end v64=1 + 1 ;end if (v64==(1726 -(1668 + 58))) then if (v3(v24.DeathAndDecay) and  not v11(v24.DeathAndDecayBuff) and v26.AddsRemain and ((v7(v24.Apocalypse)>0) or  not IsPlayerSpell(v24.Apocalypse))) then if ((aura_env.config[tostring(v24.DeathAndDecay)]==true) and aura_env.FlagKTrigCD) then v22("Death and Decay");elseif (aura_env.config[tostring(v24.DeathAndDecay)]~=true) then local v132=626 -(512 + 114) ;while true do if (v132==(0 -0)) then v21("Death and Decay");return true;end end end end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower and IsPlayerSpell(v24.ImprovedDeathCoilTalent)) then local v114=0 -0 ;while true do if (v114==(738 -(542 + 196))) then v21("Death Coil");return true;end end end v64=1 -0 ;end if (v64==(6 -4)) then if (v3(v24.FesteringStrike) and (((FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike) and  not v26.PopWounds and (v10(v24.FesteringWoundDebuff)<(1 + 1))) or v11(v24.FesteringScytheBuff))) then v21("Festering Strike");return true;end if (v3(v24.FesteringStrike) and (FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike) and (v7(v24.Apocalypse)<v26.ApocTiming) and (v10(v24.FesteringWoundDebuff)<1)) then local v115=0;while true do if (v115==(0 + 0)) then v21("Festering Strike");return true;end end end v64=3 + 0 ;end end end;local v49=function() if (v3(v24.DeathAndDecay) and  not v11(v24.DeathAndDecayBuff) and (FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike)) then if ((aura_env.config[tostring(v24.DeathAndDecay)]==true) and aura_env.FlagKTrigCD) then v22("Death and Decay");elseif (aura_env.config[tostring(v24.DeathAndDecay)]~=true) then v21("Death and Decay");return true;end end if (v3(v24.DeathCoil) and ((v11(v24.SuddenDoomBuff) and IsPlayerSpell(v24.DoomedBiddingTalent)) or ((v27>=(2 + 2)) and (v9(v24.EssenceOfTheBloodQueenBuff)==(23 -16)) and IsPlayerSpell(v24.FrenziedBloodthirstTalent) and (FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike)))) then local v86=0;while true do if (0==v86) then v21("Death Coil");return true;end end end if (v3(v24.SoulReaper) and (((UnitHealth("target")/UnitHealthMax("target")) * 100)<=(91 -56)) and (v19(60,v37)>(1474 -(1269 + 200)))) then local v87=0 -0 ;while true do if (v87==(1551 -(1126 + 425))) then v21("Soul Reaper");return true;end end end if (v3(v24.DeathCoil) and (FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike)) then v21("Death Coil");return true;end if (v3(v24.ScourgeStrike) and (((v10(v24.FesteringWoundDebuff)>=((408 -(118 + 287)) -(((v34>(0 -0)) and (1122 -(118 + 1003))) or (0 -0)))) and (v7(v24.Apocalypse)>v26.ApocTiming)) or (FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike))) then local v88=377 -(142 + 235) ;while true do if (v88==(0 -0)) then v21("Scourge Strike");return true;end end end if (v3(v24.FesteringStrike) and (v10(v24.FesteringWoundDebuff)<((1 + 2) -(((v34>(977 -(553 + 424))) and (1 + 0)) or (0 + 0))))) then local v89=0;while true do if (v89==(0 -0)) then v21("Festering Strike");return true;end end end end;local v50=function() local v65=0 -0 ;while true do if (v65==(3 + 0)) then if (v3(v24.ScourgeStrike) and ( not IsPlayerSpell(v24.ApocalypseTalent) or (v7(v24.Apocalypse)>v26.ApocTiming)) and ((v10(v24.FesteringWoundDebuff)>=((2 + 1) -(((v34>(0 + 0)) and (1 + 0)) or 0))) or (FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike))) then v21("Scourge Strike");return true;end if (v3(v24.DeathCoil) and (( not v26.PoolingRunicPower and (v6("target",v24.DeathRotDebuff)<WeakAuras.gcdDuration())) or (v11(v24.SuddenDoomBuff) and (v10(v24.FesteringWoundDebuff)>=(1 + 0))) or (v28<(2 + 0)))) then v21("Death Coil");return true;end v65=2 + 2 ;end if (v65==(1 + 0)) then if (v3(v24.ScourgeStrike) and ((v11(v24.GiftOfTheSanlaynBuff) and (FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike)) or (IsPlayerSpell(v24.GiftOfTheSanlaynTalent) and v11(v24.DarkTransformation) and (v5("player",v24.DarkTransformation)<WeakAuras.gcdDuration())))) then local v116=0 + 0 ;while true do if (v116==(0 -0)) then v21("Scourge Strike");return true;end end end if (v3(v24.SoulReaper) and (((UnitHealth("target")/UnitHealthMax("target")) * 100)<=(97 -62)) and  not v11(v24.GiftOfTheSanlaynBuff) and (v19(21 + 39 ,v37)>(11 -6))) then local v117=0;while true do if (v117==(0 + 0)) then v21("Soul Reaper");return true;end end end v65=9 -7 ;end if (v65==(755 -(239 + 514))) then if (v3(v24.ScourgeStrike) and (FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike) and (v10(v24.FesteringWoundDebuff)>=(1 + 0))) then local v118=1329 -(797 + 532) ;while true do if (v118==0) then v21("Scourge Strike");return true;end end end if (v3(v24.FesteringStrike) and (((v10(v24.FesteringWoundDebuff)==(0 + 0)) and (v7(v24.Apocalypse)<v26.ApocTiming)) or (((IsPlayerSpell(v24.GiftOfTheSanlaynTalent) and  not v11(v24.GiftOfTheSanlaynBuff)) or  not IsPlayerSpell(v24.GiftOfTheSanlaynTalent)) and (v11(v24.FesteringScytheBuff) or (v10(v24.FesteringWoundDebuff)<=(1 + 0)))))) then local v119=326 -(192 + 134) ;while true do if ((0 -0)==v119) then v21("Festering Strike");return true;end end end v65=2 + 1 ;end if (v65==(0 + 0)) then if (v3(v24.DeathAndDecay) and  not v11(v24.DeathAndDecayBuff) and IsPlayerSpell(v24.UnholyGroundTalent) and (v7(v24.DarkTransformation)<(1207 -(373 + 829)))) then if ((aura_env.config[tostring(v24.DeathAndDecay)]==true) and aura_env.FlagKTrigCD) then v22("Death and Decay");elseif (aura_env.config[tostring(v24.DeathAndDecay)]~=true) then local v133=731 -(476 + 255) ;while true do if (v133==(1130 -(369 + 761))) then v21("Death and Decay");return true;end end end end if (v3(v24.DeathCoil) and ((v11(v24.SuddenDoomBuff) and v5("player",v24.GiftOfTheSanlaynBuff) and (IsPlayerSpell(v24.DoomedBiddingTalent) or IsPlayerSpell(v24.RottenTouchTalent))) or ((v28<(2 + 1)) and  not v11(v24.RunicCorruptionBuff)) or ((v27>=(6 -2)) and (v29>(631 -(83 + 468)))) or (v11(v24.GiftOfTheSanlaynBuff) and (v9(v24.EssenceOfTheBloodQueenBuff)==(1813 -(1202 + 604))) and IsPlayerSpell(v24.FrenziedBloodthirstTalent) and (v27>=(18 -14)) and (v9(v24.WinningStreakBuff)==(18 -8)) and (v28<=(241 -(64 + 174))) and (v5("player",v24.EssenceOfTheBloodQueenBuff)>(1 + 2))))) then local v120=0 -0 ;while true do if (v120==(0 -0)) then v21("Death Coil");return true;end end end v65=337 -(144 + 192) ;end if (v65==(220 -(42 + 174))) then if (v3(v24.ScourgeStrike) and (v10(v24.FesteringWoundDebuff)>(4 + 0))) then local v121=0 + 0 ;while true do if (v121==(0 + 0)) then v21("Scourge Strike");return true;end end end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower) then v21("Death Coil");return true;end break;end end end;local v51=function() if (v3(v24.SoulReaper) and (((UnitHealth("target")/UnitHealthMax("target")) * (43 + 57))<=35) and (v19(1564 -(363 + 1141) ,v37)>(1585 -(1183 + 397)))) then v21("Soul Reaper");return true;end if (v3(v24.ScourgeStrike) and (v13(v24.ChainsOfIceTrollbaneSlowDebuff))) then v21("Scourge Strike");return true;end if (v3(v24.DeathAndDecay) and IsPlayerSpell(v24.UnholyGroundTalent) and  not v11(v24.DeathAndDecayBuff) and ((v32>(0 -0)) or (v34>(0 -0)) or (v31>(0 + 0)))) then if ((aura_env.config[tostring(v24.DeathAndDecay)]==true) and aura_env.FlagKTrigCD) then v22("Death and Decay");elseif (aura_env.config[tostring(v24.DeathAndDecay)]~=true) then v21("Death and Decay");return true;end end if (v3(v24.DeathCoil) and (( not v26.PoolingRunicPower and v26.SpendRp) or (v19(44 + 16 ,v37)<(8 + 2)))) then v21("Death Coil");return true;end if (v3(v24.FesteringStrike) and (v10(v24.FesteringWoundDebuff)<(1979 -(1913 + 62))) and ( not v26.PopWounds or v11(v24.FesteringScytheBuff))) then local v90=0 + 0 ;while true do if (v90==0) then v21("Festering Strike");return true;end end end if (v3(v24.ScourgeStrike) and v26.PopWounds) then v21("Scourge Strike");return true;end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower) then local v91=1948 -(1096 + 852) ;while true do if (v91==(0 -0)) then v21("Death Coil");return true;end end end if (v3(v24.ScourgeStrike) and  not v26.PopWounds and (v10(v24.FesteringWoundDebuff)>=(1937 -(565 + 1368)))) then local v92=0 -0 ;while true do if ((0 -0)==v92) then v21("Scourge Strike");return true;end end end end;if (IsPlayerSpell(v24.VampiricStrikeTalent) and (v36>=3)) then if v45() then return true;end end if ( not IsPlayerSpell(v24.VampiricStrikeTalent) and (v36>=(2 + 0))) then if v44() then return true;end end if (IsPlayerSpell(v24.VampiricStrikeTalent) and (v36==(1663 -(1477 + 184)))) then if v46() then return true;end end if (IsPlayerSpell(v24.VampiricStrikeTalent) and (v36==(1 -0))) then if v47() then return true;end end if ( not IsPlayerSpell(v24.VampiricStrikeTalent) and (v36==(1 + 0))) then if v43() then return true;end end if (v36==(858 -(564 + 292))) then if v48() then return true;end end if ((v36>=(4 -1)) and  not v11(v24.DeathAndDecayBuff) and (v7(v24.DeathAndDecay)<(30 -20))) then if v42() then return true;end end if ((v36>=3) and (v11(v24.DeathAndDecayBuff) or (v11(v24.DeathAndDecay) and (v35>=(v36 * (0.5 + 0)))))) then if v41() then return true;end end if ((v36>=(1320 -(1114 + 203))) and  not v11(v24.DeathAndDecayBuff)) then if v40() then return true;end end if ((v36<=(305 -(244 + 60))) and IsPlayerSpell(v24.GiftOfTheSanlaynTalent) and  not v3(v24.DarkTransformation) and  not v11(v24.GiftOfTheSanlaynBuff) and (v5("player",v24.EssenceOfTheBloodQueenBuff)<(v7(v24.DarkTransformation) + (729 -(228 + 498))))) then v49();return true;end if ((v36<=1) and IsPlayerSpell(v24.VampiricStrikeTalent)) then if v50() then return true;end end if ((v36<=(1 + 0)) and  not IsPlayerSpell(v24.VampiricStrikeTalent)) then if v51() then return true;end end v21("Clear");v22("Clear");end;