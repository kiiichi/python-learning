function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.PetHasBuff;local v13=aura_env.TargetHasDebuff;local v14=aura_env.HasBloodlust;local v15=aura_env.GetSpellChargesFractional;local v16=aura_env.GetTimeToNextCharge;local v17=aura_env.GetTimeToFullCharges;local v18=aura_env.TargetTimeToXPct;local v19=aura_env.FightRemains;local v20=aura_env.IsAuraRefreshable;local v21=aura_env.KTrig;local v22=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v24=aura_env.ids;aura_env.OutOfRange=false;local v26={};if IsPlayerSpell(v24.Defile) then v24.DeathAndDecay=v24.Defile;end local v27=WeakAuras.GetNumSetItemsEquipped(736 + 1131 );local v28=0 -0 ;for v51=1748 -(760 + 987) ,1919 -(1789 + 124)  do local v52=766 -(745 + 21) ;local v53;local v54;local v55;while true do if (v52==(0 + 0)) then v53,v54,v55=GetRuneCooldown(v51);if v55 then v28=v28 + 1 ;end break;end end end local v29=UnitPower("player",Enum.PowerType.RunicPower);local v30=UnitPowerMax("player",Enum.PowerType.RunicPower);local v31=max(aura_env.GargoyleExpiration-GetTime() ,0);local v32=max(aura_env.ApocalypseExpiration-GetTime() ,0);local v33=max(aura_env.ArmyExpiration-GetTime() ,0 -0 );local v34=max(aura_env.AbominationExpiration-GetTime() ,0 -0 );local v35=0;local v36=0 + 0 ;local v37=8 + 2 ;for v56=1056 -(87 + 968) ,176 -136  do local v57=0 + 0 ;local v58;while true do if (v57==(0 -0)) then v58="nameplate"   .. v56 ;if (UnitExists(v58) and  not UnitIsFriend("player",v58) and WeakAuras.CheckRange(v58,v37,"<=")) then local v97=0;while true do if (v97==(1413 -(447 + 966))) then v36=v36 + (2 -1) ;if (WA_GetUnitDebuff(v58,v24.FesteringWound,"PLAYER||HARMFUL")~=nil) then v35=v35 + (1818 -(1703 + 114)) ;end break;end end end break;end end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v36);WeakAuras.ScanEvents("K_NEARBY_Wounds",v35);WeakAuras.ScanEvents("NG_DEATH_STRIKE_UPDATE",aura_env.CalcDeathStrikeHeal());if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then local v96=701 -(376 + 325) ;while true do if ((0 -0)==v96) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v21("Clear",nil);v96=1;end if (v96==(2 -1)) then v22("Clear",nil);return;end end end end if (C_Item.IsItemInRange(16114,"target")==false) then aura_env.OutOfRange=true;end if (v36==(1 + 0)) then v26.StPlanning=true;else v26.StPlanning=false;end if (v36>=(4 -2)) then v26.AddsRemain=true;else v26.AddsRemain=false;end if ((v7(v24.Apocalypse)<(19 -(9 + 5))) and (v10(v24.FesteringWound)<(377 -(85 + 291))) and (v7(v24.UnholyAssault)>5)) then v26.ApocTiming=1268 -(243 + 1022) ;else v26.ApocTiming=0;end if (IsPlayerSpell(v24.VileContagion) and (v7(v24.VileContagion)<(11 -8)) and (v29<(25 + 5))) then v26.PoolingRunicPower=true;else v26.PoolingRunicPower=false;end if ((((v7(v24.Apocalypse)>v26.ApocTiming) or  not IsPlayerSpell(v24.Apocalypse)) and (((v10(v24.FesteringWound)>=(1181 -(1123 + 57))) and (v7(v24.UnholyAssault)<(17 + 3)) and IsPlayerSpell(v24.UnholyAssault) and v26.StPlanning) or (v13(v24.RottenTouchDebuff) and (v10(v24.FesteringWound)>=(255 -(163 + 91)))) or (v10(v24.FesteringWound)>=((1934 -(1869 + 61)) -(((v34>(0 + 0)) and 1) or 0))))) or ((v19(10,v37)<(17 -12)) and (v10(v24.FesteringWound)>=(1 -0)))) then v26.PopWounds=true;else v26.PopWounds=false;end if (( not IsPlayerSpell(v24.RottenTouch) or (IsPlayerSpell(v24.RottenTouch) and  not v13(v24.RottenTouchDebuff)) or ((v30-v29)<(3 + 17))) and ((IsPlayerSpell(v24.ImprovedDeathCoil) and ((v36==(2 -0)) or IsPlayerSpell(v24.CoilOfDevastation))) or (v28<(3 + 0)) or v31 or v11(v24.SuddenDoom) or ( not v26.PopWounds and (v10(v24.FesteringWound)>=(1478 -(1329 + 145)))))) then v26.SpendRp=true;else v26.SpendRp=false;end v26.EpidemicTargets=3 + ((IsPlayerSpell(v24.ImprovedDeathCoil) and 1) or 0) + ((IsPlayerSpell(v24.FrenziedBloodthirstTalent) and (v9(v24.EssenceOfTheBloodQueen)>5) and 1) or (971 -(140 + 831))) + ((IsPlayerSpell(v24.HungeringThirstTalent) and IsPlayerSpell(v24.HarbingerOfDoomTalent) and v11(v24.SuddenDoom) and (1851 -(1409 + 441))) or (718 -(15 + 703))) ;local v39={};if (v3(v24.ArmyOfTheDead) and  not IsPlayerSpell(v24.RaiseAbomination) and (((v26.StPlanning or v26.AddsRemain) and ((IsPlayerSpell(v24.CommanderOfTheDead) and (v7(v24.DarkTransformation)<(3 + 2))) or ( not IsPlayerSpell(v24.CommanderOfTheDead) and (v36>=(439 -(262 + 176)))))) or (v19(1751 -(345 + 1376) ,v37)<35))) then v39.ArmyOfTheDead=true;end if (v3(v24.RaiseAbomination) and (v26.StPlanning or v26.AddsRemain or (v19(713 -(198 + 490) ,v37)<(132 -102)))) then v39.ArmyOfTheDead=true;end if (v3(v24.SummonGargoyle) and (((v26.StPlanning or v26.AddsRemain) and (v11(v24.CommanderOfTheDeadBuff) or ( not IsPlayerSpell(v24.CommanderOfTheDead) and (v36>=1)))) or (v19(143 -83 ,v37)<25))) then v39.SummonGargoyle=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v39,nil);local v40=function() if (v3(v24.FesteringStrike) and (v11(v24.FesteringScythe))) then local v83=0;while true do if (v83==(1206 -(696 + 510))) then v21("Festering Strike");return true;end end end if (v3(v24.ScourgeStrike) and (v10(v24.FesteringWound)>=1) and v11(v24.DeathAndDecayBuff) and IsPlayerSpell(v24.BurstingSores) and (v7(v24.Apocalypse)>v26.ApocTiming)) then v21("Scourge Strike");return true;end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower and (v36<v26.EpidemicTargets)) then local v84=0 -0 ;while true do if (v84==(1262 -(1091 + 171))) then v21("Death Coil");return true;end end end if (v3(v24.Epidemic) and  not v26.PoolingRunicPower) then local v85=0;while true do if (v85==0) then v21("Epidemic");return true;end end end if (v3(v24.ScourgeStrike) and (v13(v24.ChainsOfIceTrollbaneSlow))) then local v86=0 + 0 ;while true do if (v86==(0 -0)) then v21("Scourge Strike");return true;end end end if (v3(v24.FesteringStrike) and ((v7(v24.Apocalypse)<v26.ApocTiming) or v11(v24.FesteringScythe))) then v21("Festering Strike");return true;end if (v3(v24.FesteringStrike) and (v10(v24.FesteringWound)<(6 -4))) then v21("Festering Strike");return true;end if (v3(v24.ScourgeStrike) and (((v10(v24.FesteringWound)>=(375 -(123 + 251))) and (v7(v24.Apocalypse)>WeakAuras.gcdDuration())) or ((FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike) and v13(v24.VirulentPlague)))) then local v87=0 -0 ;while true do if (v87==(698 -(208 + 490))) then v21("Scourge Strike");return true;end end end end;local v41=function() local v59=0;while true do if (v59==(1 + 0)) then if (v3(v24.Epidemic) and (FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike) and ( not IsPlayerSpell(v24.BurstingSores) or (IsPlayerSpell(v24.BurstingSores) and (v35<v36) and (v35<(v36 * (0.4 + 0))) and v11(v24.SuddenDoom)) or (v11(v24.SuddenDoom) and (v11(v24.AFeastOfSouls) or (v6("target",v24.DeathRot)<WeakAuras.gcdDuration()) or (v10(v24.DeathRot)<(846 -(660 + 176))))))) then local v98=0 + 0 ;while true do if (v98==(202 -(14 + 188))) then v21("Epidemic");return true;end end end if (v3(v24.ScourgeStrike) and (v13(v24.ChainsOfIceTrollbaneSlow))) then v21("Scourge Strike");return true;end v59=2;end if (v59==(677 -(534 + 141))) then if (v3(v24.ScourgeStrike) and ((v10(v24.FesteringWound)>=(1 + 0)) or (FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike))) then local v99=0 + 0 ;while true do if (v99==(0 + 0)) then v21("Scourge Strike");return true;end end end if (v3(v24.DeathCoil) and (v36<v26.EpidemicTargets)) then v21("Death Coil");return true;end v59=6 -3 ;end if (v59==(4 -1)) then if v3(v24.Epidemic) then v21("Epidemic");return true;end if (v3(v24.FesteringStrike) and (v10(v24.FesteringWound)<=2)) then v21("Festering Strike");return true;end v59=11 -7 ;end if (v59==(3 + 1)) then if v3(v24.ScourgeStrike) then local v100=0 + 0 ;while true do if (v100==(396 -(115 + 281))) then v21("Scourge Strike");return true;end end end break;end if (v59==0) then if (v3(v24.FesteringStrike) and (v11(v24.FesteringScythe))) then local v101=0 -0 ;while true do if (v101==(0 + 0)) then v21("Festering Strike");return true;end end end if (v3(v24.DeathCoil) and (FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike) and (v36<v26.EpidemicTargets) and ( not IsPlayerSpell(v24.BurstingSores) or (IsPlayerSpell(v24.BurstingSores) and (v35<v36) and (v35<(v36 * 0.4)) and v11(v24.SuddenDoom)) or (v11(v24.SuddenDoom) and ((IsPlayerSpell(v24.DoomedBidding) and IsPlayerSpell(v24.MenacingMagusTalent)) or IsPlayerSpell(v24.RottenTouch) or (v6("target",v24.DeathRot)<WeakAuras.gcdDuration()))))) then local v102=0;while true do if (v102==(0 -0)) then v21("Death Coil");return true;end end end v59=1;end end end;local v42=function() if (v3(v24.FesteringStrike) and (v11(v24.FesteringScythe))) then v21("Festering Strike");return true;end if (v3(v24.DeathAndDecay) and  not v11(v24.DeathAndDecayBuff) and (( not IsPlayerSpell(v24.BurstingSores) and  not IsPlayerSpell(v24.VileContagion)) or (v35==v36) or (v35>=(29 -21)) or ( not v11(v24.DeathAndDecayBuff) and IsPlayerSpell(v24.Defile)))) then if ((aura_env.config[tostring(v24.DeathAndDecay)]==true) and aura_env.FlagKTrigCD) then v22("Death and Decay");elseif (aura_env.config[tostring(v24.DeathAndDecay)]~=true) then local v111=0;while true do if (v111==(867 -(550 + 317))) then v21("Death and Decay");return true;end end end end if (v3(v24.ScourgeStrike) and (v13(v24.ChainsOfIceTrollbaneSlow))) then local v88=0;while true do if (v88==(0 -0)) then v21("Scourge Strike");return true;end end end if (v3(v24.FesteringStrike) and  not IsPlayerSpell(v24.VileContagion)) then local v89=0 -0 ;while true do if (v89==0) then v21("Festering Strike");return true;end end end if (v3(v24.FesteringStrike) and ((v7(v24.VileContagion)<(13 -8)) or ((v35==v36) and (v10(v24.FesteringWound)<=(289 -(134 + 151)))))) then v21("Festering Strike");return true;end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower and v11(v24.SuddenDoom) and (v36<v26.EpidemicTargets)) then local v90=0;while true do if (v90==0) then v21("Death Coil");return true;end end end if (v3(v24.Epidemic) and  not v26.PoolingRunicPower and v11(v24.SuddenDoom)) then v21("Epidemic");return true;end if (v3(v24.FesteringStrike) and (((v7(v24.Apocalypse)<WeakAuras.gcdDuration()) and (v10(v24.FesteringWound)==0)) or (v35<v36))) then v21("Festering Strike");return true;end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower and (v36<v26.EpidemicTargets)) then local v91=0;while true do if (v91==(1665 -(970 + 695))) then v21("Death Coil");return true;end end end if (v3(v24.Epidemic) and  not v26.PoolingRunicPower) then local v92=0;while true do if (v92==0) then v21("Epidemic");return true;end end end end;local v43=function() if (v3(v24.DarkTransformation) and ((v26.StPlanning and ((v7(v24.Apocalypse)<8) or  not IsPlayerSpell(v24.Apocalypse) or (v36>=(1 -0)))) or (v19(2050 -(582 + 1408) ,v37)<20))) then if ((aura_env.config[tostring(v24.DarkTransformation)]==true) and aura_env.FlagKTrigCD) then v22("Dark Transformation");elseif (aura_env.config[tostring(v24.DarkTransformation)]~=true) then v21("Dark Transformation");return true;end end if (v3(v24.UnholyAssault) and ((v26.StPlanning and ((v7(v24.Apocalypse)<(WeakAuras.gcdDuration() * 2)) or  not IsPlayerSpell(v24.Apocalypse) or ((v36>=2) and v12(v24.DarkTransformation)))) or (v19(60,v37)<(69 -49)))) then if ((aura_env.config[tostring(v24.UnholyAssault)]==true) and aura_env.FlagKTrigCD) then v22("Unholy Assault");elseif (aura_env.config[tostring(v24.UnholyAssault)]~=true) then v21("Unholy Assault");return true;end end if (v3(v24.Apocalypse) and (v26.StPlanning or (v19(75 -15 ,v37)<20))) then if ((aura_env.config[tostring(v24.Apocalypse)]==true) and aura_env.FlagKTrigCD) then v22("Apocalypse");elseif (aura_env.config[tostring(v24.Apocalypse)]~=true) then v21("Apocalypse");return true;end end if (v3(v24.Outbreak) and (v18(0 -0 ,60)>v6("target",v24.VirulentPlague)) and (floor(v6("target",v24.VirulentPlague)/1.5 )<5) and (v20(v24.VirulentPlague) or (IsPlayerSpell(v24.Superstrain) and (v20(v24.FrostFever) or v20(v24.BloodPlague)))) and ( not IsPlayerSpell(v24.UnholyBlight) or IsPlayerSpell(v24.Plaguebringer)) and ( not IsPlayerSpell(v24.RaiseAbomination) or (IsPlayerSpell(v24.RaiseAbomination) and true))) then v21("Outbreak");return true;end end;local v44=function() if (v3(v24.VileContagion) and (((v10(v24.FesteringWound)>=(1828 -(1195 + 629))) and ((v7(v24.DeathAndDecay)<(3 -0)) or (v11(v24.DeathAndDecayBuff) and (v10(v24.FesteringWound)>=(245 -(187 + 54)))))) or (v26.AddsRemain and (v10(v24.FesteringWound)==(786 -(162 + 618)))))) then if ((aura_env.config[tostring(v24.VileContagion)]==true) and aura_env.FlagKTrigCD) then v22("Vile Contagion");elseif (aura_env.config[tostring(v24.VileContagion)]~=true) then v21("Vile Contagion");return true;end end if (v3(v24.UnholyAssault) and v26.AddsRemain and (((v10(v24.FesteringWound)>=(2 + 0)) and (v7(v24.VileContagion)<(2 + 1))) or  not IsPlayerSpell(v24.VileContagion))) then if ((aura_env.config[tostring(v24.UnholyAssault)]==true) and aura_env.FlagKTrigCD) then v22("Unholy Assault");elseif (aura_env.config[tostring(v24.UnholyAssault)]~=true) then local v112=0 -0 ;while true do if (v112==0) then v21("Unholy Assault");return true;end end end end if (v3(v24.DarkTransformation) and v26.AddsRemain and ((v7(v24.VileContagion)>(8 -3)) or  not IsPlayerSpell(v24.VileContagion) or v11(v24.DeathAndDecayBuff) or (v7(v24.DeathAndDecay)<3))) then if ((aura_env.config[tostring(v24.DarkTransformation)]==true) and aura_env.FlagKTrigCD) then v22("Dark Transformation");elseif (aura_env.config[tostring(v24.DarkTransformation)]~=true) then local v113=0 + 0 ;while true do if (v113==(1636 -(1373 + 263))) then v21("Dark Transformation");return true;end end end end if (v3(v24.Outbreak) and (floor(v6("target",v24.VirulentPlague)/(1001.5 -(451 + 549)) )<(2 + 3)) and v20(v24.VirulentPlague) and ( not IsPlayerSpell(v24.UnholyBlight) or (IsPlayerSpell(v24.UnholyBlight) and true)) and ( not IsPlayerSpell(v24.RaiseAbomination) or (IsPlayerSpell(v24.RaiseAbomination) and true))) then v21("Outbreak");return true;end if (v3(v24.Apocalypse) and v26.AddsRemain and (v28<=(4 -1))) then if ((aura_env.config[tostring(v24.Apocalypse)]==true) and aura_env.FlagKTrigCD) then v22("Apocalypse");elseif (aura_env.config[tostring(v24.Apocalypse)]~=true) then v21("Apocalypse");return true;end end end;local v45=function() local v60=0 -0 ;while true do if (v60==(1385 -(746 + 638))) then if (v3(v24.UnholyAssault) and v26.AddsRemain and (((v10(v24.FesteringWound)>=(1 + 1)) and (v7(v24.VileContagion)<(8 -2))) or  not IsPlayerSpell(v24.VileContagion))) then if ((aura_env.config[tostring(v24.UnholyAssault)]==true) and aura_env.FlagKTrigCD) then v22("Unholy Assault");elseif (aura_env.config[tostring(v24.UnholyAssault)]~=true) then v21("Unholy Assault");return true;end end if (v3(v24.Outbreak) and (((floor(v6("target",v24.VirulentPlague)/(342.5 -(218 + 123)) )<(1586 -(1535 + 46))) and v20(v24.VirulentPlague)) or (IsPlayerSpell(v24.Morbidity) and  not v11(v24.GiftOfTheSanlaynBuff) and IsPlayerSpell(v24.Superstrain) and v20(v24.FrostFever) and v20(v24.BloodPlague))) and ( not IsPlayerSpell(v24.UnholyBlight) or (IsPlayerSpell(v24.UnholyBlight) and true)) and ( not IsPlayerSpell(v24.RaiseAbomination) or (IsPlayerSpell(v24.RaiseAbomination) and true))) then v21("Outbreak");return true;end v60=2 + 0 ;end if (v60==2) then if (v3(v24.Apocalypse) and v26.AddsRemain and (v28<=(1 + 2))) then if ((aura_env.config[tostring(v24.Apocalypse)]==true) and aura_env.FlagKTrigCD) then v22("Apocalypse");elseif (aura_env.config[tostring(v24.Apocalypse)]~=true) then local v115=560 -(306 + 254) ;while true do if (v115==(0 + 0)) then v21("Apocalypse");return true;end end end end break;end if (0==v60) then if (v3(v24.DarkTransformation) and v26.AddsRemain and (v11(v24.DeathAndDecayBuff) or (v36<=(5 -2)))) then if ((aura_env.config[tostring(v24.DarkTransformation)]==true) and aura_env.FlagKTrigCD) then v22("Dark Transformation");elseif (aura_env.config[tostring(v24.DarkTransformation)]~=true) then local v116=1467 -(899 + 568) ;while true do if (v116==(0 + 0)) then v21("Dark Transformation");return true;end end end end if (v3(v24.VileContagion) and (((v10(v24.FesteringWound)>=(9 -5)) and ((v7(v24.DeathAndDecay)<3) or (v11(v24.DeathAndDecayBuff) and (v10(v24.FesteringWound)>=(607 -(268 + 335)))))) or (v26.AddsRemain and (v10(v24.FesteringWound)==(296 -(60 + 230)))))) then if ((aura_env.config[tostring(v24.VileContagion)]==true) and aura_env.FlagKTrigCD) then v22("Vile Contagion");elseif (aura_env.config[tostring(v24.VileContagion)]~=true) then v21("Vile Contagion");return true;end end v60=573 -(426 + 146) ;end end end;local v46=function() local v61=0 + 0 ;while true do if (v61==0) then if (v3(v24.DarkTransformation) and (((v36>=1) and v26.StPlanning and ((IsPlayerSpell(v24.Apocalypse) and (v32>0)) or  not IsPlayerSpell(v24.Apocalypse))) or (v19(60,v37)<20))) then if ((aura_env.config[tostring(v24.DarkTransformation)]==true) and aura_env.FlagKTrigCD) then v22("Dark Transformation");elseif (aura_env.config[tostring(v24.DarkTransformation)]~=true) then v21("Dark Transformation");return true;end end if (v3(v24.UnholyAssault) and ((v26.StPlanning and v12(v24.DarkTransformation) and (v5("pet",v24.DarkTransformation)<(1468 -(282 + 1174)))) or (v19(60,v37)<20))) then if ((aura_env.config[tostring(v24.UnholyAssault)]==true) and aura_env.FlagKTrigCD) then v22("Unholy Assault");elseif (aura_env.config[tostring(v24.UnholyAssault)]~=true) then local v117=0;while true do if ((811 -(569 + 242))==v117) then v21("Unholy Assault");return true;end end end end v61=1;end if (v61==(2 -1)) then if (v3(v24.Apocalypse) and (v26.StPlanning or (v19(4 + 56 ,v37)<(1044 -(706 + 318))))) then if ((aura_env.config[tostring(v24.Apocalypse)]==true) and aura_env.FlagKTrigCD) then v22("Apocalypse");elseif (aura_env.config[tostring(v24.Apocalypse)]~=true) then v21("Apocalypse");return true;end end if (v3(v24.Outbreak) and (v18(1251 -(721 + 530) ,60)>v6("target",v24.VirulentPlague)) and (floor(v6("target",v24.VirulentPlague)/1.5 )<5) and (v20(v24.VirulentPlague) or (IsPlayerSpell(v24.Morbidity) and v11(v24.InflictionOfSorrow) and IsPlayerSpell(v24.Superstrain) and v20(v24.FrostFever) and v20(v24.BloodPlague))) and ( not IsPlayerSpell(v24.UnholyBlight) or (IsPlayerSpell(v24.UnholyBlight) and true)) and ( not IsPlayerSpell(v24.RaiseAbomination) or (IsPlayerSpell(v24.RaiseAbomination) and true))) then local v103=1271 -(945 + 326) ;while true do if (0==v103) then v21("Outbreak");return true;end end end break;end end end;local v47=function() if (v3(v24.DeathAndDecay) and  not v11(v24.DeathAndDecayBuff)) then if ((aura_env.config[tostring(v24.DeathAndDecay)]==true) and aura_env.FlagKTrigCD) then v22("Death and Decay");elseif (aura_env.config[tostring(v24.DeathAndDecay)]~=true) then local v114=0 -0 ;while true do if (v114==(0 + 0)) then v21("Death and Decay");return true;end end end end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower) then v21("Death Coil");return true;end if (v3(v24.FesteringStrike) and (( not v26.PopWounds and (v10(v24.FesteringWound)<(704 -(271 + 429)))) or v11(v24.FesteringScythe))) then local v93=0 + 0 ;while true do if (v93==(1500 -(1408 + 92))) then v21("Festering Strike");return true;end end end if (v3(v24.FesteringStrike) and (v7(v24.Apocalypse)<v26.ApocTiming) and (v10(v24.FesteringWound)<(1090 -(461 + 625)))) then local v94=1288 -(993 + 295) ;while true do if (v94==0) then v21("Festering Strike");return true;end end end if (v3(v24.ScourgeStrike) and v26.PopWounds) then local v95=0;while true do if (v95==(0 + 0)) then v21("Scourge Strike");return true;end end end end;local v48=function() local v62=1171 -(418 + 753) ;while true do if (v62==(1 + 0)) then if (v3(v24.SoulReaper) and (((UnitHealth("target")/UnitHealthMax("target")) * (11 + 89))<=(11 + 24)) and (v19(16 + 44 ,v37)>(534 -(406 + 123)))) then local v104=1769 -(1749 + 20) ;while true do if (v104==0) then v21("Soul Reaper");return true;end end end if (v3(v24.DeathCoil) and (FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike)) then local v105=0;while true do if (v105==(0 + 0)) then v21("Death Coil");return true;end end end v62=2;end if (v62==(1324 -(1249 + 73))) then if (v3(v24.ScourgeStrike) and (((v10(v24.FesteringWound)>=((2 + 1) -(((v34>(1145 -(466 + 679))) and (2 -1)) or 0))) and (v7(v24.Apocalypse)>v26.ApocTiming)) or (FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike))) then v21("Scourge Strike");return true;end if (v3(v24.FesteringStrike) and (v10(v24.FesteringWound)<(3 -(((v34>(0 -0)) and (1901 -(106 + 1794))) or (0 + 0))))) then v21("Festering Strike");return true;end break;end if (v62==(0 + 0)) then if (v3(v24.DeathAndDecay) and  not v11(v24.DeathAndDecayBuff) and (FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike)) then if ((aura_env.config[tostring(v24.DeathAndDecay)]==true) and aura_env.FlagKTrigCD) then v22("Death and Decay");elseif (aura_env.config[tostring(v24.DeathAndDecay)]~=true) then v21("Death and Decay");return true;end end if (v3(v24.DeathCoil) and ((v11(v24.SuddenDoom) and IsPlayerSpell(v24.DoomedBidding)) or ((v27>=4) and (v9(v24.EssenceOfTheBloodQueen)==(20 -13)) and IsPlayerSpell(v24.FrenziedBloodthirstTalent) and (FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike)))) then v21("Death Coil");return true;end v62=1;end end end;local v49=function() local v63=0;while true do if (v63==(0 -0)) then if (v3(v24.DeathAndDecay) and  not v11(v24.DeathAndDecayBuff) and IsPlayerSpell(v24.UnholyGround) and (v7(v24.DarkTransformation)<5)) then if ((aura_env.config[tostring(v24.DeathAndDecay)]==true) and aura_env.FlagKTrigCD) then v22("Death and Decay");elseif (aura_env.config[tostring(v24.DeathAndDecay)]~=true) then local v118=114 -(4 + 110) ;while true do if (v118==(584 -(57 + 527))) then v21("Death and Decay");return true;end end end end if (v3(v24.DeathCoil) and ((v11(v24.SuddenDoom) and v5("player",v24.GiftOfTheSanlayn) and (IsPlayerSpell(v24.DoomedBidding) or IsPlayerSpell(v24.RottenTouch))) or ((v28<(1430 -(41 + 1386))) and  not v11(v24.RunicCorruption)) or ((v27>=(107 -(17 + 86))) and (v29>(55 + 25))) or (v11(v24.GiftOfTheSanlaynBuff) and (v9(v24.EssenceOfTheBloodQueen)==7) and IsPlayerSpell(v24.FrenziedBloodthirstTalent) and (v27>=(8 -4)) and (v9(v24.WinningStreakBuff)==10) and (v28<=(8 -5)) and (v5("player",v24.EssenceOfTheBloodQueen)>3)))) then local v106=166 -(122 + 44) ;while true do if (v106==(0 -0)) then v21("Death Coil");return true;end end end v63=1;end if (v63==(12 -8)) then if (v3(v24.ScourgeStrike) and (v10(v24.FesteringWound)>4)) then v21("Scourge Strike");return true;end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower) then local v107=0 + 0 ;while true do if (v107==0) then v21("Death Coil");return true;end end end break;end if (v63==(1 + 1)) then if (v3(v24.ScourgeStrike) and (FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike) and (v10(v24.FesteringWound)>=(1 -0))) then local v108=65 -(30 + 35) ;while true do if (v108==0) then v21("Scourge Strike");return true;end end end if (v3(v24.FesteringStrike) and (((v10(v24.FesteringWound)==(0 + 0)) and (v7(v24.Apocalypse)<v26.ApocTiming)) or (((IsPlayerSpell(v24.GiftOfTheSanlayn) and  not v11(v24.GiftOfTheSanlaynBuff)) or  not IsPlayerSpell(v24.GiftOfTheSanlayn)) and (v11(v24.FesteringScythe) or (v10(v24.FesteringWound)<=(1258 -(1043 + 214))))))) then v21("Festering Strike");return true;end v63=11 -8 ;end if (v63==(1213 -(323 + 889))) then if (v3(v24.ScourgeStrike) and ((v11(v24.GiftOfTheSanlaynBuff) and (FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike)) or (IsPlayerSpell(v24.GiftOfTheSanlayn) and v12(v24.DarkTransformation) and (v5("pet",v24.DarkTransformation)<WeakAuras.gcdDuration())))) then local v109=0;while true do if (v109==(0 -0)) then v21("Scourge Strike");return true;end end end if (v3(v24.SoulReaper) and (((UnitHealth("target")/UnitHealthMax("target")) * 100)<=35) and  not v11(v24.GiftOfTheSanlaynBuff) and (v19(60,v37)>5)) then v21("Soul Reaper");return true;end v63=582 -(361 + 219) ;end if ((323 -(53 + 267))==v63) then if (v3(v24.ScourgeStrike) and ( not IsPlayerSpell(v24.Apocalypse) or (v7(v24.Apocalypse)>v26.ApocTiming)) and ((v10(v24.FesteringWound)>=((1 + 2) -(((v34>(413 -(15 + 398))) and 1) or (982 -(18 + 964))))) or (FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike))) then v21("Scourge Strike");return true;end if (v3(v24.DeathCoil) and (( not v26.PoolingRunicPower and (v6("target",v24.DeathRot)<WeakAuras.gcdDuration())) or (v11(v24.SuddenDoom) and (v10(v24.FesteringWound)>=(3 -2))) or (v28<(2 + 0)))) then v21("Death Coil");return true;end v63=3 + 1 ;end end end;local v50=function() local v64=850 -(20 + 830) ;while true do if (v64==(1 + 0)) then if (v3(v24.DeathAndDecay) and IsPlayerSpell(v24.UnholyGround) and  not v11(v24.DeathAndDecayBuff) and ((v32>(126 -(116 + 10))) or (v34>0) or (v31>0))) then if ((aura_env.config[tostring(v24.DeathAndDecay)]==true) and aura_env.FlagKTrigCD) then v22("Death and Decay");elseif (aura_env.config[tostring(v24.DeathAndDecay)]~=true) then v21("Death and Decay");return true;end end if (v3(v24.DeathCoil) and (( not v26.PoolingRunicPower and v26.SpendRp) or (v19(60,v37)<(1 + 9)))) then v21("Death Coil");return true;end v64=740 -(542 + 196) ;end if (v64==(0 -0)) then if (v3(v24.SoulReaper) and (((UnitHealth("target")/UnitHealthMax("target")) * 100)<=(11 + 24)) and (v19(31 + 29 ,v37)>5)) then v21("Soul Reaper");return true;end if (v3(v24.ScourgeStrike) and (v13(v24.ChainsOfIceTrollbaneSlow))) then v21("Scourge Strike");return true;end v64=1 + 0 ;end if (v64==3) then if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower) then v21("Death Coil");return true;end if (v3(v24.ScourgeStrike) and  not v26.PopWounds and (v10(v24.FesteringWound)>=4)) then local v110=0 -0 ;while true do if (0==v110) then v21("Scourge Strike");return true;end end end break;end if (v64==2) then if (v3(v24.FesteringStrike) and (v10(v24.FesteringWound)<(9 -5)) and ( not v26.PopWounds or v11(v24.FesteringScythe))) then v21("Festering Strike");return true;end if (v3(v24.ScourgeStrike) and v26.PopWounds) then v21("Scourge Strike");return true;end v64=3;end end end;if (IsPlayerSpell(v24.VampiricStrikeTalent) and (v36>=(1553 -(1126 + 425)))) then if v45() then return true;end end if ( not IsPlayerSpell(v24.VampiricStrikeTalent) and (v36>=2)) then if v44() then return true;end end if (IsPlayerSpell(v24.VampiricStrikeTalent) and (v36==(406 -(118 + 287)))) then if v46() then return true;end end if ( not IsPlayerSpell(v24.VampiricStrikeTalent) and (v36==(3 -2))) then if v43() then return true;end end if (v36==2) then if v47() then return true;end end if ((v36>=(1124 -(118 + 1003))) and  not v11(v24.DeathAndDecayBuff) and (v7(v24.DeathAndDecay)<(29 -19))) then if v42() then return true;end end if ((v36>=3) and (v11(v24.DeathAndDecayBuff) or (v11(v24.DeathAndDecay) and (v35>=(v36 * 0.5))))) then if v41() then return true;end end if ((v36>=3) and  not v11(v24.DeathAndDecayBuff)) then if v40() then return true;end end if ((v36<=(378 -(142 + 235))) and IsPlayerSpell(v24.GiftOfTheSanlayn) and  not v3(v24.DarkTransformation) and  not v11(v24.GiftOfTheSanlaynBuff) and (v5("player",v24.EssenceOfTheBloodQueen)<(v7(v24.DarkTransformation) + (13 -10)))) then v48();return true;end if ((v36<=(1 + 0)) and IsPlayerSpell(v24.VampiricStrikeTalent)) then if v49() then return true;end end if ((v36<=(978 -(553 + 424))) and  not IsPlayerSpell(v24.VampiricStrikeTalent)) then if v50() then return true;end end v21("Clear");v22("Clear");end;