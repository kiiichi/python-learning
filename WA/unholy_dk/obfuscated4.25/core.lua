function() if (aura_env.LastUpdate and (aura_env.LastUpdate>(GetTime() -aura_env.config['UpdateFrequency']))) then return;end aura_env.LastUpdate=GetTime();local v2=GetTime();local v3=aura_env.OffCooldown;local v4=aura_env.OffCooldownNotCasting;local v5=aura_env.GetRemainingAuraDuration;local v6=aura_env.GetRemainingDebuffDuration;local v7=aura_env.GetRemainingSpellCooldown;local v8=aura_env.IsCasting;local v9=aura_env.GetPlayerStacks;local v10=aura_env.GetTargetStacks;local v11=aura_env.PlayerHasBuff;local v12=aura_env.PetHasBuff;local v13=aura_env.TargetHasDebuff;local v14=aura_env.HasBloodlust;local v15=aura_env.GetSpellChargesFractional;local v16=aura_env.GetTimeToNextCharge;local v17=aura_env.GetTimeToFullCharges;local v18=aura_env.TargetTimeToXPct;local v19=aura_env.FightRemains;local v20=aura_env.IsAuraRefreshable;local v21=aura_env.KTrig;local v22=aura_env.KTrigCD;aura_env.FlagKTrigCD=true;local v24=aura_env.ids;aura_env.OutOfRange=false;local v26={};if IsPlayerSpell(v24.Defile) then v24.DeathAndDecay=v24.Defile;end local v27=WeakAuras.GetNumSetItemsEquipped(1867);local v28=1055 -(87 + 968) ;for v54=4 -3 ,6 + 0  do local v55=0 -0 ;local v56;local v57;local v58;while true do if (v55==0) then v56,v57,v58=GetRuneCooldown(v54);if v58 then v28=v28 + (1414 -(447 + 966)) ;end break;end end end local v29=UnitPower("player",Enum.PowerType.RunicPower);local v30=UnitPowerMax("player",Enum.PowerType.RunicPower);local v31=max(aura_env.GargoyleExpiration-GetTime() ,0 -0 );local v32=max(aura_env.ApocalypseExpiration-GetTime() ,1817 -(1703 + 114) );local v33=max(aura_env.ArmyExpiration-GetTime() ,0);local v34=max(aura_env.AbominationExpiration-GetTime() ,701 -(376 + 325) );local v35=0 -0 ;local v36=0 -0 ;local v37=10;for v59=1,12 + 28  do local v60=0 -0 ;local v61;while true do if (v60==(14 -(9 + 5))) then v61="nameplate"   .. v59 ;if (UnitExists(v61) and  not UnitIsFriend("player",v61) and WeakAuras.CheckRange(v61,v37,"<=")) then v36=v36 + 1 ;if (WA_GetUnitDebuff(v61,v24.FesteringWoundDebuff,"PLAYER||HARMFUL")~=nil) then v35=v35 + (377 -(85 + 291)) ;end end break;end end end WeakAuras.ScanEvents("K_NEARBY_ENEMIES",v36);WeakAuras.ScanEvents("K_NEARBY_Wounds",v35);if aura_env.config['NeedTarget'] then if ((UnitExists("target")==false) or (UnitCanAttack("player","target")==false)) then WeakAuras.ScanEvents("K_TRIGED_EXTRA",{});v21("Clear",nil);v22("Clear",nil);return;end end if (v36<=(1266 -(243 + 1022))) then v26.StPlanning=true;else v26.StPlanning=false;end if (v36>=(7 -5)) then v26.AddsRemain=true;else v26.AddsRemain=false;end if ((v7(v24.Apocalypse)<(5 + 0)) and (v10(v24.FesteringWoundDebuff)<1) and (v7(v24.UnholyAssault)>(1185 -(1123 + 57)))) then v26.ApocTiming=3 + 0 ;else v26.ApocTiming=254 -(163 + 91) ;end if (IsPlayerSpell(v24.VileContagion) and (v7(v24.VileContagion)<(1933 -(1869 + 61))) and (v29<(9 + 21))) then v26.PoolingRunicPower=true;else v26.PoolingRunicPower=false;end if ((((v7(v24.Apocalypse)>v26.ApocTiming) or  not IsPlayerSpell(v24.Apocalypse)) and (((v10(v24.FesteringWoundDebuff)>=(3 -2)) and (v7(v24.UnholyAssault)<(30 -10)) and IsPlayerSpell(v24.UnholyAssault) and v26.StPlanning) or (v13(v24.RottenTouchDebuff) and (v10(v24.FesteringWoundDebuff)>=1)) or (v10(v24.FesteringWoundDebuff)>=((1 + 3) -(((v34>0) and (1 -0)) or 0))))) or ((v19(10,v37)<(5 + 0)) and (v10(v24.FesteringWoundDebuff)>=1))) then v26.PopWounds=true;else v26.PopWounds=false;end if (( not IsPlayerSpell(v24.RottenTouchTalent) or (IsPlayerSpell(v24.RottenTouchTalent) and  not v13(v24.RottenTouchDebuff)) or ((v30-v29)<(1494 -(1329 + 145)))) and ((IsPlayerSpell(v24.ImprovedDeathCoilTalent) and ((v36==(973 -(140 + 831))) or IsPlayerSpell(v24.CoilOfDevastationTalent))) or (v28<(1853 -(1409 + 441))) or v31 or v11(v24.SuddenDoomBuff) or ( not v26.PopWounds and (v10(v24.FesteringWoundDebuff)>=(722 -(15 + 703)))))) then v26.SpendRp=true;else v26.SpendRp=false;end v26.SanCoilMult=((v9(v24.EssenceOfTheBloodQueenBuff)>=(2 + 2)) and (440 -(262 + 176))) or (1722 -(345 + 1376)) ;v26.EpidemicTargets=3 + ((IsPlayerSpell(v24.ImprovedDeathCoilTalent) and (689 -(198 + 490))) or (0 -0)) + (((IsPlayerSpell(v24.FrenziedBloodthirstTalent) and (2 -1)) or (1206 -(696 + 510))) * v26.SanCoilMult) + ((IsPlayerSpell(v24.HungeringThirstTalent) and IsPlayerSpell(v24.HarbingerOfDoomTalent) and v11(v24.SuddenDoomBuff) and 1) or (0 -0)) ;v26.FesteringScyUsable=v11(v24.FesteringScytheBuff);local v41={};if (v3(v24.ArmyOfTheDead) and  not IsPlayerSpell(v24.RaiseAbomination) and (((v26.StPlanning or v26.AddsRemain) and ((IsPlayerSpell(v24.CommanderOfTheDeadTalent) and (v7(v24.DarkTransformation)<(1267 -(1091 + 171)))) or ( not IsPlayerSpell(v24.CommanderOfTheDeadTalent) and (v36>=(1 + 0))))) or (v19(94 -64 ,v37)<(116 -81)))) then v41.ArmyOfTheDead=true;end if (v3(v24.RaiseAbomination) and (((v26.StPlanning or v26.AddsRemain) and ( not IsPlayerSpell(v24.VampiricStrikeTalent) or (v32>(374 -(123 + 251))) or  not IsPlayerSpell(v24.ApocalypseTalent))) or (v19(124 -99 ,v37)<(728 -(208 + 490))))) then v41.ArmyOfTheDead=true;end if (v3(v24.SummonGargoyle) and (((v26.StPlanning or v26.AddsRemain) and (v11(v24.CommanderOfTheDeadBuff) or ( not IsPlayerSpell(v24.CommanderOfTheDeadTalent) and (v36>=1)))) or (v19(60,v37)<(3 + 22)))) then v41.SummonGargoyle=true;end WeakAuras.ScanEvents("K_TRIGED_EXTRA",v41,nil);local v42=function() if (v3(v24.FesteringStrike) and (v11(v24.FesteringScytheBuff))) then if ((aura_env.config[tostring(v24.FesteringScy)]==true) and aura_env.FlagKTrigCD) then v22("Festering Scy");elseif (aura_env.config[tostring(v24.FesteringScy)]~=true) then local v114=0 + 0 ;while true do if (v114==(836 -(660 + 176))) then v21("Festering Scy");return true;end end end end if (v3(v24.DeathCoil) and (v28<4) and (v36<v26.EpidemicTargets) and v11(v24.GiftOfTheSanlaynBuff) and (WeakAuras.gcdDuration()<=(1 + 0)) and (v19(262 -(14 + 188) ,v37)>(v5("pet",v24.DarkTransformationBuff) * 2))) then v21("Death Coil");return true;end if (v3(v24.Epidemic) and (v28<(679 -(534 + 141))) and (v36>v26.EpidemicTargets) and v11(v24.GiftOfTheSanlaynBuff) and (WeakAuras.gcdDuration()<=(1 + 0)) and (v19(60,v37)>(v5("pet",v24.DarkTransformationBuff) * 2))) then local v85=0 + 0 ;while true do if (0==v85) then v21("Epidemic");return true;end end end if ( not v11(v24.FesteringScytheBuff) and v3(v24.ScourgeStrike) and (v10(v24.FesteringWoundDebuff)>=(1 + 0)) and v11(v24.DeathAndDecayBuff) and IsPlayerSpell(v24.BurstingSoresTalent) and (v7(v24.Apocalypse)>v26.ApocTiming)) then local v86=0 -0 ;while true do if (v86==(0 -0)) then v21("Scourge Strike");return true;end end end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower and (v36<v26.EpidemicTargets)) then local v87=0 -0 ;while true do if (v87==(0 + 0)) then v21("Death Coil");return true;end end end if (v3(v24.Epidemic) and  not v26.PoolingRunicPower) then local v88=0 + 0 ;while true do if (v88==0) then v21("Epidemic");return true;end end end if ( not v11(v24.FesteringScytheBuff) and v3(v24.ScourgeStrike) and (v13(v24.ChainsOfIceTrollbaneSlowDebuff))) then v21("Scourge Strike");return true;end if ( not v11(v24.FesteringScytheBuff) and v3(v24.FesteringStrike) and ((v7(v24.Apocalypse)<v26.ApocTiming) or v11(v24.FesteringScytheBuff))) then v21("Festering Strike");return true;end if ( not v11(v24.FesteringScytheBuff) and v3(v24.FesteringStrike) and (v10(v24.FesteringWoundDebuff)<(398 -(115 + 281)))) then local v89=0;while true do if (v89==(0 -0)) then v21("Festering Strike");return true;end end end if ( not v11(v24.FesteringScytheBuff) and v3(v24.ScourgeStrike) and (((v10(v24.FesteringWoundDebuff)>=(1 + 0)) and (v7(v24.Apocalypse)>WeakAuras.gcdDuration())) or ((FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike) and v13(v24.VirulentPlagueDebuff)))) then v21("Scourge Strike");return true;end end;local v43=function() if (v3(v24.FesteringStrike) and (v11(v24.FesteringScytheBuff))) then if ((aura_env.config[tostring(v24.FesteringScy)]==true) and aura_env.FlagKTrigCD) then v22("Festering Scy");elseif (aura_env.config[tostring(v24.FesteringScy)]~=true) then local v115=0 -0 ;while true do if (v115==(0 -0)) then v21("Festering Scy");return true;end end end end if (v3(v24.DeathCoil) and (((FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike) and (v36<v26.EpidemicTargets) and ( not IsPlayerSpell(v24.BurstingSoresTalent) or (IsPlayerSpell(v24.BurstingSoresTalent) and (v35<v36) and (v35<(v36 * 0.4)) and v11(v24.SuddenDoomBuff)) or (v11(v24.SuddenDoomBuff) and ((IsPlayerSpell(v24.DoomedBiddingTalent) and IsPlayerSpell(v24.MenacingMagusTalent)) or IsPlayerSpell(v24.RottenTouchTalent) or (v6("target",v24.DeathRotDebuff)<WeakAuras.gcdDuration()))) or (v28<(869 -(550 + 317))))) or (((v28<(5 -1)) or (v36<(4 -0))) and (v36<v26.EpidemicTargets) and v11(v24.GiftOfTheSanlaynBuff) and (WeakAuras.gcdDuration()<=1) and (v19(167 -107 ,v37)>(v5("pet",v24.DarkTransformationBuff) * (287 -(134 + 151))))))) then local v90=0;while true do if (0==v90) then v21("Death Coil");return true;end end end if (v3(v24.Epidemic) and (((FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike) and ( not IsPlayerSpell(v24.BurstingSoresTalent) or (IsPlayerSpell(v24.BurstingSoresTalent) and (v35<v36) and (v35<(v36 * (1665.4 -(970 + 695)))) and v11(v24.SuddenDoomBuff)) or (v11(v24.SuddenDoomBuff) and (v11(v24.AFeastOfSoulsBuff) or (v6("target",v24.DeathRotDebuff)<WeakAuras.gcdDuration()) or (v10(v24.DeathRotDebuff)<10))) or (v28<(3 -1)))) or ((v28<4) and (v36>v26.EpidemicTargets) and v11(v24.GiftOfTheSanlaynBuff) and (WeakAuras.gcdDuration()<=1) and (v19(2050 -(582 + 1408) ,v37)>(v5("pet",v24.DarkTransformationBuff) * (6 -4)))))) then v21("Epidemic");return true;end if ( not v11(v24.FesteringScytheBuff) and v3(v24.ScourgeStrike) and (v13(v24.ChainsOfIceTrollbaneSlowDebuff))) then v21("Scourge Strike");return true;end if ( not v11(v24.FesteringScytheBuff) and v3(v24.ScourgeStrike) and ((v10(v24.FesteringWoundDebuff)>=(1 -0)) or (FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike) or v11(v24.DeathAndDecayBuff))) then local v91=0 -0 ;while true do if (v91==0) then v21("Scourge Strike");return true;end end end if (v3(v24.DeathCoil) and (v36<v26.EpidemicTargets)) then v21("Death Coil");return true;end if (v3(v24.Epidemic) and (v26.EpidemicTargets<=v36)) then local v92=1824 -(1195 + 629) ;while true do if (v92==(0 -0)) then v21("Epidemic");return true;end end end if ( not v11(v24.FesteringScytheBuff) and v3(v24.FesteringStrike) and (v10(v24.FesteringWoundDebuff)<=(243 -(187 + 54)))) then v21("Festering Strike");return true;end if ( not v11(v24.FesteringScytheBuff) and v3(v24.ScourgeStrike)) then v21("Scourge Strike");return true;end end;local v44=function() local v62=780 -(162 + 618) ;while true do if (v62==(0 + 0)) then if (v3(v24.FesteringStrike) and (v11(v24.FesteringScytheBuff))) then if ((aura_env.config[tostring(v24.FesteringScy)]==true) and aura_env.FlagKTrigCD) then v22("Festering Scy");elseif (aura_env.config[tostring(v24.FesteringScy)]~=true) then v21("Festering Scy");return true;end end if ( not v11(v24.FesteringScytheBuff) and v3(v24.FesteringStrike) and IsPlayerSpell(v24.VileContagion) and (v7(v24.VileContagion)<(4 + 1)) and  not (v10(v24.FesteringWoundDebuff)==(12 -6))) then local v100=0;while true do if (v100==(0 -0)) then v21("Festering Strike");return true;end end end if ( not v11(v24.FesteringScytheBuff) and v3(v24.FesteringStrike) and (v35==(0 + 0)) and (v7(v24.Apocalypse)<WeakAuras.gcdDuration())) then v21("Festering Strike");return true;end v62=1637 -(1373 + 263) ;end if (v62==3) then if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower and (v36<v26.EpidemicTargets)) then local v101=1000 -(451 + 549) ;while true do if (v101==0) then v21("Death Coil");return true;end end end if (v3(v24.Epidemic) and  not v26.PoolingRunicPower) then v21("Epidemic");return true;end if ( not v11(v24.FesteringScytheBuff) and v3(v24.FesteringStrike) and (v35<(3 + 5)) and ( not v35==v36)) then v21("Festering Strike");return true;end v62=5 -1 ;end if (v62==(2 -0)) then if (v3(v24.DeathAndDecay) and  not v11(v24.DeathAndDecayBuff) and (( not IsPlayerSpell(v24.BurstingSoresTalent) and  not IsPlayerSpell(v24.VileContagion)) or (v35==v36) or (v35>=(1392 -(746 + 638))) or ( not v11(v24.DeathAndDecayBuff) and IsPlayerSpell(v24.Defile) and (v28>3)))) then if ((aura_env.config[tostring(v24.DeathAndDecay)]==true) and aura_env.FlagKTrigCD) then v22("Death and Decay");elseif (aura_env.config[tostring(v24.DeathAndDecay)]~=true) then local v120=0 + 0 ;while true do if (v120==(0 -0)) then v21("Death and Decay");return true;end end end end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower and (v36<v26.EpidemicTargets) and (v11(v24.SuddenDoomBuff) or (v35==v36) or (v35>=(349 -(218 + 123))))) then v21("Death Coil");return true;end if (v3(v24.Epidemic) and  not v26.PoolingRunicPower and (v26.EpidemicTargets<=v36) and (v11(v24.SuddenDoomBuff) or (v35==v36) or (v35>=(1589 -(1535 + 46))))) then v21("Epidemic");return true;end v62=3 + 0 ;end if (v62==(1 + 0)) then if ( not v11(v24.FesteringScytheBuff) and v3(v24.ScourgeStrike) and (v13(v24.ChainsOfIceTrollbaneSlowDebuff))) then local v102=560 -(306 + 254) ;while true do if (v102==(0 + 0)) then v21("Scourge Strike");return true;end end end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower and v11(v24.SuddenDoomBuff) and (v36<v26.EpidemicTargets) and (v28<(7 -3))) then local v103=1467 -(899 + 568) ;while true do if (v103==0) then v21("Death Coil");return true;end end end if (v3(v24.Epidemic) and  not v26.PoolingRunicPower and (v26.EpidemicTargets<=v36) and (v28<(3 + 1))) then local v104=0 -0 ;while true do if (v104==0) then v21("Epidemic");return true;end end end v62=2;end if (v62==4) then if ( not v11(v24.FesteringScytheBuff) and v3(v24.ScourgeStrike) and (FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike)) then local v105=0;while true do if (v105==0) then v21("Scourge Strike");return true;end end end break;end end end;local v45=function() if (v3(v24.DarkTransformation) and ((v26.StPlanning and ((v7(v24.Apocalypse)<8) or  not IsPlayerSpell(v24.Apocalypse) or (v36>=1))) or (v19(663 -(268 + 335) ,v37)<20))) then if ((aura_env.config[tostring(v24.DarkTransformation)]==true) and aura_env.FlagKTrigCD) then v22("Dark Transformation");elseif (aura_env.config[tostring(v24.DarkTransformation)]~=true) then local v116=0;while true do if (v116==(290 -(60 + 230))) then v21("Dark Transformation");return true;end end end end if (v3(v24.UnholyAssault) and ((v26.StPlanning and ((v7(v24.Apocalypse)<(WeakAuras.gcdDuration() * 2)) or  not IsPlayerSpell(v24.Apocalypse) or ((v36>=2) and WA_GetUnitBuff("pet",v24.DarkTransformationBuff)))) or (v19(60,v37)<20))) then if ((aura_env.config[tostring(v24.UnholyAssault)]==true) and aura_env.FlagKTrigCD) then v22("Unholy Assault");elseif (aura_env.config[tostring(v24.UnholyAssault)]~=true) then local v117=0;while true do if (v117==(572 -(426 + 146))) then v21("Unholy Assault");return true;end end end end if (v3(v24.Apocalypse) and (v26.StPlanning or (v19(8 + 52 ,v37)<20))) then if ((aura_env.config[tostring(v24.Apocalypse)]==true) and aura_env.FlagKTrigCD) then v22("Apocalypse");elseif (aura_env.config[tostring(v24.Apocalypse)]~=true) then v21("Apocalypse");return true;end end if (v3(v24.Outbreak) and (v18(1456 -(282 + 1174) ,871 -(569 + 242) )>v6("target",v24.VirulentPlagueDebuff)) and (floor(v6("target",v24.VirulentPlagueDebuff)/(2.5 -1) )<(1 + 4)) and (v20(v24.VirulentPlagueDebuff) or (IsPlayerSpell(v24.SuperstrainTalent) and (v20(v24.FrostFeverDebuff) or v20(v24.BloodPlagueDebuff)))) and ( not IsPlayerSpell(v24.UnholyBlightTalent) or IsPlayerSpell(v24.PlaguebringerTalent)) and ( not IsPlayerSpell(v24.RaiseAbomination) or (IsPlayerSpell(v24.RaiseAbomination) and true))) then v21("Outbreak");return true;end end;local v46=function() local v63=1024 -(706 + 318) ;while true do if ((1253 -(721 + 530))==v63) then if (v3(v24.Apocalypse) and v26.AddsRemain and (v28<=3)) then if ((aura_env.config[tostring(v24.Apocalypse)]==true) and aura_env.FlagKTrigCD) then v22("Apocalypse");elseif (aura_env.config[tostring(v24.Apocalypse)]~=true) then local v121=0;while true do if (v121==(1271 -(945 + 326))) then v21("Apocalypse");return true;end end end end break;end if (v63==0) then if (v3(v24.VileContagion) and (v10(v24.FesteringWoundDebuff)>=(9 -5)) and v26.AddsRemain) then if ((aura_env.config[tostring(v24.VileContagion)]==true) and aura_env.FlagKTrigCD) then v22("Vile Contagion");elseif (aura_env.config[tostring(v24.VileContagion)]~=true) then v21("Vile Contagion");return true;end end if (v3(v24.UnholyAssault) and v26.AddsRemain and (((v10(v24.FesteringWoundDebuff)>=2) and (v7(v24.VileContagion)<3)) or  not IsPlayerSpell(v24.VileContagion))) then if ((aura_env.config[tostring(v24.UnholyAssault)]==true) and aura_env.FlagKTrigCD) then v22("Unholy Assault");elseif (aura_env.config[tostring(v24.UnholyAssault)]~=true) then local v122=0 + 0 ;while true do if ((700 -(271 + 429))==v122) then v21("Unholy Assault");return true;end end end end v63=1 + 0 ;end if (1==v63) then if (v3(v24.DarkTransformation) and v26.AddsRemain and ((v7(v24.VileContagion)>(1505 -(1408 + 92))) or  not IsPlayerSpell(v24.VileContagion) or v11(v24.DeathAndDecayBuff) or (v7(v24.DeathAndDecay)<(1089 -(461 + 625))))) then if ((aura_env.config[tostring(v24.DarkTransformation)]==true) and aura_env.FlagKTrigCD) then v22("Dark Transformation");elseif (aura_env.config[tostring(v24.DarkTransformation)]~=true) then local v123=1288 -(993 + 295) ;while true do if (v123==(0 + 0)) then v21("Dark Transformation");return true;end end end end if (v3(v24.Outbreak) and (floor(v6("target",v24.VirulentPlagueDebuff)/1.5 )<5) and v20(v24.VirulentPlagueDebuff) and ( not IsPlayerSpell(v24.UnholyBlightTalent) or (IsPlayerSpell(v24.UnholyBlightTalent) and true)) and ( not IsPlayerSpell(v24.RaiseAbomination) or (IsPlayerSpell(v24.RaiseAbomination) and true))) then v21("Outbreak");return true;end v63=1173 -(418 + 753) ;end end end;local v47=function() local v64=0;while true do if (v64==(1 + 1)) then if (v3(v24.Outbreak) and true and (v20(v24.VirulentPlagueDebuff) or (IsPlayerSpell(v24.MorbidityTalent) and  not v11(v24.GiftOfTheSanlaynBuff) and IsPlayerSpell(v24.SuperstrainTalent) and v20(v24.FrostFeverDebuff) and v20(v24.BloodPlagueDebuff))) and (( not v13(v24.VirulentPlagueDebuff) and (v26.EpidemicTargets<v36)) or (( not IsPlayerSpell(v24.UnholyBlightTalent) or (IsPlayerSpell(v24.UnholyBlightTalent) and true)) and ( not IsPlayerSpell(v24.RaiseAbomination) or (IsPlayerSpell(v24.RaiseAbomination) and true))))) then v21("Outbreak");return true;end if (v3(v24.Apocalypse) and v26.AddsRemain and (v28<=(1 + 2))) then if ((aura_env.config[tostring(v24.Apocalypse)]==true) and aura_env.FlagKTrigCD) then v22("Apocalypse");elseif (aura_env.config[tostring(v24.Apocalypse)]~=true) then v21("Apocalypse");return true;end end break;end if (v64==(1 + 0)) then if (v3(v24.UnholyAssault) and (v10(v24.FesteringWoundDebuff)<3) and v26.AddsRemain and IsPlayerSpell(v24.VileContagion) and (v10(v24.FesteringWoundDebuff)<=2) and (v7(v24.VileContagion)<(2 + 4))) then if ((aura_env.config[tostring(v24.UnholyAssault)]==true) and aura_env.FlagKTrigCD) then v22("Unholy Assault");elseif (aura_env.config[tostring(v24.UnholyAssault)]~=true) then v21("Unholy Assault");return true;end end if (v3(v24.UnholyAssault) and v26.AddsRemain and  not IsPlayerSpell(v24.VileContagion) and WA_GetUnitBuff("pet",v24.DarkTransformationBuff) and (v5("pet",v24.DarkTransformationBuff)<12)) then if ((aura_env.config[tostring(v24.UnholyAssault)]==true) and aura_env.FlagKTrigCD) then v22("Unholy Assault");elseif (aura_env.config[tostring(v24.UnholyAssault)]~=true) then local v124=529 -(406 + 123) ;while true do if (v124==0) then v21("Unholy Assault");return true;end end end end v64=2;end if (v64==(1769 -(1749 + 20))) then if (v3(v24.VileContagion) and (v10(v24.FesteringWoundDebuff)>=(1 + 3)) and v26.AddsRemain) then if ((aura_env.config[tostring(v24.VileContagion)]==true) and aura_env.FlagKTrigCD) then v22("Vile Contagion");elseif (aura_env.config[tostring(v24.VileContagion)]~=true) then local v125=1322 -(1249 + 73) ;while true do if (v125==0) then v21("Vile Contagion");return true;end end end end if (v3(v24.DarkTransformation) and v26.AddsRemain and (v11(v24.DeathAndDecayBuff) or (v36<=(2 + 1)))) then if ((aura_env.config[tostring(v24.DarkTransformation)]==true) and aura_env.FlagKTrigCD) then v22("Dark Transformation");elseif (aura_env.config[tostring(v24.DarkTransformation)]~=true) then v21("Dark Transformation");return true;end end v64=1146 -(466 + 679) ;end end end;local v48=function() local v65=0;while true do if ((0 -0)==v65) then if (v3(v24.DarkTransformation) and ((v11(v24.DeathAndDecayBuff) and ((IsPlayerSpell(v24.ApocalypseTalent) and (v32>0)) or  not IsPlayerSpell(v24.ApocalypseTalent))) or (v19(171 -111 ,v37)<(1920 -(106 + 1794))))) then if ((aura_env.config[tostring(v24.DarkTransformation)]==true) and aura_env.FlagKTrigCD) then v22("Dark Transformation");elseif (aura_env.config[tostring(v24.DarkTransformation)]~=true) then v21("Dark Transformation");return true;end end if (v3(v24.UnholyAssault) and ((WA_GetUnitBuff("pet",v24.DarkTransformationBuff) and (v5("pet",v24.DarkTransformationBuff)<12)) or (v19(19 + 41 ,v37)<(6 + 14)))) then if ((aura_env.config[tostring(v24.UnholyAssault)]==true) and aura_env.FlagKTrigCD) then v22("Unholy Assault");elseif (aura_env.config[tostring(v24.UnholyAssault)]~=true) then local v126=0 -0 ;while true do if ((0 -0)==v126) then v21("Unholy Assault");return true;end end end end v65=115 -(4 + 110) ;end if (v65==(585 -(57 + 527))) then if v3(v24.Apocalypse) then if ((aura_env.config[tostring(v24.Apocalypse)]==true) and aura_env.FlagKTrigCD) then v22("Apocalypse");elseif (aura_env.config[tostring(v24.Apocalypse)]~=true) then local v127=1427 -(41 + 1386) ;while true do if (v127==(103 -(17 + 86))) then v21("Apocalypse");return true;end end end end if (v3(v24.Outbreak) and (v18(0,60)>v6("target",v24.VirulentPlagueDebuff)) and true and (v20(v24.VirulentPlagueDebuff) or (IsPlayerSpell(v24.MorbidityTalent) and v11(v24.InflictionOfSorrowBuff) and IsPlayerSpell(v24.SuperstrainTalent) and v20(v24.FrostFeverDebuff) and v20(v24.BloodPlagueDebuff))) and ( not IsPlayerSpell(v24.UnholyBlightTalent) or (IsPlayerSpell(v24.UnholyBlightTalent) and true)) and ( not IsPlayerSpell(v24.RaiseAbominationTalent) or (IsPlayerSpell(v24.RaiseAbominationTalent) and true))) then local v106=0 + 0 ;while true do if (v106==(0 -0)) then v21("Outbreak");return true;end end end break;end end end;local v49=function() if (v3(v24.DarkTransformation) and (((v36>=(2 -1)) and v26.StPlanning and ((IsPlayerSpell(v24.Apocalypse) and (v32>0)) or  not IsPlayerSpell(v24.Apocalypse))) or (v19(226 -(122 + 44) ,v37)<(34 -14)))) then if ((aura_env.config[tostring(v24.DarkTransformation)]==true) and aura_env.FlagKTrigCD) then v22("Dark Transformation");elseif (aura_env.config[tostring(v24.DarkTransformation)]~=true) then local v118=0;while true do if (v118==(0 -0)) then v21("Dark Transformation");return true;end end end end if (v3(v24.UnholyAssault) and ((v26.StPlanning and WA_GetUnitBuff("pet",v24.DarkTransformationBuff) and (v5("pet",v24.DarkTransformationBuff)<(10 + 2))) or (v19(9 + 51 ,v37)<(40 -20)))) then if ((aura_env.config[tostring(v24.UnholyAssault)]==true) and aura_env.FlagKTrigCD) then v22("Unholy Assault");elseif (aura_env.config[tostring(v24.UnholyAssault)]~=true) then local v119=65 -(30 + 35) ;while true do if (v119==(0 + 0)) then v21("Unholy Assault");return true;end end end end if (v3(v24.Apocalypse) and (v26.StPlanning or (v19(1317 -(1043 + 214) ,v37)<(75 -55)))) then if ((aura_env.config[tostring(v24.Apocalypse)]==true) and aura_env.FlagKTrigCD) then v22("Apocalypse");elseif (aura_env.config[tostring(v24.Apocalypse)]~=true) then v21("Apocalypse");return true;end end if (v3(v24.Outbreak) and (v18(0,1272 -(323 + 889) )>v6("target",v24.VirulentPlagueDebuff)) and true and (v20(v24.VirulentPlagueDebuff) or (IsPlayerSpell(v24.MorbidityTalent) and v11(v24.InflictionOfSorrowBuff) and IsPlayerSpell(v24.SuperstrainTalent) and v20(v24.FrostFeverDebuff) and v20(v24.BloodPlagueDebuff))) and ( not IsPlayerSpell(v24.UnholyBlightTalent) or (IsPlayerSpell(v24.UnholyBlightTalent) and true)) and ( not IsPlayerSpell(v24.RaiseAbomination) or (IsPlayerSpell(v24.RaiseAbomination) and true))) then local v93=0 -0 ;while true do if (v93==(580 -(361 + 219))) then v21("Outbreak");return true;end end end end;local v50=function() local v66=320 -(53 + 267) ;while true do if (v66==(0 + 0)) then if (v3(v24.DeathAndDecay) and  not v11(v24.DeathAndDecayBuff) and v26.AddsRemain and ((v7(v24.Apocalypse)>0) or  not IsPlayerSpell(v24.Apocalypse))) then if ((aura_env.config[tostring(v24.DeathAndDecay)]==true) and aura_env.FlagKTrigCD) then v22("Death and Decay");elseif (aura_env.config[tostring(v24.DeathAndDecay)]~=true) then v21("Death and Decay");return true;end end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower and IsPlayerSpell(v24.ImprovedDeathCoilTalent)) then local v107=0;while true do if (v107==(413 -(15 + 398))) then v21("Death Coil");return true;end end end v66=1;end if (v66==(983 -(18 + 964))) then if (v3(v24.ScourgeStrike) and (FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike)) then local v108=0 -0 ;while true do if (v108==(0 + 0)) then v21("Scourge Strike");return true;end end end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower and  not IsPlayerSpell(v24.ImprovedDeathCoilTalent)) then v21("Death Coil");return true;end v66=2 + 0 ;end if (3==v66) then if ( not v11(v24.FesteringScytheBuff) and v3(v24.FesteringStrike) and (FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike) and (v7(v24.Apocalypse)<v26.ApocTiming) and (v10(v24.FesteringWoundDebuff)<(851 -(20 + 830)))) then v21("Festering Strike");return true;end if ( not v11(v24.FesteringScytheBuff) and v3(v24.ScourgeStrike) and v26.PopWounds) then v21("Scourge Strike");return true;end break;end if (v66==2) then if (v3(v24.FesteringStrike) and (v11(v24.FesteringScytheBuff))) then if ((aura_env.config[tostring(v24.FesteringScy)]==true) and aura_env.FlagKTrigCD) then v22("Festering Scy");elseif (aura_env.config[tostring(v24.FesteringScy)]~=true) then local v128=0 + 0 ;while true do if (v128==0) then v21("Festering Scy");return true;end end end end if ( not v11(v24.FesteringScytheBuff) and v3(v24.FesteringStrike) and (((FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike) and  not v26.PopWounds and (v10(v24.FesteringWoundDebuff)<(128 -(116 + 10)))) or v11(v24.FesteringScytheBuff))) then v21("Festering Strike");return true;end v66=1 + 2 ;end end end;local v51=function() local v67=0;while true do if (v67==3) then if (v3(v24.FesteringStrike) and (v10(v24.FesteringWoundDebuff)<((741 -(542 + 196)) -(((v34>(0 -0)) and 1) or 0)))) then local v109=0 + 0 ;while true do if (v109==0) then v21("Festering Strike");return true;end end end break;end if (v67==(0 + 0)) then if (v3(v24.ScourgeStrike) and (v11(v24.InflictionOfSorrowBuff))) then v21("Scourge Strike");return true;end if (v3(v24.DeathAndDecay) and  not v11(v24.DeathAndDecayBuff) and (FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike)) then if ((aura_env.config[tostring(v24.DeathAndDecay)]==true) and aura_env.FlagKTrigCD) then v22("Death and Decay");elseif (aura_env.config[tostring(v24.DeathAndDecay)]~=true) then v21("Death and Decay");return true;end end v67=1;end if (v67==(1 + 1)) then if (v3(v24.DeathCoil) and (FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike)) then local v110=0 -0 ;while true do if (v110==(0 -0)) then v21("Death Coil");return true;end end end if (v3(v24.ScourgeStrike) and (((v10(v24.FesteringWoundDebuff)>=((1554 -(1126 + 425)) -(((v34>(405 -(118 + 287))) and (3 -2)) or 0))) and (v7(v24.Apocalypse)>v26.ApocTiming)) or (FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike))) then local v111=1121 -(118 + 1003) ;while true do if (v111==(0 -0)) then v21("Scourge Strike");return true;end end end v67=3;end if (v67==(378 -(142 + 235))) then if (v3(v24.DeathCoil) and ((v11(v24.SuddenDoomBuff) and IsPlayerSpell(v24.DoomedBiddingTalent)) or ((v27>=4) and (v9(v24.EssenceOfTheBloodQueenBuff)==(31 -24)) and IsPlayerSpell(v24.FrenziedBloodthirstTalent) and (FindSpellOverrideByID(v24.ScourgeStrike)~=v24.VampiricStrike)))) then local v112=0;while true do if (v112==(0 + 0)) then v21("Death Coil");return true;end end end if (v3(v24.SoulReaper) and (((UnitHealth("target")/UnitHealthMax("target")) * (1077 -(553 + 424)))<=(65 -30)) and (v19(53 + 7 ,v37)>(5 + 0))) then local v113=0;while true do if (v113==(0 + 0)) then v21("Soul Reaper");return true;end end end v67=1 + 1 ;end end end;local v52=function() if (v3(v24.DeathAndDecay) and  not v11(v24.DeathAndDecayBuff) and IsPlayerSpell(v24.UnholyGroundTalent) and (v7(v24.DarkTransformation)<(3 + 2))) then if ((aura_env.config[tostring(v24.DeathAndDecay)]==true) and aura_env.FlagKTrigCD) then v22("Death and Decay");elseif (aura_env.config[tostring(v24.DeathAndDecay)]~=true) then v21("Death and Decay");return true;end end if (v3(v24.ScourgeStrike) and (v11(v24.InflictionOfSorrowBuff))) then v21("Scourge Strike");return true;end if (v3(v24.DeathCoil) and ((v11(v24.SuddenDoomBuff) and v5("player",v24.GiftOfTheSanlaynBuff) and (IsPlayerSpell(v24.DoomedBiddingTalent) or IsPlayerSpell(v24.RottenTouchTalent))) or ((v28<(6 -3)) and  not v11(v24.RunicCorruptionBuff)) or ((v27>=4) and (v29>80)) or (v11(v24.GiftOfTheSanlaynBuff) and (v9(v24.EssenceOfTheBloodQueenBuff)==7) and IsPlayerSpell(v24.FrenziedBloodthirstTalent) and (v27>=4) and (v9(v24.WinningStreakBuff)==10) and (v28<=3) and (v5("player",v24.EssenceOfTheBloodQueenBuff)>(7 -4))))) then local v94=0;while true do if ((0 -0)==v94) then v21("Death Coil");return true;end end end if (v3(v24.ScourgeStrike) and (((FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike) and (v10(v24.FesteringWoundDebuff)>=(1 + 0))) or v11(v24.GiftOfTheSanlaynBuff) or (IsPlayerSpell(v24.GiftOfTheSanlaynTalent) and v11(v24.DarkTransformation) and (v5("player",v24.DarkTransformation)<WeakAuras.gcdDuration())))) then local v95=0 -0 ;while true do if (v95==(753 -(239 + 514))) then v21("Scourge Strike");return true;end end end if (v3(v24.SoulReaper) and (((UnitHealth("target")/UnitHealthMax("target")) * (36 + 64))<=(1364 -(797 + 532))) and  not v11(v24.GiftOfTheSanlaynBuff) and (v19(60,v37)>5)) then v21("Soul Reaper");return true;end if (v3(v24.FesteringStrike) and (((v10(v24.FesteringWoundDebuff)==(0 + 0)) and (v7(v24.Apocalypse)<v26.ApocTiming)) or (((IsPlayerSpell(v24.GiftOfTheSanlaynTalent) and  not v11(v24.GiftOfTheSanlaynBuff)) or  not IsPlayerSpell(v24.GiftOfTheSanlaynTalent)) and (v11(v24.FesteringScytheBuff) or (v10(v24.FesteringWoundDebuff)<=(1 + 0)))))) then v21("Festering Strike");return true;end if (v3(v24.ScourgeStrike) and ( not IsPlayerSpell(v24.ApocalypseTalent) or (v7(v24.Apocalypse)>v26.ApocTiming)) and ((v10(v24.FesteringWoundDebuff)>=((6 -3) -(((v34>(1202 -(373 + 829))) and (732 -(476 + 255))) or (1130 -(369 + 761))))) or (FindSpellOverrideByID(v24.ScourgeStrike)==v24.VampiricStrike))) then v21("Scourge Strike");return true;end if (v3(v24.DeathCoil) and (( not v26.PoolingRunicPower and (v6("target",v24.DeathRotDebuff)<WeakAuras.gcdDuration())) or (v11(v24.SuddenDoomBuff) and (v10(v24.FesteringWoundDebuff)>=(1 + 0))) or (v28<(2 -0)))) then local v96=0 -0 ;while true do if (v96==0) then v21("Death Coil");return true;end end end if (v3(v24.ScourgeStrike) and (v10(v24.FesteringWoundDebuff)>(242 -(64 + 174)))) then v21("Scourge Strike");return true;end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower) then v21("Death Coil");return true;end end;local v53=function() if (v3(v24.SoulReaper) and (((UnitHealth("target")/UnitHealthMax("target")) * (15 + 85))<=(51 -16)) and (v19(396 -(144 + 192) ,v37)>(221 -(42 + 174)))) then v21("Soul Reaper");return true;end if (v3(v24.ScourgeStrike) and (v13(v24.ChainsOfIceTrollbaneSlowDebuff))) then local v97=0 + 0 ;while true do if (v97==(0 + 0)) then v21("Scourge Strike");return true;end end end if (v3(v24.DeathAndDecay) and IsPlayerSpell(v24.UnholyGroundTalent) and  not v11(v24.DeathAndDecayBuff) and ((v32>0) or (v34>0) or (v31>0))) then if ((aura_env.config[tostring(v24.DeathAndDecay)]==true) and aura_env.FlagKTrigCD) then v22("Death and Decay");elseif (aura_env.config[tostring(v24.DeathAndDecay)]~=true) then v21("Death and Decay");return true;end end if (v3(v24.DeathCoil) and (( not v26.PoolingRunicPower and v26.SpendRp) or (v19(60,v37)<(5 + 5)))) then v21("Death Coil");return true;end if (v3(v24.FesteringStrike) and (v10(v24.FesteringWoundDebuff)<4) and ( not v26.PopWounds or v11(v24.FesteringScytheBuff))) then local v98=1504 -(363 + 1141) ;while true do if ((1580 -(1183 + 397))==v98) then v21("Festering Strike");return true;end end end if (v3(v24.ScourgeStrike) and v26.PopWounds) then v21("Scourge Strike");return true;end if (v3(v24.DeathCoil) and  not v26.PoolingRunicPower) then v21("Death Coil");return true;end if (v3(v24.ScourgeStrike) and  not v26.PopWounds and (v10(v24.FesteringWoundDebuff)>=(11 -7))) then local v99=0;while true do if (v99==0) then v21("Scourge Strike");return true;end end end end;if (IsPlayerSpell(v24.VampiricStrikeTalent) and (v36>=3)) then if v47() then return true;end end if ( not IsPlayerSpell(v24.VampiricStrikeTalent) and (v36>=2)) then if v46() then return true;end end if (IsPlayerSpell(v24.VampiricStrikeTalent) and (v36==2)) then if v48() then return true;end end if (IsPlayerSpell(v24.VampiricStrikeTalent) and (v36<=(1 + 0))) then if v49() then return true;end end if ( not IsPlayerSpell(v24.VampiricStrikeTalent) and (v36<=(1 + 0))) then if v45() then return true;end end if (v36==2) then if v50() then return true;end end if ((v36>=(1978 -(1913 + 62))) and (v7(v24.DeathAndDecay)<(7 + 3)) and  not v11(v24.DeathAndDecayBuff)) then if v44() then return true;end end if ((v36>=3) and (v11(v24.DeathAndDecayBuff) or (v11(v24.DeathAndDecayBuff) and ((v35>=(v36 * (0.5 -0))) or (IsPlayerSpell(v24.VampiricStrikeTalent) and (v36<(1949 -(565 + 1368)))))))) then if v43() then return true;end end if ((v36>=(11 -8)) and  not v11(v24.DeathAndDecayBuff)) then if v42() then return true;end end if ((v36<=1) and IsPlayerSpell(v24.GiftOfTheSanlaynTalent) and  not v3(v24.DarkTransformation) and  not v11(v24.GiftOfTheSanlaynBuff) and (v5("player",v24.EssenceOfTheBloodQueenBuff)<(v7(v24.DarkTransformation) + (1664 -(1477 + 184))))) then v51();return true;end if ((v36<=1) and IsPlayerSpell(v24.VampiricStrikeTalent)) then if v52() then return true;end end if ((v36<=1) and  not IsPlayerSpell(v24.VampiricStrikeTalent)) then if v53() then return true;end end v21("Clear");v22("Clear");end;